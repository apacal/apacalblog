<include file="Public:header" />
<include file="Public:selectbtn" />
    <div class="table-responsive">
        <table id="sample-table-2" class="table table-striped table-bordered table-hover">
            <thead>
                <tr>
                    <th class="center">
                        <label>
                            <input type="checkbox" class="ace" />
                            <span class="lbl"></span>
                        </label>
                    </th>

                    <th width="6%">ID</th>
                    <th width="6%">PID</th>
                    <th>评论人</th>
                    <th>来源</th>
                    <th width="25%">内容</th>
                    <th width="10%">IP</th>

                    <th width="15%">
                        <i class="icon-time bigger-110 hidden-480"></i>
                        添加时间
                    </th>
                    <th width="8%" class="hidden-480">状态</th>

                    <th width="20%">操作</th>
                </tr>
            </thead>

            <tbody>

                <volist name="list" id="vo">
                    <tr>
                        <td class="center">
                            <label>
                                <input type="checkbox" class="ace" name="checkid" value="{$vo.id}" />
                                <span class="lbl"></span>
                            </label>
                        </td>
                        <td>{$vo.id}</td>
                        <td>{$vo.pid}</td>
                        <td>{$vo.author}</td>
                        <td>{$vo.oid}</td>
                        <td>
                            <a href="__CONTROLLER__/edit/id/{$vo.id}">{$vo.content}</a>
                        </td>
                        <td>{$vo.ip}</td>
                        <td>{$vo.createtime|date="Y-m-d H:i", ###}</td>

                        <td >
                            <if condition="$vo.status eq 1">
                                <span class="label label-success arrowed">允许</span>
                            <else />
                                <span class="label label-info arrowed-right">禁止</span>
                            </if>
                        </td>

                        <td>
                            <div class="visible-md visible-lg hidden-sm hidden-xs action-buttons">
                                &nbsp;&nbsp;&nbsp;&nbsp;
                                <a target="_blank" href="__ROOT__/article/{$vo.oid}.html" class="tooltip-info" data-rel="tooltip" title="View">
                                    <span class="blue">
                                        <i class="icon-zoom-in bigger-120"></i>
                                    </span>
                                </a>
                                &nbsp;&nbsp;&nbsp;&nbsp;
                                <a href="__CONTROLLER__/edit/id/{$vo.id}" class="tooltip-success" data-rel="tooltip" title="Edit">
                                    <span class="green">
                                        <i class="icon-edit bigger-120"></i>
                                    </span>
                                </a>
                                &nbsp;&nbsp;&nbsp;&nbsp;
                                <a data-toggle="modal" data-target="#modal-{$vo.id}" class="tooltip-error" data-rel="tooltip" title="Delete">
                                    <span class="red">
                                        <i class="icon-trash bigger-120"></i>
                                    </span>
                                </a>
                                <!-- Modal -->
                                <div class="modal fade" id="modal-{$vo.id}" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
                                  <div class="modal-dialog">
                                    <div class="modal-content">
                                      <div class="modal-header">
                                        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                                        <h4 class="modal-title" id="myModalLabel">警告您确定要删除</h4>
                                      </div>
                                      <div class="modal-body">
                                      {$vo.id}----{$vo.description}
                                      </div>
                                      <div class="modal-footer">
                                        <a><button type="button" class="btn btn-default" data-dismiss="modal">关闭</button></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                        <a href="__CONTROLLER__/del/id/{$vo.id}"><button type="button" class="btn btn-primary">确定</button></a>
                                      </div>
                                    </div><!-- /.modal-content -->
                                  </div><!-- /.modal-dialog -->
                                </div><!-- /.mod -->
                            </div>



                            <div class="visible-xs visible-sm hidden-md hidden-lg">
                                <div class="inline position-relative">
                                    <button class="btn btn-minier btn-yellow dropdown-toggle" data-toggle="dropdown">
                                        <i class="icon-caret-down icon-only bigger-120"></i>
                                    </button>

                                    <ul class="dropdown-menu dropdown-only-icon dropdown-yellow pull-right dropdown-caret dropdown-close">
                                </div>
                            </div>
                        </td>
                    </tr>
                </volist>


        </table>
    </div>

		<!-- page specific plugin scripts -->

    <script src="__ACE__/js/jquery.dataTables.min.js"></script>
    <script src="__ACE__/js/jquery.dataTables.bootstrap.js"></script>
    <script type="text/javascript">
        jQuery(function($) {
            var oTable1 = $('#sample-table-2').dataTable( {
                "aoColumns": [
                    { "bSortable": false },
                    null,null, null,null, null, null,null,null,
                    { "bSortable": false }
                    ],
            } );
            $('table th input:checkbox').on('click' , function(){
                var that = this;
                $(this).closest('table').find('tr > td:first-child input:checkbox')
                .each(function(){
                    this.checked = that.checked;
                    $(this).closest('tr').toggleClass('selected');
                });

            });


            $('[data-rel="tooltip"]').tooltip({placement: tooltip_placement});
            function tooltip_placement(context, source) {
                var $source = $(source);
                var $parent = $source.closest('table')
                var off1 = $parent.offset();
                var w1 = $parent.width();

                var off2 = $source.offset();
                var w2 = $source.width();

                if( parseInt(off2.left) < parseInt(off1.left) + parseInt(w1 / 2) ) return 'top';
                return 'top';
            }
        })
    </script>
<include file="Public:select" />
<include file="Public:footer" />
