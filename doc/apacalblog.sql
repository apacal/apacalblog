-- MySQL dump 10.13  Distrib 5.5.40, for debian-linux-gnu (x86_64)
--
-- Host: localhost    Database: apacalblog
-- ------------------------------------------------------
-- Server version	5.5.40-0ubuntu0.14.04.1

/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8 */;
/*!40103 SET @OLD_TIME_ZONE=@@TIME_ZONE */;
/*!40103 SET TIME_ZONE='+00:00' */;
/*!40014 SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0 */;
/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;
/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='NO_AUTO_VALUE_ON_ZERO' */;
/*!40111 SET @OLD_SQL_NOTES=@@SQL_NOTES, SQL_NOTES=0 */;

--
-- Table structure for table `ablg_advert`
--

DROP TABLE IF EXISTS `ablg_advert`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `ablg_advert` (
  `id` int(8) NOT NULL AUTO_INCREMENT,
  `uid` bigint(20) DEFAULT NULL,
  `image` varchar(200) DEFAULT NULL COMMENT '图片',
  `title` varchar(100) NOT NULL,
  `status` tinyint(1) NOT NULL COMMENT '状态',
  `sort` tinyint(5) DEFAULT NULL,
  `url` varchar(100) NOT NULL,
  `updatetime` int(10) NOT NULL,
  `createtime` int(10) NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=12 DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `ablg_advert`
--

LOCK TABLES `ablg_advert` WRITE;
/*!40000 ALTER TABLE `ablg_advert` DISABLE KEYS */;
INSERT INTO `ablg_advert` VALUES (9,3,'/Uploads/ckfinder/images/969c80cfjw8ehcwj1tmkzj20k00k0mya.jpg','C++11新特性体验',0,10,'http://apacal.cn/article/32.html',1421847619,1395255621),(10,3,'/Uploads/ckfinder/images/969c80cfjw8ehcwj1tmkzj20k00k0mya.jpg','Ubuntu安装nginx + php5-fpm + pathinfo模式',0,10,'http://apacal.cn/article/40.html',1421846475,1395255594),(11,3,'/Uploads/ckfinder/images/969c80cfjw8ehcwj1tmkzj20k00k0mya.jpg','如何安全地保存用户密码（加盐hash）',0,10,'http://apacal.cn/article/54.html',1421847486,1396874706);
/*!40000 ALTER TABLE `ablg_advert` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `ablg_article`
--

DROP TABLE IF EXISTS `ablg_article`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `ablg_article` (
  `id` mediumint(8) unsigned NOT NULL AUTO_INCREMENT,
  `cid` smallint(5) unsigned NOT NULL DEFAULT '0' COMMENT '栏目id',
  `image` varchar(100) NOT NULL DEFAULT '',
  `title` varchar(100) NOT NULL DEFAULT '' COMMENT '标题',
  `keywords` varchar(100) NOT NULL DEFAULT '',
  `click` int(10) unsigned NOT NULL DEFAULT '0',
  `content` text NOT NULL,
  `status` int(1) DEFAULT '1',
  `sort` tinyint(3) unsigned NOT NULL DEFAULT '50' COMMENT '排序值',
  `origin_title` varchar(200) DEFAULT '',
  `uid` bigint(20) DEFAULT '1',
  `origin_url` varchar(200) DEFAULT '',
  `updatetime` int(10) unsigned NOT NULL DEFAULT '0',
  `createtime` int(10) unsigned NOT NULL DEFAULT '0',
  PRIMARY KEY (`id`),
  KEY `arcindex` (`cid`)
) ENGINE=InnoDB AUTO_INCREMENT=89 DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `ablg_article`
--

LOCK TABLES `ablg_article` WRITE;
/*!40000 ALTER TABLE `ablg_article` DISABLE KEYS */;
INSERT INTO `ablg_article` VALUES (2,3,'','新版淘宝网隐藏的寂寞','隐藏的美女, 新版淘宝网',406,'                                                                            <h2 style=\"font-style:italic;\">新版淘宝网隐藏的美女，经过一系列的测试，新版的淘宝网终于正式上线，有人发现了网页隐藏了一位美女，今天一看果然是，看来阿里巴巴的程序猿寂寞了。把代码copy下了，以后咱也寂寞下。</h2>\r\n\r\n<p><img alt=\"\" src=\"/Uploads/ckfinder/images/%E6%96%B0%E7%89%88%E6%B7%98%E5%AE%9D%E7%BD%91%E9%9A%90%E8%97%8F%E7%9A%84%E5%AF%82%E5%AF%9E.png\" style=\"height:602px; width:506px\" /></p>\r\n                                                        ',1,0,'',0,'',1422020584,1380648702),(4,2,'','Mysql和Excel的相互转换','Mysql和Excel的相互转换',370,'                                                                                        <blockquote>\r\n<h1>前言</h1>\r\n</blockquote>\r\n\r\n<p>对于客户来说，只有使用最常用的和最简单的操作才是好的用户体验。这是我一年前写的将excel中的数据导入mysql和将mysql的数据导出到excel。<br />\r\n具体代码如下：</p>\r\n\r\n<pre>\r\n/**\r\n    * 导出数据为excel表格\r\n    *@param $data    一个二维数组,结构如同从数据库查出来的数组\r\n    *@param $title   excel的第一行标题,一个数组,如果为空则没有标题\r\n    *@param $filename 下载的文件名\r\n    *@examlpe \r\n    $stu = M (\'User\');\r\n    $arr = $stu -> select();\r\n    exportexcel($arr,array(\'id\',\'账户\',\'密码\',\'昵称\'),\'文件名!\');\r\n*/\r\nfunction exportexcel($data=array(),$title=array(),$filename=\'report\'){\r\n    header(\"Content-type:application/octet-stream\");\r\n    header(\"Accept-Ranges:bytes\");\r\n    header(\"Content-type:application/vnd.ms-excel\");  \r\n    header(\"Content-Disposition:attachment;filename=\".$filename.\".xls\");\r\n    header(\"Pragma: no-cache\");\r\n    header(\"Expires: 0\");\r\n    //导出xls 开始\r\n    if (!empty($title)){\r\n        foreach ($title as $k => $v) {\r\n            $title[$k]=iconv(\"UTF-8\", \"GB2312\",$v);\r\n        }\r\n        $title= implode(\"\\t\", $title);\r\n        echo \"$title\\n\";\r\n    }\r\n    if (!empty($data)){\r\n        foreach($data as $key=>$val){\r\n            foreach ($val as $ck => $cv) {\r\n                $data[$key][$ck]=iconv(\"UTF-8\", \"GB2312\", $cv);\r\n            }\r\n            $data[$key]=implode(\"\\t\", $data[$key]);\r\n            \r\n        }\r\n        echo implode(\"\\n\",$data);\r\n    }\r\n}</pre>\r\n\r\n<p> </p>\r\n\r\n<p> </p>\r\n                                            ',1,0,'',0,'',1422021541,1395289266),(5,1,'/Uploads/ckfinder/images/vim-shell.png','VIM执行shell总结','VIM Shell',503,'        <blockquote>\r\n<h2><strong>前言</strong></h2>\r\n</blockquote>\r\n\r\n<p>　　用VIM编辑常常需要去执行一些shell命令，根据我的了解，有三种方式，第一二种为VIM内置的方式，而第三种使用Conque Shell 插件，分割一个shell窗口，有点仿造Emacs，不过不如使用tmux方便。</p>\r\n\r\n<blockquote>\r\n<h2><strong>正文</strong></h2>\r\n</blockquote>\r\n\r\n<h3><strong>1.在ex mode下，!command就是执行shell命令</strong></h3>\r\n\r\n<ul>\r\n	<li>\r\n	<p><strong><samp>:!command</samp></strong></p>\r\n	</li>\r\n</ul>\r\n\r\n<p>这种方式不退出vim，并执行shell命令command，将命令输出显示在vim的命令区域，不会改变当前编辑的文件的内容</p>\r\n\r\n<pre>\r\n！ls -l</pre>\r\n\r\n<p>特别的可以运行:!bash来启动一个bash shell并执行命令，不需要退出vim.</p>\r\n\r\n<ul>\r\n	<li>\r\n	<p><strong>:r !command</strong></p>\r\n	</li>\r\n</ul>\r\n\r\n<p>将shell命令command的结果插入到当前行的下一行</p>\r\n\r\n<pre>\r\n:r !date  #读取系统时间并插入到当前行的下一行。</pre>\r\n\r\n<ul>\r\n	<li><strong>:起始行号,结束行号 !command </strong></li>\r\n</ul>\r\n\r\n<p>​将起始行号和结束行号指定的范围中的内容输入到shell命令command处理，并将处理结果替换起始行号和结束行号指定的范围中的内容</p>\r\n\r\n<pre>\r\n:62,72 !sort　　#将62行到72行的内容进行排序</pre>\r\n\r\n<p>可以只指定起始行，例如</p>\r\n\r\n<p>:62 !tr [a-z] [A-Z]<br />\r\n​将62行的小写字母转为大写字母当前光标所在行，除可以指定行号外，也可以用.表示，例如</p>\r\n\r\n<p>: . !tr [a-z] [A-Z]　#将当前行的小写转为大写</p>\r\n\r\n<ul>\r\n	<li>\r\n	<p><strong>:起始行号,结束行号 w !command</strong></p>\r\n	</li>\r\n</ul>\r\n\r\n<p>将起始行号和结束行号所指定的范围的内容作为命令command的输入。不会改变当前编辑的文件的内容。例如</p>\r\n\r\n<pre>\r\n:62,72 w !sort</pre>\r\n\r\n<p>将62行到72行的内容进行排序，但排序的结果并不会直接输出到当前编辑的文件中，而是显示在vim敲命令的区域。</p>\r\n\r\n<p>特殊的可以下面这么用</p>\r\n\r\n<pre>\r\n:62 w !bash</pre>\r\n\r\n<p>将会把第62行的内容作为bash命令来执行并显示结果，而且不会改变当前编辑的文件的内容</p>\r\n\r\n<h3><strong>2.将把VIM挂起或者使用:shell在VIM内部开启一个shell</strong></h3>\r\n\r\n<ul>\r\n	<li>\r\n	<p><strong>CTRL-Z挂起</strong></p>\r\n	</li>\r\n</ul>\r\n\r\n<p>用CTRL-Z挂起。这个动作把Vim停下来，并让你回到那个你启动Vim的命令shell里。然后再用\"fg\"命令回到Vim。当你按 CTRL-Z行不通时，你还可以用命令 \":suspend\"。别忘了把Vim引导回前台，否则你会失去你所有的修改！</p>\r\n\r\n<ul>\r\n	<li>\r\n	<p><strong>:shell</strong></p>\r\n	</li>\r\n</ul>\r\n\r\n<p>在输入:shell以后是在vim内开启终端,相当的方便,不过此时的vim和shell并不是独立分开的，要返回vim的话，只有关闭shell。如果您有sudo vim的权限，使用sudo vim 后，在vim中使用:shell您就是root用户了。</p>\r\n\r\n<h3><strong>3.使用Conque Shell 插件</strong></h3>\r\n\r\n<p>git地址：<a href=\"https://github.com/vim-scripts/Conque-Shell\" target=\"_blank\">https://github.com/vim-scripts/Conque-Shell</a></p>\r\n\r\n<p>使用说明：</p>\r\n\r\n<p>:ConqueTermSplit</p>\r\n\r\n<p>在.vimrc加入命令：</p>\r\n\r\n<p>map term :ConqueTermVSplit bash<br />\r\nmap top :ConqueTermVSplit top</p>\r\n\r\n<blockquote>\r\n<h2><strong>总结</strong></h2>\r\n</blockquote>\r\n\r\n<p>在vim下执行shell命令很有用，比如40,100 ! tr [a-z] [A-Z] 就简单将40,100行的内容全部转成了大写，使用:shell 或者:bash一个很有趣的事实，当你使用sudo vim file，再使用:shell 或者:bash此时你就是root了，对于系统管理者来说，sudo vim的命令最好不要随便开放。而第三种使用插件的方法不如使用tmux等窗口管理工具。</p>\r\n    ',1,0,'',3,'',1421850637,1380865920),(12,1,'','linux SVN 服务架设','LINUX, SVN, SVNSERVER, Subversion',377,'<blockquote>\r\n<h2><strong>前言</strong></h2>\r\n</blockquote>\r\n\r\n<p>SVN全称为SubVersion，是一个开源的版本控制系统，管理着随时间而改变更新的数据。它是集中式版本控制软件的典范，现在基本完全取代了CVS，而git是分布式的典范。本文介绍如何在LINUX安装svn（以UBUNTU为例）和使用svn，由于本人只安装了NGINX SERVER所以只是用SVN独立运行，NGINX暂不支持Subversion，所以也就不部署基于http(s)运行的。</p>\r\n\r\n<blockquote>\r\n<h2><strong>正文</strong></h2>\r\n</blockquote>\r\n\r\n<h3><strong>1. 安装 Subversion</strong></h3>\r\n\r\n<p>在 Debian系列上（如ubuntu） 上安装 Subversion 很容易，只要一条命令即可：</p>\r\n\r\n<pre>\r\napt-get install subversion</pre>\r\n\r\n<p>在其他 Linux 发行版上，可以使用相应的包管理器来安装。例如 Red hat系列(Centos)上：</p>\r\n\r\n<pre>\r\nyum install subversion</pre>\r\n\r\n<h3><strong>2. 查看是否安装好和版本信息。</strong></h3>\r\n\r\n<pre>\r\nroot@apacal:/home/apacal# svnserve --version\r\nsvnserve, version 1.6.17 (r1128011)\r\n   compiled Jun 26 2013, 20:44:36\r\n\r\nCopyright (C) 2000-2009 CollabNet.\r\nSubversion is open source software, see http://subversion.apache.org/\r\nThis product includes software developed by CollabNet (http://www.Collab.Net/).\r\n\r\nThe following repository back-end (FS) modules are available:\r\n\r\n* fs_base : Module for working with a Berkeley DB repository.\r\n* fs_fs : Module for working with a plain file (FSFS) repository.\r\n\r\nCyrus SASL authentication is available.\r\n</pre>\r\n\r\n<h3><strong>3. 建立svn版本库目录（可建多个）和</strong><strong>svn配置。</strong></h3>\r\n\r\n<p>我们在 /opt/svndata/目录下新建一个文件夹 repos，用来放置所有的SVN 仓库。</p>\r\n\r\n<pre>\r\nmkdir -p /opt/svndata/repos  #建立存放SVN repos的总文件夹\r\nsvnadmin create /opt/svndata/repos/apacalblog           # 这个是svn的版本库</pre>\r\n\r\n<p>SVN 仓库建立完成后，在目录下会生成一些配置文件。我们接着修改这些配置文件。</p>\r\n\r\n<pre>\r\nroot@apacal:/opt/svndata/repos/ApacalBlog#　pwd\r\n/opt/svndata/repos/ApacalBlog\r\nroot@apacal:/opt/svndata/repos/ApacalBlog# tree\r\n.\r\n|-- README.txt\r\n|-- conf\r\n|   |-- authz\r\n|   |-- passwd\r\n|   `-- svnserve.conf\r\n|-- db\r\n|   |-- current\r\n|   |-- format\r\n|   |-- fs-type\r\n|   |-- fsfs.conf\r\n|   |-- min-unpacked-rev\r\n|   |-- revprops\r\n|   |   `-- 0\r\n|   |       `-- 0\r\n|   |-- revs\r\n|   |   `-- 0\r\n|   |       `-- 0\r\n|   |-- transactions\r\n|   |-- txn-current\r\n|   |-- txn-current-lock\r\n|   |-- txn-protorevs\r\n|   |-- uuid\r\n|   `-- write-lock\r\n|-- format\r\n|-- hooks\r\n|   |-- post-commit.tmpl\r\n|   |-- post-lock.tmpl\r\n|   |-- post-revprop-change.tmpl\r\n|   |-- post-unlock.tmpl\r\n|   |-- pre-commit.tmpl\r\n|   |-- pre-lock.tmpl\r\n|   |-- pre-revprop-change.tmpl\r\n|   |-- pre-unlock.tmpl\r\n|   `-- start-commit.tmpl\r\n`-- locks\r\n    |-- db-logs.lock\r\n    `-- db.lock\r\n</pre>\r\n\r\n<p>主要的配置文件在conf目录下，svnserce.conf存放主要的配置文件，该文件中指定用户和权限控制的配置文件等等。注意：对用户配置文件的修改立即生效，不必重启svn。</p>\r\n\r\n<pre>\r\n|-- conf\r\n\r\n|   |-- authz\r\n\r\n|   |-- passwd\r\n\r\n|   `-- svnserve.conf</pre>\r\n\r\n<p>首先修改 SVN 仓库的配置文件 /opt/svndata/repos/apacalblog/conf/svnserve.conf 文件，修改以下项目：</p>\r\n\r\n<pre>\r\n  [general]\r\n    anon-access = read\r\n    auth-access = write\r\n    password-db = passwd\r\n    authz-db = authz\r\n    realm = apacalblog</pre>\r\n\r\n<p>我们也可以指定相同的用户文件(password-db)和权限控制文件(authz-db)，比如：</p>\r\n\r\n<pre>\r\npassword-db = /opt/svn/conf/passwd.conf\r\nauthz-db = /opt/svn/conf/authz.conf</pre>\r\n\r\n<p>这样一来不同的repos就有相同的用户，不需要在每个repo都重复相同的passwd和authz文件。<br />\r\n然后建立账户，修改 /opt/svndata/repos/apacalblog/conf/passwd 文件，添加账户和密码：</p>\r\n\r\n<pre>\r\n[users]\r\napacal = passwd\r\ntest = testpasswd\r\n</pre>\r\n\r\n<p>接下来是访问控制，修改 /opt/svndata/repos/apacalblog/conf/authz 文件，指定账户的权限：</p>\r\n\r\n<p>注意：</p>\r\n\r\n<p>* 权限配置文件中出现的用户名必须已在用户配置文件中定义。</p>\r\n\r\n<p>* 对权限配置文件的修改立即生效，不必重启svn。</p>\r\n\r\n<p>* svn配置文件结尾不能有空格，也不要在配置项的同一行尾部注释，另外起一行注释</p>\r\n\r\n<p>用户组格式：</p>\r\n\r\n<p>[groups]</p>\r\n\r\n<p> group1=admin,apacal</p>\r\n\r\n<p>其中，1个用户组可以包含1个或多个用户，用户间以逗号分隔。</p>\r\n\r\n<p>版本库目录格式：</p>\r\n\r\n<p>[<版本库>:/项目/目录]</p>\r\n\r\n<p>@<用户组名> = <权限></p>\r\n\r\n<p><用户名> = <权限></p>\r\n\r\n<p>其中，方框号内部分可以有多种写法:</p>\r\n\r\n<p>[/] 表示根目录及以下，根目录是svnserve启动时指定的，我们指定为/opt/svndata，[/]就是表示对全部版本库设置权限。</p>\r\n\r\n<p>[apacalblog:/] 表示对版本库apacalblog设置权限</p>\r\n\r\n<p>[repos2:/Public] 表示对版本库repos2中的Public项目设置权限</p>\r\n\r\n<p>[repos2:/Admin/Model] 表示对版本库repos2中的Admin项目Model目录设置权限</p>\r\n\r\n<p>权限主体可以是用户组、用户或*，用户组在前面加@，*表示全部用户。</p>\r\n\r\n<p>权限可以是w、r、wr和空，空表示没有任何权限。</p>\r\n\r\n<p>示例：</p>\r\n\r\n<pre>\r\n[groups]\r\n admin = apacal\r\n[/]\r\n@admin = rw\r\n[weixin:/Public/Home]\r\napacal = rw\r\n[weixin:/Addons]\r\ntest = r\r\n</pre>\r\n\r\n<p> 4.建立启动svn的用户,启动svn</p>\r\n\r\n<pre>\r\nadduser svn</pre>\r\n\r\n<p>根据提示为用户svn设置密码</p>\r\n\r\n<p>允许用户svn访问版本库:</p>\r\n\r\n<pre>\r\nchown -R svn:svn /opt/svndata/repos/</pre>\r\n\r\n<p>启动svn</p>\r\n\r\n<pre>\r\nsu - svn -c \"svnserve -d --listen-port 4070 -r /opt/svndata/repos/\"</pre>\r\n\r\n<p>其中：</p>\r\n\r\n<p>su - svn表示以用户svn的身份启动svn</p>\r\n\r\n<p>-d表示以daemon方式（后台运行）运行</p>\r\n\r\n<p>--listen-port 4070表示使用4070端口，可以换成你需要的端口。但注意，使用1024以下的端口需要root权限</p>\r\n\r\n<p>-r /opt/svndata/repos/指定根目录是/opt/svndata/repos/</p>\r\n\r\n<p>查看是否启动了：</p>\r\n\r\n<pre>\r\nroot@apacal:/tmp# ps -ef | grep svnserve\r\nsvn      15728     1  0 22:05 ?        00:00:00 svnserve -d --listen-port 4070 -r /opt/svndata/repos/\r\nroot     16959 15015  0 22:46 pts/0    00:00:00 grep --color=auto svnserve\r\n</pre>\r\n\r\n<p>下面在服务器端测试一下。</p>\r\n\r\n<pre>\r\ncd /tmp\r\nmkdir test && cd test\r\ntouch test.txt\r\nsvn import /tmp/test/ file:///opt/svndata/repos/apacalblog/ -m \"this is the first import\"\r\nmkdir -p /tmp/test2\r\ncd /tmp/test2\r\nsvn co file:///opt/svndata/repos/apacalblog/</pre>\r\n\r\n<p>查看文件：</p>\r\n\r\n<pre>\r\nroot@apacal:/tmp/test2# svn co file:///opt/svndata/repos/apacalblog/\r\nA    apacalblog/test.txt\r\nChecked out revision 1.\r\nroot@apacal:/tmp/test2# ls\r\napacalblog\r\nroot@apacal:/tmp/test2# tree\r\n.\r\n`-- apacalblog\r\n    `-- test.txt\r\n</pre>\r\n\r\n<p>本地测试一下：</p>\r\n\r\n<p> </p>\r\n\r\n<pre>\r\napacal@apacal:/tmp$ cd /tmp/\r\napacal@apacal:/tmp$ svn co svn://218.244.140.70:4070/apacalblog/ --username apacal --password passwd\r\nsvn: Invalid authz configuration\r\n</pre>\r\n\r\n<p>出现svn: Invalid authz configuration错误，这种一般是配置文件的问题，检查发现，在svnserver.conf中写了注释，</p>\r\n\r\n<pre>\r\nanon-access = read\r\nauth-access = write\r\npassword-db = passwd\r\nauthz-db = authz   #权限控制文件\r\nrealm = ApacalBlog  #版本库名称\r\n</pre>\r\n\r\n<p>最后两个注释有空格，也就是最后一个配置的前面有空格了。大家在配置的过程一定要注意authz passwd svnserve.conf文件所有行的前面都不能有空格。</p>\r\n\r\n<p>改正后测试下。</p>\r\n\r\n<pre>\r\napacal@apacal:/tmp$ svn co svn://218.244.140.70:4070/apacalblog/\r\nAuthentication realm:  apacalblog\r\nPassword for \'apacal\': \r\nA    apacalblog/test.txt\r\nChecked out revision 1.\r\napacal@apacal:/tmp$ cd apacalblog/\r\napacal@apacal:/tmp/apacalblog$ tree\r\n.\r\n└── test.txt\r\n\r\n0 directories, 1 file\r\n</pre>\r\n\r\n<p>SVN的部署到这里就完成了。</p>\r\n\r\n<h3><strong>5. 设置自动更新网站程序目录</strong></h3>\r\n\r\n<p>我 们希望在通过 SVN 提交代码后，自动更新网站程序目录，方法是设置“钩子”。“钩子”是一段 Shell 脚本，在 SVN 发生某个事件后自动被执行一次。通过设置 post-commit 钩子，可以让 SVN 在接到我们新提交的代码后，自动更新网站程序目录中的文件。</p>\r\n\r\n<p>添加 /opt/svndata/repos/apacalblog/hooks/post-commit 文件：</p>\r\n\r\n<p>测试一下：</p>\r\n\r\n<pre>\r\n#!/bin/sh\r\nexport LANG=zh_CN.UTF-8 #设定环境变量，如果没有设定可能会出现update报错\r\nSVN=/usr/bin/svn\r\nWEB=/data/apacalblog/\r\n${SVN} update ${WEB} --username apacal --password passwd --force --no-auth-cache\r\n</pre>\r\n\r\n<p>--no-auth-cache表示不缓存信息，注意默认是用SVN账户（开始运行SVN服务的用户)去执行该脚本，所以然$WEB目录SVN账户要有写权限。</p>\r\n\r\n<blockquote>\r\n<h2>结束语：</h2>\r\n</blockquote>\r\n\r\n<p>部署SVN服务就是这么回事，需要特别注意的是：authz passwd svnserve.conf文件所有行的前面都不能有空格（我就是写了一些注释）。</p>\r\n',1,0,'',3,'',1421852405,1380945242),(15,1,'','Linux(Centos)打开端口','端口，IPTABLES',396,'<p>今天把vps重启一下，发现网站访问不了。GG下。<br />\r\nvps重启后，会把iptables服务开启，默认80端口是不开放的。<br />\r\n先把iptables关掉看看能不能访问</p>\r\n\r\n<p> </p>\r\n\r\n<pre>\r\n/etc/init.d/iptables stop\r\n</pre>\r\n\r\n<p>能的话，继续下面<br />\r\n添加打开80端口</p>\r\n\r\n<p> </p>\r\n\r\n<pre>\r\n/sbin/iptables -I INPUT -p tcp --dport 80 -j ACCEPT\r\n/etc/rc.d/init.d/iptables save\r\n/etc/init.d/iptables restart</pre>\r\n',1,0,'',3,'',1421853422,1381033461),(29,1,'','ubuntu LaTeX中文','Latex, ZH, 中文, Ubuntu',399,'<blockquote>\r\n<h2><strong>前言</strong></h2>\r\n</blockquote>\r\n\r\n<p>LaTeX是一个强大的排版软件，是一个让人着魔的软件，是一个考验您的各个方面的软件，其中中文环境也是让人崩溃的。这篇文章中，就谈谈如何在Ubuntu下(使用12.04)进行LaTeX中文环境配置。</p>\r\n\r\n<blockquote>\r\n<h2><strong>正文</strong></h2>\r\n</blockquote>\r\n\r\n<ul>\r\n	<li>\r\n	<h3><strong>安装基本的LaTeX环境</strong></h3>\r\n	</li>\r\n</ul>\r\n\r\n<pre>\r\nsudo apt-get install texlive\r\n</pre>\r\n\r\n<ul>\r\n	<li>\r\n	<h3><strong>安装中文字体包</strong></h3>\r\n	</li>\r\n</ul>\r\n\r\n<p>字体包中包含bsmi，bkai，gkai，gbsn四种中文字体。bsmi和bkai是Big5编码的宋体和楷体字；后两者gkai和gbsn分别处理简体中文楷体字和宋体字。</p>\r\n\r\n<p> </p>\r\n\r\n<pre>\r\nsudo apt-get install latex-cjk-all</pre>\r\n\r\n<p>至此，基本的配置就完成了。此时，我们可以新建一个tex文件并输入以下测试内容。正常情况下，编译这个tex文件就能在文档中显示中文了。使用<code>#pdflatex index.tex</code>直接生成pdf文件。</p>\r\n\r\n<pre>\r\n\\documentclass{article}\r\n\\usepackage{CJKutf8}\r\n\\begin{document}\r\n\\begin{CJK}{UTF8}{gkai}　\r\n这是一个楷体中文测试，处理简体字。\r\n\\end{CJK}\r\n\\begin{CJK}{UTF8}{gbsn}\r\n这是一个宋体中文测试，处理简体字。\r\n\\end{CJK}\r\n\\begin{CJK}{UTF8}{bkai}\r\n這是一個big5編碼的楷體中文測試，處理繁體文字。\r\n\\end{CJK}\r\n\\begin{CJK}{UTF8}{bsmi}\r\n這是一個个big5編碼的明體中文測試，處理繁體文字。\r\n\\end{CJK}\r\n\\end{document}</pre>\r\n\r\n<p>接下来，还要针对中文排版进行进一步的设置。首先，设置每一行的首行缩进</p>\r\n\r\n<pre>\r\n/usepackage{indentfirst}\r\n/setlength{/parindent}{2em}</pre>\r\n\r\n<p>其次，中文文档习惯于使用“目录”、“插图目录”、“表格目录”、“参考文献”、“摘要”、“索引”、“表格”、“图”等字样作为文章特殊部分的标题，而 LaTeX 对于这些部分的标题默认是使用英文的，因此可以通过重定义宏的方式将其重定义为中文字样。</p>\r\n\r\n<pre>\r\n/renewcommand{/contentsname}{目录}\r\n/renewcommand{/listfigurename}{插图目录}\r\n/renewcommand{/listtablename}{表格目录}\r\n/renewcommand{/refname}{参考文献}\r\n/renewcommand{/abstractname}{摘要}\r\n/renewcommand{/indexname}{索引}\r\n/renewcommand{/tablename}{表}\r\n/renewcommand{/figurename}{图}</pre>\r\n\r\n<p>写到这里，用LaTeX来进行日常的中文排版就不成问题了。最后，希望大家都能喜欢LaTeX这个功能强大的排版软件。</p>\r\n\r\n<h3><strong>推荐一个宏包：listings代码必需品</strong></h3>\r\n\r\n<p>使用如下包含宏包，注意escapeinside=``设置逃逸标记，对注释是中英文时的不完美解决方案。</p>\r\n\r\n<pre>\r\n\\usepackage{listings}\r\n\\lstset{\r\n  escapeinside=``,\r\n  language=[ANSI]c++,\r\n  showspaces=false,  % 显示空格\r\n  showstringspaces=false,  % 字符串中显示空格\r\n  basicstyle=\\small,\r\n  numbers=left,\r\n  keywordstyle=\\color{blue},\r\n  numberstyle={\\tiny\\color{lightgray}},\r\n  stepnumber=1, %行号会逐行往上递增\r\n  numbersep=5pt,\r\n  commentstyle=\\small\\color{red},\r\n  backgroundcolor=\\color[rgb]{0.95,1.0,1.0},\r\n  showspaces=false,\r\n  showtabs=false,\r\n  frame=shadowbox, framexleftmargin=5mm, rulesepcolor=\\color{red!20!green!20!blue!20!},\r\n% frame=single,\r\n%  TABframe=single,\r\n  tabsize=4,\r\n  breaklines=tr,\r\n  extendedchars=false %这一条命令可以解决代码跨页时，章节标题，页眉等汉字不显示的问题\r\n}\r\n</pre>\r\n\r\n<p>使用方法如下：</p>\r\n\r\n<pre>\r\n\\begin{lstlisting}\r\n...\r\nprivate:\r\n    /* base init function */\r\n    T* init(unsigned S) { return head = new T[cap=(siz=S)+inc]; }\r\n...\r\n\r\npublic\r\n\r\n    /* explicit construct, new array[n], all value is x　*/\r\n    /* `构造siz为n的vector,全部值赋值为x，它委托下一个构造函数去完成`*/\r\n    explicit vector(unsigned n=0, const T& x=T()) : vector(sequence(assign(x)),0,n) {}\r\n    \r\n    template \r\n    vector(Iter src, int pos, unsigned len) : vector(src+pos, src+pos+len) {}\r\n    /* `构造first，second之间的元素，如果first > second则说明second是前面的元素，需要[second, first)区间，则调用rcopy` */\r\n    template \r\n    vector(Iter first, Iter second) {\r\n        int n = second - first;\r\n        /* `当n<0　时，使用rcopy(init(-), first, second)或者如下`　*/\r\n        if (n < 0) DSAA::copy(init(-n), second, first); else DSAA::copy(init(n), first, second);\r\n    }\r\n    /* `使用另外一个vector去构造,直接调用DSAA::copy` */\r\n    // `注意原始是　rhs.head+siz，因为siz是未知的，所以地址越界，发生错误`\r\n    vector(const vector& rhs) { DSAA::copy(init(rhs.siz), rhs.head, rhs.head+rhs.siz); }\r\n...\r\n\\end{lstlisting}</pre>\r\n\r\n<blockquote>\r\n<h2><strong>总结</strong></h2>\r\n</blockquote>\r\n\r\n<p>latex十分优秀，但是很难使用，特别是新手，是一个需要好好折腾折腾的软件，不得不说它在代码排版方面确实很优秀！最后共享一下我大三第一学期的期末实验报告。</p>\r\n\r\n<p><a href=\"/Uploads/ckfinder/files/dataStructureEx.pdf\" target=\"_blank\"> 数据结果实验报告.pdf</a></p>\r\n\r\n<p><strong>附件：<a href=\"/Uploads/ckfinder/files/dataStructureExSrc.tar.gz\">dataStructureExSrc.tar.gz</a></strong></p>\r\n\r\n<p><strong>使用下面命令生成pdf文件。</strong></p>\r\n\r\n<p> </p>\r\n\r\n<pre>\r\nxelatex index.tex</pre>\r\n\r\n<p> </p>\r\n',1,0,'',3,'',1421854293,1386749571),(32,5,'','C++11新特性体验','C++11,新特性，体验',631,'<blockquote>\r\n<h2><strong>前言</strong></h2>\r\n</blockquote>\r\n\r\n<p>C++11，先前被称作C++0x，是C++的最新正式标准，由C++标准委员会于2011年8月12日公布，并于2011年9月出版。2012年2月28日的国际标准草案(N3376)是最接近于现行标准的草案（编辑上的修正）。此次标准为C++98发布后13年来第一次重大修正。该标准添加了许多简化编程的新特性,大大提高的开发者的开发效率。</p>\r\n\r\n<blockquote>\r\n<h2><strong>正文</strong></h2>\r\n</blockquote>\r\n\r\n<ul>\r\n	<li>\r\n	<h3><strong>序列for循环</strong></h3>\r\n	</li>\r\n</ul>\r\n\r\n<p>序列for循环是一种简化的for循环，可以遍历一组序列，包含各种容器，string，数组，初始化列表以及由begin和end函数定义的序列。 </p>\r\n\r\n<pre>\r\n/**\r\n* test c++11 for循环\r\n*/\r\nint main() {\r\n    vector <int> vec(10, 5);\r\n    cout << \"for a vector\\n\";\r\n    for (auto a : vec)\r\n        cout << a << \' \';\r\n\r\n    string ch = \"apacalblog\";\r\n    cout << \"\\nfor a c++ string\\n\";\r\n    for (auto a : ch)\r\n        cout << a << \' \';\r\n    cout << \"\\nfor a array\\n\";\r\n    int p[] = {1, 2, 3, 4, 5};\r\n    for (auto a : p)\r\n        cout << a << \' \';\r\n    return 0;\r\n}</pre>\r\n\r\n<ul>\r\n	<li>\r\n	<h3><strong>委托构造函数</strong></h3>\r\n	</li>\r\n</ul>\r\n\r\n<h3>在引入C++ 11之前，如果某个类有多个重载的构造函数，且这些构造函数中有一些共同的初始化逻辑，通常都需要再编写一个带参数的初始化函数，然后在这些构造函数中调用这个初始化函数。在C++ 11中，再也不用这么麻烦了。我们可以实现一个最基础的构造函数，其他构造函数都调用这个构造函数。<br />\r\n </h3>\r\n\r\n<pre>\r\nclass Person {\r\npublic:\r\n    Person() : Person(0, \"not name\") {}\r\n    Person(int age) : Person(age, \"not name\") {}\r\n    Person(int page, const string &pname) : age(page), name(pname) { //基础构造函数\r\n        cout << name << \"\'s age is \" << age << endl;\r\n    }\r\n    \r\nprivate:\r\n    int age;\r\n    string name;\r\n\r\n};\r\nint main() {\r\n    Person person();\r\n    Person person1;\r\n    Person person2(12);\r\n    Person person3(22, \"apacal\");\r\n    return 0;\r\n}\r\n</pre>\r\n\r\n<ul>\r\n	<li>\r\n	<h3><strong>成员变量初始化</strong></h3>\r\n	</li>\r\n</ul>\r\n\r\n<p>与PHP中的用法一样，可以对成员变量进行就地初始化。</p>\r\n\r\n<pre>\r\nclass Person {\r\npublic:\r\n    Person() : Person(0, \"not name\") {}\r\n    Person(int age) : Person(age, \"not name\") {}\r\n    Person(int page, const string &pname) : age(page), name(pname) {\r\n        cout << name << \"\'s age is \" << age << endl;\r\n    }\r\n    Person(int age, string name, bool no) {}\r\n    void print(ostream &os = cout) {\r\n        cout << name << \"\'s age is no \" << age << endl;\r\n    }\r\n    \r\nprivate:\r\n    int age = 22;\r\n    string name = \"apacal-qingzhu\";\r\n\r\n};\r\nint main() {\r\n    Person person = Person(0, \"apacal\", true);\r\n    Person person1;\r\n    Person person2(12);\r\n    Person person3(22, \"apacal\");\r\n    person.print();\r\n    return 0;\r\n}\r\n<strong>​</strong>\r\n</pre>\r\n\r\n<blockquote>\r\n<h2><strong>总结</strong></h2>\r\n</blockquote>\r\n\r\n<p>简单地介绍一下C++11，以后继续使用到的时候在总结。</p>\r\n',1,0,'',0,'',1421857596,1388770250),(40,6,'','安装nginx + php5-fpm + pathinfo','ubuntu, nginx, php5-fpm , pathinfo',557,'<blockquote>\r\n<h2>前言</h2>\r\n</blockquote>\r\n\r\n<p>博客刚刚完成任务Beta版本，考虑到nginx的性能较好，所以从原来的apache下转移到nginx，于是就来了在ubuntu下安装配置nginx和php5，并配置nginx使之支持pathinfo模式。</p>\r\n\r\n<ul>\r\n	<li>\r\n	<h3><strong>安装NGINX和PHP</strong></h3>\r\n	</li>\r\n	<li>\r\n	<p>安装nginx和php5，对于php5使用fpm进行控制，安装后会在/etc/init.d/下生成nginx和php5-fpm控制脚本，比较方便控制</p>\r\n	</li>\r\n</ul>\r\n\r\n<p>apt-get install mysql-server<br />\r\napt-get install nginx<br />\r\napt-get install php5-fpm<br />\r\napt-get install php5-cli php5-gd php5-mcrypt php5-mysql</p>\r\n\r\n<ul>\r\n	<li>修改NGINX配置，解析php</li>\r\n</ul>\r\n\r\n<pre>\r\nvim /etc/nginx/nginx.conf\r\n#修改下面两行\r\nworker_processes 4;\r\nkeepalive_timeout 2;\r\n#修改site配置，主要修改php部分　\r\nvim /etc/nginx/sites-available/default\r\n# php5-fpm 配置信息\r\nlocation ~ \\.php$ {\r\nfastcgi_pass unix:/var/run/php5-fpm.sock;\r\nfastcgi_index index.php;\r\ninclude fastcgi_params;\r\n}\r\n#修改php5-fpm，改为socket监听。\r\nvim /etc/php5/fpm/pool.d/www.conf\r\n#改为socket监听\r\n;listen = 127.0.0.1:9000\r\nlisten = /var/run/php5-fpm.sock</pre>\r\n\r\n<ul>\r\n	<li>\r\n	<h3><strong>开启和关闭nginx，php5-fpm</strong></h3>\r\n	</li>\r\n</ul>\r\n\r\n<pre>\r\n/etc/init.d/nginx start #开启　stop 关闭，　restart 重启\r\n/etc/init.d/php5-fpm start #开启　stop 关闭，　restart 重启\r\n#​对于没有该启动脚本的可以直接使用命令开启和killall关闭\r\nkillall nginx #关闭\r\nnginx #开启\r\nkillall -HUP php-cgi　#使用spawn-fcgi的关闭\r\nspawn-fcgi -a 127.0.0.1 -p 9000 -C 10 -u www-data -f /usr/bin/php-cgi　#开启使用spawn-fcgi，</pre>\r\n\r\n<ul>\r\n	<li>\r\n	<h3><strong>安装常用的PHP模块</strong></h3>\r\n	</li>\r\n</ul>\r\n\r\n<p>增加模块支持，输入下面的命令查询PHP模块：</p>\r\n\r\n<pre>\r\napt-cache search php5\r\napt-get install php5-mysql php5-curl php5-gd php5-intl php-pear php5-imagick php5-imap php5-mcrypt php5-memcache php5-ming php5-ps php5-pspell php5-recode php5-snmp php5-sqlite php5-tidy php5-xmlrpc php5-xsl\r\n</pre>\r\n\r\n<p>编辑一个phpinfo.php文件，来测试php，vim phpinfo.php, 在浏览器中输入地址就可以看到php信息了。</p>\r\n\r\n<ul>\r\n	<li>\r\n	<h3><strong>配置NGINX使其支持PATHINFO模式</strong></h3>\r\n	</li>\r\n</ul>\r\n\r\n<p>nginx模式不支持pathinfo模式，类似index.php/Home/Index/index形式的url会被提示找不到页面。下面的通过正则找出实际文件路径和pathinfo部分的方法，让nginx支持pathinfo。<br />\r\n主要的配置如下：</p>\r\n\r\n<pre>\r\nlocation ~ \\.php$ {\r\n    root           html;\r\n    fastcgi_pass   127.0.0.1:9000;\r\n    fastcgi_index  index.php;\r\n\r\n    ##通过设置模拟出pathinfo\r\n    set $path_info “”;\r\n    set $real_script_name $fastcgi_script_name;\r\n    if ($fastcgi_script_name ~ “^(.+?\\.php)(/.+)$”) {\r\n        set $real_script_name $1;\r\n        set $path_info $2;\r\n    }\r\n    fastcgi_param SCRIPT_NAME $real_script_name;\r\n    fastcgi_param PATH_INFO $path_info;\r\n    include        fastcgi_params;\r\n}\r\n</pre>\r\n\r\n<p>要点： <br />\r\n　　1.~ \\.php 后面不能只有$  以便能匹配所有 *.php/* 形式的url <br />\r\n　　2. 通过设置更改 SCRIPT_FILENAME <br />\r\n我在实际使用将这段代码写到到了path_info中。下面是我的nginx配置文件示例：<br />\r\npath_info 配置如下：</p>\r\n\r\n<pre>\r\n    # 支持pathinfo的重点部分\r\n    set $path_info \"\";\r\n    set $real_script_name $fastcgi_script_name;\r\n    if ($fastcgi_script_name ~ \"^(.+?\\.php)(/.+)$\") {\r\n　      set $real_script_name $1;\r\n     　 set $path_info $2;\r\n    }\r\n    fastcgi_param SCRIPT_FILENAME $document_root$real_script_name;\r\n    fastcgi_param SCRIPT_NAME $real_script_name;\r\n    fastcgi_param PATH_INFO $path_info;\r\n    ## 以上是支持pathinfo的重点部分     \r\n</pre>\r\n\r\n<p>/etc/nginx/sites-available/default 中的配置，主要是php的配置。</p>\r\n\r\n<pre>\r\nlocation ~ \\.php($|/) {\r\n        fastcgi_pass unix:/var/run/php5-fpm.sock;\r\n        fastcgi_index index.php;\r\n        include path_info;\r\n        include fastcgi_params;\r\n\r\n    }\r\n</pre>\r\n\r\n<p>重启nginx和php</p>\r\n\r\n<pre>\r\n/etc/init.d/php5-fpm restart\r\n/etc/init.d/nginx restart\r\n</pre>\r\n\r\n<h3>可以支持pathinfo了！</h3>\r\n\r\n<ul>\r\n	<li>\r\n	<h3><strong>安裝XCache,进行缓存</strong></h3>\r\n	</li>\r\n</ul>\r\n\r\n<pre>\r\napt-get install php5-xcache</pre>\r\n\r\n<p>xcache配置文件路径是(可以查看phpinfo() 的输出)</p>\r\n\r\n<pre>\r\n/etc/php5/conf.d/xcache.ini\r\n</pre>\r\n\r\n<p>编辑php.ini，把xcache.ini的内容加入到php.ini。（系统可能会自动加载/etc/php5/conf.d/下的配置，重启一下看phpinfo是否有xcache，有的话就不需要加入了）。</p>\r\n\r\n<pre>\r\nvim /etc/php5/fpm/php.ini #php.ini的路径可以看phpinfo()给出的信息，不同的fastcgi，路径不同。\r\n</pre>\r\n\r\n<blockquote>\r\n<h2><strong>总结</strong></h2>\r\n</blockquote>\r\n\r\n<p>安装php按部就班就可以了，可能对path_info的支持是个比较难的地方，对于出现的问题可以进一步查看nginx和php的日志来确定问题出在哪里。</p>\r\n',1,0,'',0,'',1421861394,1395257161),(41,5,'','源码编译安装GCC4.8.2，体验C++11新标准','GCC4.8.2，C++11',460,'<blockquote>\r\n<h2><strong>前言</strong></h2>\r\n</blockquote>\r\n\r\n<p>C++11，先前被称作C++0x，即ISO/IEC 14882:2011，是目前的C++编程语言的正式标准。GCC在语言特性上全面支持C++11，目前最新的稳定版本为gcc4.8.2，本文介绍如何在linux下源码编译安装gcc4.8.2。</p>\r\n\r\n<blockquote>\r\n<h2><strong>正文</strong></h2>\r\n</blockquote>\r\n\r\n<ul>\r\n	<li>\r\n	<h3><strong>下载源码和安装。</strong></h3>\r\n	</li>\r\n</ul>\r\n\r\n<p>源码地址为<a href=\"http://gcc.skazkaforyou.com/releases/gcc-4.8.2/gcc-4.8.2.tar.bz2\">http://gcc.skazkaforyou.com/releases/gcc-4.8.2/gcc-4.8.2.tar.bz2</a></p>\r\n\r\n<p>下载和解压</p>\r\n\r\n<pre>\r\nwget -c http://gcc.skazkaforyou.com/releases/gcc-4.8.2/gcc-4.8.2.tar.bz2\r\ntar -xjvf ./gcc-4.8.2.tar.bz2\r\n</pre>\r\n\r\n<ul>\r\n	<li>\r\n	<h3><strong>配置和安装。</strong></h3>\r\n	</li>\r\n</ul>\r\n\r\n<pre>\r\ncd gcc-4.8.2/\r\n./contrib/download_prerequisites　#下载GMP, MPFR and MPC 等库，也可以自己去下载\r\ncd ..\r\nmkdir gcc-build-4.8.2   #建立编译输出目录\r\nnohup ../gcc-4.8.2/configure --enable-checking=release --enable-languages=c,c++ --disable-multilib\r\nnohup make > makeinfo #编译的步骤就已经完成了。慢慢的等待编译完成,编译好慢好慢。\r\nmake install　　#安装</pre>\r\n\r\n<p>安装完成后使用gcc -v 查看版本</p>\r\n\r\n<pre>\r\ngcc -v\r\n</pre>\r\n\r\n<p>错误1：</p>\r\n\r\n<pre>\r\nconfigure: error: C++ compiler missing or inoperational\r\nmake[2]: *** [configure-stage1-libcpp] Error 1\r\nmake[2]: Leaving directory `/opt/gcc-4.8.2\'\r\nmake[1]: *** [stage1-bubble] Error 2\r\nmake[1]: Leaving directory `/opt/gcc-4.8.2\'\r\nmake: *** [all] Error 2\r\n</pre>\r\n\r\n<blockquote>\r\n<p>从gcc-4.7.2（2012-09-20 released）版本开始，gcc使用c++作为其实现语言。所以我们需要事先在系统中安装低版本的g++。</p>\r\n\r\n<p>Ubuntu12.04系统中自带gcc-4.6.3，但不带有g++。可以使用apt-get命令来安装。</p>\r\n\r\n<p>GCC now uses C++ as its implementation language. This means that to build GCC from sources, you will need a C++ compiler that understands C++ 2003.</p>\r\n\r\n<p>Migrating GCC to C++ as implementation language:</p>\r\n\r\n<p>C++ is a standardized, well known, popular language.</p>\r\n\r\n<p>C++ is nearly a superset of C90 used in GCC.</p>\r\n\r\n<p>The C subset of C++ is just as efficient as C.</p>\r\n\r\n<p>C++ supports cleaner code in several significant cases.</p>\r\n\r\n<p>C++ makes it easier to write and enforce cleaner interfaces.</p>\r\n\r\n<p>C++ never requires uglier code.</p>\r\n\r\n<p>C++ is not a panacea but it is an improvement.</p>\r\n</blockquote>\r\n\r\n<pre>\r\napt-get install g++</pre>\r\n\r\n<blockquote>\r\n<h2><strong>结束</strong>　　</h2>\r\n</blockquote>\r\n\r\n<p>编译安装gcc确实挺满的，特别是对于我这种VPS才512MB的就更慢了，推荐使用apt-get安装，<br />\r\n </p>\r\n',1,0,'',0,'',1421861922,1395250053),(42,1,'','应该知道的Linux技巧','Linux, 技巧, bash, command',327,'<blockquote>\r\n<h2><strong>这篇文章转载自coolshell.cn，加上自己的一点点修改。</strong></h2>\r\n</blockquote>\r\n\r\n<p>这篇文章来源于Quroa的一个问答《<a href=\"http://www.quora.com/Linux/What-are-some-time-saving-tips-that-every-Linux-user-should-know#\" target=\"_blank\">What are some time-saving tips that every Linux user should know?</a>》—— Linux用户有哪些应该知道的提高效率的技巧。我觉得挺好的，总结得比较好，把其转过来，并加了一些自己的理解。 首先，我想告诉大家，<strong>在Unix/Linux下，最有效率技巧的不是操作图形界面，而是命令行操作，因为命令行意味着自动化</strong>。如果你看过《<a href=\"http://coolshell.cn/articles/8619.html\" target=\"_blank\">你可能不知道的Shell</a>》以及《<a href=\"http://coolshell.cn/articles/7829.html\" target=\"_blank\">28个Unix/Linux的命令行神器</a>》你就会知道Linux有多强大，这个强大完全来自于命令行，于是，就算你不知道怎么去<a href=\"http://coolshell.cn/articles/7186.html\" target=\"_blank\">做一个环保主义的程序员</a>， 至少他们可以让你少熬点夜，从而有利于你的身体健康和性生活。下面是一个有点长的列表，正如作者所说，你并不需要知道所有的这些东西，但是如果你还在很沉 重地在使用Linux的话，这些东西都值得你看一看。 （注：如果你想知道下面涉及到的命令的更多的用法，你一定要man一点。对于一些命令，你可以需要先yum或apt-get来安装一下，如果有什么问题， 别忘了Google。如果你要Baidu的话，我仅代表这个地球上所有的生物包括微生物甚至细菌病毒和小强BS你到宇宙毁灭）</p>\r\n\r\n<blockquote>\r\n<h2><strong>基础</strong></h2>\r\n</blockquote>\r\n\r\n<ul>\r\n	<li>\r\n	<p><strong>学习 <a href=\"http://www.quora.com/Bash-shell\" target=\"_blank\">Bash</a> </strong>。你可以man bash来看看bash的东西，并不复杂也并不长。你用别的shell也行，但是bash是很强大的并且也是系统默认的。（学习zsh或tsch只会让你在很多情况下受到限制），<a href=\"wiki.bash-hackers.org/doku.php\" target=\"_blank\">wiki.bash-hackers.org/doku.php</a> bash wiki hackers</p>\r\n	</li>\r\n</ul>\r\n\r\n<ul>\r\n	<li>\r\n	<p><strong>学习 vim</strong> 。在Linux下，基本没有什么可与之竞争的编<del>译</del>辑器（就算你是一个Emacs或Eclipse的重度用户）。你可以看看《<a href=\"http://coolshell.cn/articles/5426.html\" target=\"_blank\">简明vim攻略</a>》和 《<a href=\"http://coolshell.cn/articles/7166.html\" target=\"_blank\">Vim的冒险游戏</a>》以及《<a href=\"http://coolshell.cn/articles/5479.html\" target=\"_blank\">给程序员的Vim速查卡</a>》还有《<a href=\"http://coolshell.cn/articles/894.html\" target=\"_blank\">把Vim变成一个编程的IDE</a>》等等。学习怎么管理vim插件，特别是YouCompleteMe 插件，高级可以看《vim实用技巧》</p>\r\n	</li>\r\n</ul>\r\n\r\n<ul>\r\n	<li>\r\n	<p><strong>了解 ssh</strong>。明白不需要口令的用户认证（通过ssh-agent, ssh-add），学会用ssh翻墙，用scp而不是ftp传文件，等等。你知道吗？scp 远端的时候，你可以按tab键来查看远端的目录和文件（当然，需要无口令的用户认证），这都是bash的功劳。使用ssh 传送文件，ssh操作远程机器。</p>\r\n	</li>\r\n	<li>\r\n	<p><strong>熟悉bash的作业管理</strong>，如： &, Ctrl-Z, Ctrl-C, jobs, fg, bg, kill, 等等。当然，你也要知道Ctrl+\\（SIGQUIT）和Ctrl+C （SIGINT）的区别。</p>\r\n	</li>\r\n	<li>\r\n	<p><strong>简单的文件管理</strong> ： ls 和 ls -l (你最好知道 “ls -l” 的每一列的意思), less, head, tail 和 tail -f, ln 和 ln -s (你知道明白hard link和soft link的不同和优缺点), chown, chmod, du (如果你想看看磁盘的大小 du -sk *), df, mount。当然，原作者忘了find命令。</p>\r\n	</li>\r\n</ul>\r\n\r\n<ul>\r\n	<li>\r\n	<p><strong>基础的网络管理</strong>： ip 或 ifconfig, dig。当然，原作者还忘了如netstat, ping, traceroute, 等，iftop</p>\r\n	</li>\r\n</ul>\r\n\r\n<ul>\r\n	<li>\r\n	<p><strong>理解正则表达式</strong>，还有grep/egrep的各种选项。比如： -o, -A, 和 -B 这些选项是很值得了解的。</p>\r\n	</li>\r\n</ul>\r\n\r\n<ul>\r\n	<li>\r\n	<p><strong>学习使用 apt-get 和 yum 来查找和安装软件</strong>（前者的经典分发包是Ubuntu，后者的经典分发包是Redhat），我还建议你试着从源码编译安装软件。</p>\r\n	</li>\r\n</ul>\r\n\r\n<p><strong>日常</strong></p>\r\n\r\n<ul>\r\n	<li>\r\n	<p><strong>在 bash 里，使用 Ctrl-R 而不是上下光标键来查找历史命令。</strong></p>\r\n	</li>\r\n</ul>\r\n\r\n<ul>\r\n	<li>\r\n	<p><strong>在 bash里，使用 Ctrl-W 来删除最后一个单词，使用 Ctrl-U 来删除一行。</strong>请man bash后查找Readline Key Bindings一节来看看bash的默认热键，比如：Alt-. 把上一次命令的最后一个参数打出来，而Alt-* 则列出你可以输入的命令。对于vimer 可以在～/.bashrc 中加入set -o vi来设置vim的按键方式。</p>\r\n	</li>\r\n</ul>\r\n\r\n<ul>\r\n	<li>\r\n	<p><strong>回到上一次的工作目录</strong>： cd –  （回到home是 cd ~）</p>\r\n	</li>\r\n</ul>\r\n\r\n<ul>\r\n	<li>\r\n	<p><strong>使用 xargs。</strong>这是一个很强大的命令。你可以使用-L来限定有多少个命令，也可以用-P来指定并行的进程数。如果你不知道你的命令会变成什么样，你可以使用xargs echo来看看会是什么样。当然， -I{} 也很好用。示例：</p>\r\n	</li>\r\n</ul>\r\n\r\n<pre>\r\n<code>find</code> <code>. -name \\*.py | </code><code>xargs</code> <code>grep</code> <code>some_function</code>\r\n<code>cat</code> <code>hosts | </code><code>xargs</code> <code>-I{} </code><code>ssh</code> <code>root@{} </code><code>hostname</code></pre>\r\n\r\n<ul>\r\n	<li>\r\n	<p><strong>使用 pgrep 和 pkill 来找到或是kill 某个名字的进程</strong>。 (-f 选项很有用).pstree -p 可以帮你显示进程树。tree可以显示目录树，（读过我的那篇《<a href=\"http://coolshell.cn/articles/7965.html\" target=\"_blank\">一个fork的面试题</a>》的人应该都不陌生）</p>\r\n	</li>\r\n</ul>\r\n\r\n<ul>\r\n	<li>\r\n	<p><strong>了解可以发给进程的信号。</strong>例如：要挂起一个进程，使用 kill -STOP [pid]. 使用 man 7 signal 来查看各种信号，使用kill -l 来查看数字和信号的对应表</p>\r\n	</li>\r\n</ul>\r\n\r\n<ul>\r\n	<li>\r\n	<p><strong>使用 nohup 或  disown 如果你要让某个进程运行在后台。</strong></p>\r\n	</li>\r\n</ul>\r\n\r\n<ul>\r\n	<li>\r\n	<p><strong>使用netstat -lntp来看看有侦听在网络某端口的进程。</strong>当然，也可以使用 lsof。</p>\r\n	</li>\r\n</ul>\r\n\r\n<ul>\r\n	<li>\r\n	<p><strong>在bash的脚本中，你可以使用 set -x 来debug输出。使用 set -e 来当有错误发生的时候abort执行。考虑使用 set -o pipefail 来限制错误。还可以使用trap来截获信号（如截获ctrl+c）。</strong></p>\r\n	</li>\r\n</ul>\r\n\r\n<ul>\r\n	<li>\r\n	<p><strong>在bash 脚本中，subshells (写在圆括号里的) 是一个很方便的方式来组合一些命令。</strong>一个常用的例子是临时地到另一个目录中，例如</p>\r\n	</li>\r\n</ul>\r\n\r\n<pre>\r\n<code># do something in current dir</code>\r\n<code>(</code><code>cd</code> <code>/some/other/dir</code><code>; other-</code><code>command</code><code>)</code>\r\n<code># continue in original dir</code></pre>\r\n\r\n<ul>\r\n	<li><strong>在 bash 中，注意那里有很多的变量展开。</strong>如：检查一个变量是否存在: ${name:?error message}。如果一个bash的脚本需要一个参数，也许就是这样一个表达式 input_file=${1:?usage: $0 input_file}。一个计算表达式： i=$(( (i + 1) % 5 ))。一个序列： {1..10}。 截断一个字符串： ${var%suffix} 和 ${var#prefix}。 示例： if var=foo.pdf, then echo ${var%.pdf}.txt prints “foo.txt”.</li>\r\n	<li>\r\n	<p><strong>通过 <(some command) 可以把某命令当成一个文件。</strong>示例：比较一个本地文件和远程文件 /etc/hosts： diff /etc/hosts <(ssh somehost cat /etc/hosts)</p>\r\n	</li>\r\n	<li>\r\n	<p>了解什么叫 “<a href=\"http://zh.wikipedia.org/wiki/Here%E6%96%87%E6%A1%A3\" target=\"_blank\">here documents</a>” ，就是诸如 cat <<EOF 这样的东西。</p>\r\n	</li>\r\n	<li>\r\n	<p>在 bash中，使用重定向到标准输出和标准错误。如： some-command >logfile 2>&1。另外，要确认某命令没有把某个打开了的文件句柄重定向给标准输入，最佳实践是加上 “</dev/null”，把/dev/null重定向到标准输入。</p>\r\n	</li>\r\n	<li>\r\n	<p>使用 man ascii 来查看 ASCII 表。</p>\r\n	</li>\r\n	<li>\r\n	<p>在远端的 ssh 会话里，使用 screen 或 dtach 来保存你的会话。（参看《<a href=\"http://coolshell.cn/articles/7829.html\" target=\"_blank\">28个Unix/Linux的命令行神器</a>》）</p>\r\n	</li>\r\n	<li>\r\n	<p>要来debug Web，试试curl 和 curl -I 或是 wget 。我觉得debug Web的利器是firebug，curl和wget是用来抓网页的，呵呵。</p>\r\n	</li>\r\n	<li>\r\n	<p>把 HTML 转成文本： lynx -dump -stdin</p>\r\n	</li>\r\n	<li>\r\n	<p>如果你要处理XML，使用 xmlstarlet</p>\r\n	</li>\r\n	<li>\r\n	<p>对于 Amazon S3， s3cmd 是一个很方便的命令（还有点不成熟）</p>\r\n	</li>\r\n	<li>\r\n	<p>在 ssh中，知道怎么来使用ssh隧道。通过 -L or -D (还有-R) ，翻墙神器。</p>\r\n	</li>\r\n	<li>\r\n	<p>你还可以对你的ssh 做点优化。比如，.ssh/config 包含着一些配置：避免链接被丢弃，链接新的host时不需要确认，转发认证，以前使用压缩（如果你要使用scp传文件）：</p>\r\n	</li>\r\n	<li>\r\n	<blockquote>\r\n	<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" style=\"height:auto !important; width:712px\">\r\n		<tbody>\r\n			<tr>\r\n				<td style=\"height:auto !important; vertical-align:top; width:auto !important\">\r\n				<p>1</p>\r\n\r\n				<p>2</p>\r\n\r\n				<p>3</p>\r\n\r\n				<p>4</p>\r\n\r\n				<p>5</p>\r\n\r\n				<p>6</p>\r\n				</td>\r\n				<td style=\"height:auto !important; vertical-align:top; width:675px\">\r\n				<div style=\"background:none !important; border:0px !important; padding:0px !important\">\r\n				<p><code>TCPKeepAlive=</code><code>yes</code></p>\r\n\r\n				<p><code>ServerAliveInterval=15</code></p>\r\n\r\n				<p><code>ServerAliveCountMax=6</code></p>\r\n\r\n				<p><code>StrictHostKeyChecking=no</code></p>\r\n\r\n				<p><code>Compression=</code><code>yes</code></p>\r\n\r\n				<p><code>ForwardAgent=</code><code>yes</code></p>\r\n				</div>\r\n				</td>\r\n			</tr>\r\n		</tbody>\r\n	</table>\r\n	</blockquote>\r\n	</li>\r\n	<li>\r\n	<p>如果你有输了个命令行，但是你改变注意了，但你又不想删除它，因为你要在历史命令中找到它，但你也不想执行它。那么，你可以按下 Alt-# ，于是这个命令关就被加了一个#字符，于是就被注释掉了。</p>\r\n	</li>\r\n	<li>\r\n	<p><strong>数据处理 </strong></p>\r\n	</li>\r\n	<li>\r\n	<p>了解 sort 和 uniq 命令 (包括 uniq 的 -u 和 -d 选项).</p>\r\n	</li>\r\n	<li>\r\n	<p>了解用 cut, paste, 和 join 命令来操作文本文件。很多人忘了在cut前使用join。</p>\r\n	</li>\r\n	<li>\r\n	<p>如果你知道怎么用sort/uniq来做集合交集、并集、差集能很大地促进你的工作效率。假设有两个文本文件a和b已解被 uniq了，那么，用sort/uniq会是最快的方式，无论这两个文件有多大（sort不会被内存所限，你甚至可以使用-T选项，如果你的/tmp目录很小）</p>\r\n	</li>\r\n	<li>\r\n	<blockquote>\r\n	<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" style=\"height:auto !important; width:712px\">\r\n		<tbody>\r\n			<tr>\r\n				<td style=\"height:auto !important; vertical-align:top; width:auto !important\">\r\n				<p>1</p>\r\n\r\n				<p>2</p>\r\n\r\n				<p>3</p>\r\n\r\n				<p>4</p>\r\n\r\n				<p>5</p>\r\n				</td>\r\n				<td style=\"height:auto !important; vertical-align:top; width:675px\">\r\n				<div style=\"background:none !important; border:0px !important; padding:0px !important\">\r\n				<p><code>cat</code> <code>a b | </code><code>sort</code> <code>| </code><code>uniq</code> <code>> c   </code><code># c is a union b 并集</code></p>\r\n\r\n				<p> </p>\r\n\r\n				<p><code>cat</code> <code>a b | </code><code>sort</code> <code>| </code><code>uniq</code> <code>-d > c   </code><code># c is a intersect b 交集</code></p>\r\n\r\n				<p> </p>\r\n\r\n				<p><code>cat</code> <code>a b b | </code><code>sort</code> <code>| </code><code>uniq</code> <code>-u > c   </code><code># c is set difference a - b 差集</code></p>\r\n				</div>\r\n				</td>\r\n			</tr>\r\n		</tbody>\r\n	</table>\r\n	</blockquote>\r\n	</li>\r\n	<li>\r\n	<p>了解和字符集相关的命令行工具，包括排序和性能。很多的Linux安装程序都会设置LANG 或是其它和字符集相关的环境变量。这些东西可能会让一些命令（如：sort）的执行性能慢N多倍（注：就算是你用UTF-8编码文本文件，你也可以很安全地使用ASCII来对其排序）。如果你想Disable那个i18n 并使用传统的基于byte的排序方法，那就设置export LC_ALL=C （实际上，你可以把其放在 .bashrc）。如果这设置这个变量，你的sort命令很有可能会是错的。</p>\r\n	</li>\r\n	<li>\r\n	<p>了解 awk 和 sed，并用他们来做一些简单的数据修改操作。例如：求第三列的数字之和： awk ‘{ x += $3 } END { print x }’。这可能会比Python快3倍，并比Python的代码少三倍。</p>\r\n	</li>\r\n	<li>\r\n	<p>使用 shuf 来打乱一个文件中的行或是选择文件中一个随机的行。</p>\r\n	</li>\r\n	<li>\r\n	<p>了解sort命令的选项。了解key是什么（-t和-k）。具体说来，你可以使用-k1,1来对第一列排序，-k1来对全行排序。</p>\r\n	</li>\r\n	<li>\r\n	<p>Stable sort (sort -s) 会很有用。例如：如果你要想对两例排序，先是以第二列，然后再以第一列，那么你可以这样： sort -k1,1 | sort -s -k2,2</p>\r\n	</li>\r\n	<li>\r\n	<p>我们知道，在bash命令行下，Tab键是用来做目录文件自动完成的事的。但是如果你想输入一个Tab字符（比如：你想在sort -t选项后输入<tab>字符），你可以先按Ctrl-V，然后再按Tab键，就可以输入<tab>字符了。当然，你也可以使用$’\\t’。</p>\r\n	</li>\r\n	<li>\r\n	<p>如果你想查看二进制文件，你可以使用hd命令（在CentOS下是hexdump命令），如果你想编译二进制文件，你可以使用bvi命令（<a href=\"http://bvi.sourceforge.net/\" target=\"_blank\">http://bvi.sourceforge.net/</a> 墙）</p>\r\n	</li>\r\n	<li>\r\n	<p>另外，对于二进制文件，你可以使用strings（配合grep等）来查看二进制中的文本。</p>\r\n	</li>\r\n	<li>\r\n	<p>对于文本文件转码，你可以试一下 iconv。或是试试更强的 uconv 命令（这个命令支持更高级的Unicode编码）</p>\r\n	</li>\r\n	<li>\r\n	<p>如果你要分隔一个大文件，你可以使用split命令（split by size）和csplit命令（split by a pattern）。</p>\r\n	</li>\r\n	<li>\r\n	<p><strong>系统调试</strong></p>\r\n	</li>\r\n	<li>\r\n	<p>如果你想知道磁盘、CPU、或网络状态，你可以使用 iostat, netstat, top (或更好的 htop), 还有 dstat 命令。你可以很快地知道你的系统发生了什么事。关于这方面的命令，还有iftop, iotop等（参看《<a href=\"http://coolshell.cn/articles/7829.html\" target=\"_blank\">28个Unix/Linux的命令行神器</a>》）</p>\r\n	</li>\r\n	<li>\r\n	<p>要了解内存的状态，你可以使用free和vmstat命令。具体来说，你需要注意 “cached” 的值，这个值是Linux内核占用的内存。还有free的值。</p>\r\n	</li>\r\n	<li>\r\n	<p>Java 系统监控有一个小的技巧是，你可以使用kill -3 <pid> 发一个SIGQUIT的信号给JVM，可以把堆栈信息（包括垃圾回收的信息）dump到stderr/logs。</p>\r\n	</li>\r\n	<li>\r\n	<p>使用 mtr 会比使用 traceroute 要更容易定位一个网络问题。</p>\r\n	</li>\r\n	<li>\r\n	<p>如果你要找到哪个socket或进程在使用网络带宽，你可以使用 iftop 或 nethogs。</p>\r\n	</li>\r\n	<li>\r\n	<p>Apache的一个叫 ab 的工具是一个很有用的，用quick-and-dirty的方式来测试网站服务器的性能负载的工作。如果你需要更为复杂的测试，你可以试试 siege。</p>\r\n	</li>\r\n	<li>\r\n	<p>如果你要抓网络包的话，试试 wireshark 或 tshark。</p>\r\n	</li>\r\n	<li>\r\n	<p>了解 strace 和 ltrace。这两个命令可以让你查看进程的系统调用，这有助于你分析进程的hang在哪了，怎么crash和failed的。你还可以用其来做性能profile，使用 -c 选项，你可以使用-p选项来attach上任意一个进程。</p>\r\n	</li>\r\n	<li>\r\n	<p>了解用ldd命令来检查相关的动态链接库。注意：<a href=\"http://coolshell.cn/articles/1626.html\" target=\"_blank\">ldd的安全问题</a></p>\r\n	</li>\r\n	<li>\r\n	<p>使用gdb来调试一个正在运行的进程或分析core dump文件。参看我写的《<a href=\"http://coolshell.cn/articles/3643.html\" target=\"_blank\">GDB中应该知道的几个调试方法</a>》</p>\r\n	</li>\r\n	<li>\r\n	<p>学会到 /proc 目录中查看信息。这是一个Linux内核运行时记录的整个操作系统的运行统计和信息，比如： /proc/cpuinfo, /proc/xxx/cwd, /proc/xxx/exe, /proc/xxx/fd/, /proc/xxx/smaps.</p>\r\n	</li>\r\n	<li>\r\n	<p>如果你调试某个东西为什么出错时，sar命令会有用。它可以让你看看 CPU, 内存, 网络, 等的统计信息。</p>\r\n	</li>\r\n	<li>\r\n	<p>使用 dmesg 来查看一些硬件或驱动程序的信息或问题。</p>\r\n	</li>\r\n	<li>\r\n	<p>作者最后加了一个免责声明：Disclaimer: Just because you <em>can</em> do something in bash, doesn’t necessarily mean you should. ;) （全文完）</p>\r\n\r\n	<p> </p>\r\n	</li>\r\n</ul>\r\n',1,0,'coolshell.cn',0,'coolshell.cn',1421864158,1395296183),(43,6,'','Mysql开启不了','Mysql，开启不了，start: Job failed to start',293,'<font face=\"Comic Sans MS\" size=\"5\">前言</font><br><font size=\"3\">　　今天重启了一下服务器后，发现Mysql没有自动启动，ssh登录后，发现不能启动mysql了。提示start: Job failed to start。</font><br><br><pre>root@AY140317032536327eafZ:/home/apacal# service mysql start   \r\nstart: Job failed to start\r\n</pre><font face=\"Comic Sans MS\" size=\"3\">　　查看日志发现有：</font><pre>Mar 21 01:34:32 AY140317032536327eafZ kernel: [ 5822.167094] init: mysql respawning too fast, stopped</pre><pre>root@AY140317032536327eafZ:/www/ApacalBlog# tail -n 40 /var/log/kern.log \r\nMar 21 01:22:03 AY140317032536327eafZ kernel: [ 5073.099435] type=1400 audit(1395336123.353:25): apparmor=\"STATUS\" operation=\"profile_replace\" name=\"/usr/sbin/mysqld\" pid=5150 comm=\"apparmor_parser\"\r\nMar 21 01:22:03 AY140317032536327eafZ kernel: [ 5073.155001] init: mysql main process (5162) terminated with status 1\r\nMar 21 01:22:03 AY140317032536327eafZ kernel: [ 5073.155027] init: mysql main process ended, respawning\r\nMar 21 01:22:04 AY140317032536327eafZ kernel: [ 5074.135372] init: mysql post-start process (5163) terminated with status 1\r\nMar 21 01:22:04 AY140317032536327eafZ kernel: [ 5074.142467] type=1400 audit(1395336124.397:26): apparmor=\"STATUS\" operation=\"profile_replace\" name=\"/usr/sbin/mysqld\" pid=5202 comm=\"apparmor_parser\"\r\nMar 21 01:22:04 AY140317032536327eafZ kernel: [ 5074.196173] init: mysql main process (5214) terminated with status 1\r\nMar 21 01:22:04 AY140317032536327eafZ kernel: [ 5074.196199] init: mysql respawning too fast, stopped\r\nMar 21 01:23:37 AY140317032536327eafZ kernel: [ 5166.924853] type=1400 audit(1395336217.181:27): apparmor=\"STATUS\" operation=\"profile_replace\" name=\"/usr/sbin/mysqld\" pid=5318 comm=\"apparmor_parser\"\r\nMar 21 01:23:37 AY140317032536327eafZ kernel: [ 5166.978981] init: mysql main process (5330) terminated with status 1\r\nMar 21 01:23:37 AY140317032536327eafZ kernel: [ 5166.979006] init: mysql main process ended, respawning\r\nMar 21 01:23:38 AY140317032536327eafZ kernel: [ 5167.958078] init: mysql post-start process (5331) terminated with status 1\r\nMar 21 01:23:38 AY140317032536327eafZ kernel: [ 5167.966207] type=1400 audit(1395336218.221:28): apparmor=\"STATUS\" operation=\"profile_replace\" name=\"/usr/sbin/mysqld\" pid=5364 comm=\"apparmor_parser\"\r\nMar 21 01:23:38 AY140317032536327eafZ kernel: [ 5168.021028] init: mysql main process (5376) terminated with status 1\r\nMar 21 01:23:38 AY140317032536327eafZ kernel: [ 5168.021053] init: mysql main process ended, respawning\r\nMar 21 01:23:39 AY140317032536327eafZ kernel: [ 5169.002118] init: mysql post-start process (5377) terminated with status 1\r\nMar 21 01:23:39 AY140317032536327eafZ kernel: [ 5169.009642] type=1400 audit(1395336219.265:29): apparmor=\"STATUS\" operation=\"profile_replace\" name=\"/usr/sbin/mysqld\" pid=5410 comm=\"apparmor_parser\"\r\nMar 21 01:23:39 AY140317032536327eafZ kernel: [ 5169.063451] init: mysql main process (5422) terminated with status 1\r\nMar 21 01:23:39 AY140317032536327eafZ kernel: [ 5169.063485] init: mysql respawning too fast, stopped\r\nMar 21 01:23:50 AY140317032536327eafZ kernel: [ 5180.277536] type=1400 audit(1395336230.533:30): apparmor=\"STATUS\" operation=\"profile_replace\" name=\"/usr/sbin/mysqld\" pid=5463 comm=\"apparmor_parser\"\r\nMar 21 01:23:50 AY140317032536327eafZ kernel: [ 5180.332336] init: mysql main process (5475) terminated with status 1\r\nMar 21 01:23:50 AY140317032536327eafZ kernel: [ 5180.332363] init: mysql main process ended, respawning\r\nMar 21 01:23:51 AY140317032536327eafZ kernel: [ 5181.313461] init: mysql post-start process (5476) terminated with status 1\r\nMar 21 01:23:51 AY140317032536327eafZ kernel: [ 5181.320823] type=1400 audit(1395336231.577:31): apparmor=\"STATUS\" operation=\"profile_replace\" name=\"/usr/sbin/mysqld\" pid=5509 comm=\"apparmor_parser\"\r\nMar 21 01:23:51 AY140317032536327eafZ kernel: [ 5181.373368] init: mysql main process (5521) terminated with status 1\r\nMar 21 01:23:51 AY140317032536327eafZ kernel: [ 5181.373394] init: mysql main process ended, respawning\r\nMar 21 01:23:52 AY140317032536327eafZ kernel: [ 5182.354776] init: mysql post-start process (5522) terminated with status 1\r\nMar 21 01:23:52 AY140317032536327eafZ kernel: [ 5182.362308] type=1400 audit(1395336232.617:32): apparmor=\"STATUS\" operation=\"profile_replace\" name=\"/usr/sbin/mysqld\" pid=5555 comm=\"apparmor_parser\"\r\nMar 21 01:23:52 AY140317032536327eafZ kernel: [ 5182.419108] init: mysql main process (5567) terminated with status 1\r\nMar 21 01:23:52 AY140317032536327eafZ kernel: [ 5182.419133] init: mysql respawning too fast, stopped\r\nMar 21 01:34:30 AY140317032536327eafZ kernel: [ 5820.025253] type=1400 audit(1395336870.284:33): apparmor=\"STATUS\" operation=\"profile_replace\" name=\"/usr/sbin/mysqld\" pid=5905 comm=\"apparmor_parser\"\r\nMar 21 01:34:30 AY140317032536327eafZ kernel: [ 5820.084172] init: mysql main process (5917) terminated with status 1\r\nMar 21 01:34:30 AY140317032536327eafZ kernel: [ 5820.084209] init: mysql main process ended, respawning\r\nMar 21 01:34:31 AY140317032536327eafZ kernel: [ 5821.063539] init: mysql post-start process (5918) terminated with status 1\r\nMar 21 01:34:31 AY140317032536327eafZ kernel: [ 5821.071279] type=1400 audit(1395336871.328:34): apparmor=\"STATUS\" operation=\"profile_replace\" name=\"/usr/sbin/mysqld\" pid=5951 comm=\"apparmor_parser\"\r\nMar 21 01:34:31 AY140317032536327eafZ kernel: [ 5821.127097] init: mysql main process (5963) terminated with status 1\r\nMar 21 01:34:31 AY140317032536327eafZ kernel: [ 5821.127123] init: mysql main process ended, respawning\r\nMar 21 01:34:32 AY140317032536327eafZ kernel: [ 5822.105340] init: mysql post-start process (5964) terminated with status 1\r\nMar 21 01:34:32 AY140317032536327eafZ kernel: [ 5822.112568] type=1400 audit(1395336872.372:35): apparmor=\"STATUS\" operation=\"profile_replace\" name=\"/usr/sbin/mysqld\" pid=5997 comm=\"apparmor_parser\"\r\nMar 21 01:34:32 AY140317032536327eafZ kernel: [ 5822.167069] init: mysql main process (6009) terminated with status 1\r\nMar 21 01:34:32 AY140317032536327eafZ kernel: [ 5822.167094] init: mysql respawning too fast, stopped <br></pre><div style=\"position: absolute; top: -1999px; left: -1988px;\" id=\"stcpDiv\"><ul class=\"post-meta\"><li class=\"author\" style=\"font-weight:bold\"><span style=\"color:black\">Answer By</span> <a target=\"_blank\" href=\"http://askubuntu.com/users/11615\">Tom</a></li></ul><p>I\r\n finally figured out the issue. Basically, the definition of some \r\nparameters has been removed from the previous version of mysql and has \r\nbeen replaced with different names. To fix, in /etc/mysql/my.cnf, \r\nreplace:</p>\r\n\r\n<pre><code># Tom Added to ensure the server character set is set to utf8\r\ndefault-character-set = utf8\r\ndefault-collation     = utf8_general_ci\r\n</code></pre>\r\n\r\n<p>with:</p>\r\n\r\n<pre><code># Tom Added to ensure the server character set is set to utf8\r\ncharacter_set_server  = utf8\r\ncollation_server      = utf8_general_ci\r\n</code></pre>\r\n\r\n<p>This is the associated launchpad bug report: <a href=\"https://bugs.launchpad.net/ubuntu/+source/mysql-5.5/+bug/958120\" rel=\"nofollow\">https://bugs.launchpad.net/ubuntu/+source/mysql-5.5/+bug/958120</a>.</p>\r\n\r\n<p>Or easily run:</p>\r\n\r\n<pre><code># Miraz added dpkg-reconfigure\r\ndpkg-reconfigure mysql-server-5.5\r\n</code></pre>\r\n\r\n<p>But make sure there\'s no old mysql version installation installed, if there was please remove:</p>\r\n\r\n<pre><code># Miraz quick mysql package check\r\ndpkg -l *mysql*\r\n</code></pre> - See more at: http://www.answeredubuntu.com/127264/can_t_start_mysql_mysql_respawning_too_fast_stopped#sthash.LbjNU1hQ.dpuf\r\n</div><font face=\"Comic Sans MS\" size=\"3\">　　最后找到了解决方法，主要原因是我更新了一下mysql，而mysql5.5和以前的相比去处了一些参数，有两种解决方法：<br><b>1.修改参数</b><br>　　将下面的改成<br></font><pre>default-character-set = utf8 \r\ndefault-collation = utf8_general_ci</pre><font face=\"Comic Sans MS\" size=\"3\">　　with</font><pre>character_set_server = utf8 \r\ncollation_server = utf8_general_ci</pre><font face=\"Comic Sans MS\" size=\"3\">　　主要就是参数名称改了。<br><b>2.重新配置mysql</b><br><br></font><pre>dpkg-reconfigure mysql-server-5.5</pre><font face=\"Comic Sans MS\" size=\"3\">但是需要保证没有老的版本的mysql被安装，有的话remove。<br><br><br></font><pre>dpkg -l *mysql*　　#查找mysql dpkg</pre><br><img src=\"/Uploads/Article/image/20140321/ablg_1395340037.png\">',1,0,'',3,'',1395468200,1395338724),(44,2,'','PHP下删除目录的两种方法','PHP，RM，目录，删除。',278,'<b><font size=\"5\">前言 </font></b><div><font size=\"3\">　　PHP本身有一个rmdir()函数可以用来删除目录，不过要求必须是空目录，本文列举了三种方法。1、递规法；2、系统调用法； 而本人比较偏向系统调用发。</font></div><div><font size=\"3\"><br></font></div><div><font size=\"3\"><b>1.递归法。</b></font></div><div><font size=\"3\">　　php本身有rmdir</font><span style=\"font-family: \'Comic Sans MS\'; font-size: medium; line-height: 24px;\">函数，但是必须该目录为空，方法就是先删除文件，再删除文件夹，递归下去。</span></div><pre>bool rmdir ( string $dirname [, resource $context ] )</pre><font face=\"Comic Sans MS\" size=\"3\"><span style=\"line-height: 24px;\">       </span></font><pre>/**\r\n * 递归删除目录下的文件\r\n */\r\nfunction delTree($dir) { \r\n    $files = array_diff(scandir($dir), array(\'.\',\'..\')); \r\n    foreach ($files as $file) { \r\n        (is_dir(\"$dir/$file\")) ? delTree(\"$dir/$file\") : unlink(\"$dir/$file\"); \r\n    } \r\n    rmdir($dir); \r\n} \r\n</pre><font face=\"Comic Sans MS\" size=\"3\"><b>2.系统调用。</b></font><div><font face=\"Comic Sans MS\" size=\"3\">　　通过system函数等去执行系统命令。比如：rm -fr</font></div><pre>string system ( string $command [, int &$return_var ] )\r\n\r\nsystem() is just like the C version of the function in that it executes the given command and outputs the result.\r\n\r\nThe system() call also tries to automatically flush the web server\'s output buffer after each line of output if PHP is running as a server module.</pre><pre>/**\r\n * 系统调用\r\n **/\r\nfunction del_dir($dir) {\r\n    if(strtoupper(substr(PHP_OS, 0, 3)) == \'WIN\') {   \r\n            $str = \"rmdir /s/q \".$dir;   \r\n    }else{   \r\n            $str = \"rm -fr \".$dir;   \r\n    }   \r\n    $line = system($str, $result);\r\n    if($line)\r\n        echo $result;\r\n}\r\n</pre><font face=\"Comic Sans MS\" size=\"5\"><span style=\"line-height: 24px;\"><b>总结。</b></span></font><div><font face=\"Comic Sans MS\"><span style=\"line-height: 24px;\"><b style=\"font-size: x-large;\">　　</b><font size=\"3\">使用系统调用的时间复杂度和空间复杂会底一点，对于递归来说，当目录下有很多目录时就浪费很多系统heap。</font></span></font></div><div><font face=\"Comic Sans MS\"><span style=\"line-height: 24px;\"><font size=\"3\"><br></font></span></font></div><a href=\"/Uploads/Article/file/20140321/1395387479.gz\"><font size=\"3\" face=\"Comic Sans MS\">附件：测试</font></a>',1,0,'',3,'',1395842913,1395344534),(45,3,'','21天教你学会C++','21天教你，学会，C++',432,'<p style=\"padding: 0px; color: rgb(85, 85, 85); font-size: 16px; line-height: 27.200000762939453px;\"><font face=\"Comic Sans MS\">下面是一个《Teach Yourself  C++ in 21 Days》的流程图，请各位程序员同仁认真领会。如果有必要，你可以查看这个图书以作参照：<a href=\"http://www.china-pub.com/27043\" target=\"_blank\" style=\"color: rgb(41, 112, 166);\">http://www.china-pub.com/27043</a></font></p><p style=\"padding: 0px; color: rgb(85, 85, 85); font-size: 16px; line-height: 27.200000762939453px;\"><a href=\"http://www.china-pub.com/27043\" target=\"_blank\" style=\"color: rgb(41, 112, 166);\"><br></a><img class=\"view-image\" src=\"/Uploads/Article/image/20140325/ablg_1395678263.jpg\"></p><p></p><p style=\"padding: 0px; color: rgb(85, 85, 85); font-size: 16px; line-height: 27.200000762939453px;\"><font face=\"Comic Sans MS\">看完上面这个图片，我在想，我学习C++有12年了，好像C++也没有学得特别懂，看到STL和泛型，还是很头大。不过，我应该去考虑研究量子物理和生物化学，这样，我才能重返98年杀掉还在大学的我，然后达到21天搞定C++的目标。另外，得要特别提醒刚刚开始学习C++的朋友，第21天的时候，小心被人杀害。呵呵。</font></p><p style=\"padding: 0px; color: rgb(85, 85, 85); font-size: 16px; line-height: 27.200000762939453px;\"><font face=\"Comic Sans MS\">当然，上面只是一个恶搞此类图片，学习一门技术，需要你很长的时间，正如图片中的第三图和第四图所示，你需要用十年的时间去不断在尝试，并在错误中总结经验教训，以及在项目开发中通过与别人相互沟通互相学习来历练自己。你才能算得上是真正学会。</font></p><p style=\"padding: 0px; color: rgb(85, 85, 85); font-size: 16px; line-height: 27.200000762939453px;\"><font face=\"Comic Sans MS\">这里有篇文章叫《<a href=\"http://norvig.com/21-days.html\" target=\"_blank\" style=\"color: rgb(41, 112, 166);\"><strong>Teach Yourself Programming in Ten Years</strong></a>》，网上有人翻译了一下，不过原文已被更新了，我把网上的译文转载并更新如下：</font></p><p style=\"padding: 0px; color: rgb(85, 85, 85); font-size: 16px; line-height: 27.200000762939453px;\"><font face=\"Comic Sans MS\"><span id=\"more-2250\"></span></font></p><h3 style=\"margin: 0px; padding: 10px 0px; font-weight: bold; font-size: 24px; letter-spacing: 3px; color: rgb(85, 85, 85); text-align: center;\"></h3><h3 style=\"margin: 0px; padding: 10px 0px; font-weight: bold; font-size: 24px; letter-spacing: 3px; color: rgb(85, 85, 85); text-align: center;\"><font face=\"Comic Sans MS\">用十年来学编程<br>Peter Norvig</font></h3><div style=\"margin: 0px; padding: 0px; color: rgb(85, 85, 85); font-size: 16px; line-height: 27.200000762939453px;\"></div><h4 style=\"margin-top: 40px; margin-right: 0px; margin-left: 0px; padding: 10px 0px 10px 10px; font-weight: bold; font-size: 21px; color: rgb(0, 136, 0); border-left-color: green; border-left-style: solid; border-left-width: thick; background-color: rgb(248, 248, 248);\"><font face=\"Comic Sans MS\">为什么每个人都急不可耐？</font></h4><div style=\"margin: 0px; padding: 0px; color: rgb(85, 85, 85); font-size: 16px; line-height: 27.200000762939453px;\"><font face=\"Comic Sans MS\">走进任何一家书店，你会看见《Teach Yourself Java in 7 Days》（7天Java无师自通）的旁边是一长排看不到尽头的类似书籍，它们要教会你Visual Basic、Windows、Internet等等，而只需要几天甚至几小时。我在<a href=\"http://www.amazon.com/\" target=\"_blank\" style=\"color: rgb(41, 112, 166);\">Amazon.com</a>上进行了如下<a href=\"http://www.amazon.com/exec/obidos/tg/browse/-/468558/104-5938873-6579160\" style=\"color: rgb(41, 112, 166);\">搜索</a>：</font></div><div style=\"margin: 0px; padding: 0px; color: rgb(85, 85, 85); font-size: 16px; line-height: 27.200000762939453px;\"></div><div style=\"margin: 0px; padding: 0px; color: rgb(85, 85, 85); font-size: 16px; line-height: 27.200000762939453px;\"><font face=\"Comic Sans MS\"><a href=\"http://www.amazon.com/exec/obidos/search-handle-url/ix=books&rank=%2Bfeaturedrank&fqp=power%01pubdate%3A%20after%201992%20and%20title%3A%20days%20and%0D%20%28title%3A%20learn%20or%20title%3A%20teach%20yourself%29&sz=25&pg=1/ref=s_b_np\" target=\"_blank\" style=\"color: rgb(41, 112, 166);\">pubdate: after 1992 and title: days and (title: learn or title: teach yourself)<br></a>(出版日期：1992年后 and 书名：天 and （书名：学会 or 书名：无师自通）)</font></div><div style=\"margin: 0px; padding: 0px; color: rgb(85, 85, 85); font-size: 16px; line-height: 27.200000762939453px;\"></div><div style=\"margin: 0px; padding: 0px; color: rgb(85, 85, 85); font-size: 16px; line-height: 27.200000762939453px;\"><font face=\"Comic Sans MS\">我一共得到了248个搜索结果。前面的78个是计算机书籍（第79个是《<a href=\"http://www.amazon.com/exec/obidos/ASIN/0781802245/\" target=\"_blank\" style=\"color: rgb(41, 112, 166);\">Learn Bengali in 30 days</a>》，30天学会孟加拉语）。我把关键词“days”换成“<a href=\"http://www.amazon.com/exec/obidos/search-handle-url/ix=books&rank=%2Bfeaturedrank&fqp=power%01pubdate%3A%20after%201992%20and%20title%3A%20hours%20and%0D%20%28title%3A%20learn%20or%20title%3A%20teach%20yourself%29&sz=25&pg=3/ref=s_b_np\" target=\"_blank\" style=\"color: rgb(41, 112, 166);\">hours</a>”，得到了非常相似的结果：这次有253本书，头77本是计算机书籍，第78本是《<a href=\"http://www.amazon.com/exec/obidos/ASIN/0028638999/\" target=\"_blank\" style=\"color: rgb(41, 112, 166);\">Teach Yourself Grammar and Style in 24 Hours</a>》（24小时学会文法和文体）。头200本书中，有96%是计算机书籍。</font></div><div style=\"margin: 0px; padding: 0px; color: rgb(85, 85, 85); font-size: 16px; line-height: 27.200000762939453px;\"></div><div style=\"margin: 0px; padding: 0px; color: rgb(85, 85, 85); font-size: 16px; line-height: 27.200000762939453px;\"><font face=\"Comic Sans MS\">结论是，要么是人们非常急于学会计算机，要么就是不知道为什么计算机惊人地简单，比任何东西都容易学会。没有一本书是要在几天里教会人们欣赏贝多芬或者量子物理学，甚至怎样给狗打扮。在《<em><a href=\"http://www.ccs.neu.edu/home/matthias/HtDP2e/index.html\" style=\"color: rgb(41, 112, 166);\">How to Design Programs</a></em>》这本书里说“<em>Bad programming is easy. Idiots can learn it in 21 days, even if they are dummies.”</em>（坏的程序是很容易的，就算他们是笨蛋白痴都可以在21天内学会。）</font></div><div style=\"margin: 0px; padding: 0px; color: rgb(85, 85, 85); font-size: 16px; line-height: 27.200000762939453px;\"></div><div style=\"margin: 0px; padding: 0px; color: rgb(85, 85, 85); font-size: 16px; line-height: 27.200000762939453px;\"><font face=\"Comic Sans MS\">让我们来分析一下像《<a href=\"http://www.amazon.com/Learn-C-Three-Days-Rachele/dp/1556227078\" target=\"_self\" style=\"color: rgb(41, 112, 166);\">Learn C++ in Three Days</a>》（3天学会C++）这样的题目到底是什么意思：</font></div><ul style=\"margin-bottom: 0px; margin-left: 0px; padding-bottom: 10px; color: rgb(85, 85, 85); font-size: 16px; line-height: 27.200000762939453px;\"><li style=\"margin: 0px; padding: 0px 0px 0px 20px; list-style-position: inside;\"><font face=\"Comic Sans MS\"><strong>学会</strong>：在3天时间里，你不够时间写一些有意义的程序，并从它们的失败与成功中学习。你不够时间跟一些有经验的程序员一起工作，你不会知道在C++那样的环境中是什么滋味。简而言之，没有足够的时间让你学到很多东西。所以这些书谈论的只是表面上的精通，而非深入的理解。如Alexander Pope（英国诗人、作家，1688-1744）所言，<strong><span style=\"color: rgb(128, 0, 128);\">一知半解是危险的（a little learning is a dangerous thing）</span></strong></font></li><li style=\"margin: 0px; padding: 0px 0px 0px 20px; list-style-position: inside;\"><font face=\"Comic Sans MS\"><strong>C++</strong>：在3天时间里你可以学会C++的语法（如果你已经会一门类似的语言），但你无法学到多少如何运用这些语法。简而言之，如果你是，比如说一个Basic程序员，你可以学会用C++语法写出Basic风格的程序，但你学不到C++真正的优点（和缺点）。那关键在哪里？Alan Perlis（ACM第一任主席，图灵奖得主，1922-1990）曾经说过：“<strong><span style=\"color: rgb(128, 0, 128);\">如果一门语言不能影响你对编程的想法，那它就不值得去学</span></strong>”。另一种观点是，有时候你不得不学一点C++（更可能是javascript和Flash Flex之类）的皮毛，因为你需要接触现有的工具，用来完成特定的任务。但此时你不是在学习如何编程，你是在学习如何完成任务。</font></li><li style=\"margin: 0px; padding: 0px 0px 0px 20px; list-style-position: inside;\"><font face=\"Comic Sans MS\"><strong>3天</strong>：不幸的是，这是不够的，正如下一节所言。</font></li></ul><h4 style=\"margin-top: 40px; margin-right: 0px; margin-left: 0px; padding: 10px 0px 10px 10px; font-weight: bold; font-size: 21px; color: rgb(0, 136, 0); border-left-color: green; border-left-style: solid; border-left-width: thick; background-color: rgb(248, 248, 248);\"><font face=\"Comic Sans MS\">10年学编程</font></h4><div style=\"margin: 0px; padding: 0px; color: rgb(85, 85, 85); font-size: 16px; line-height: 27.200000762939453px;\"><font face=\"Comic Sans MS\">一些研究者（<a href=\"http://www.amazon.com/exec/obidos/ASIN/034531509X/\" style=\"color: rgb(41, 112, 166);\">Bloom (1985)</a>, <a href=\"http://norvig.com/21-days.html#bh\" style=\"color: rgb(41, 112, 166);\">Bryan & Harter (1899)</a>, <a href=\"http://www.amazon.com/exec/obidos/ASIN/0805803092\" style=\"color: rgb(41, 112, 166);\">Hayes (1989)</a>, <a href=\"http://norvig.com/21-days.html#sc\" style=\"color: rgb(41, 112, 166);\">Simmon & Chase (1973)</a>）的研究表明，在许多领域，都需要大约10 年时间才能培养出专业技能，包括国际象棋、作曲、绘画、钢琴、游泳、网球，以及神经心理学和拓扑学的研究。似乎并不存在真正的捷径：即使是莫扎特，他4 岁就显露出音乐天才，在他写出世界级的音乐之前仍然用了超过13年时间。再看另一种音乐类型的披头士，他们似乎是在1964年的Ed Sullivan节目中突然冒头的。但其实他们从1957年就开始表演了，即使他们很早就显示出了巨大的吸引力，他们第一次真正的成功——Sgt. Peppers——也要到1967年才发行。<a href=\"http://www.amazon.com/Outliers-Story-Success-Malcolm-Gladwell/dp/0316017922\" style=\"color: rgb(41, 112, 166);\">Malcolm Gladwell</a> 研究报告称，把在伯林音乐学院学生一个班的学生按水平分成高中低，然后问他们对音乐练习花了多少工夫：</font></div><blockquote style=\"margin-top: 5px; margin-bottom: 5px; padding: 8px 12px 8px 36px; background-image: url(http://coolshell.cn/wp-content/themes/inove/img/blockquote.gif); background-color: rgb(244, 245, 247); border: 1px dashed rgb(204, 204, 204); color: rgb(85, 85, 85); font-size: 16px; line-height: 27.200000762939453px; background-position: 3px 3px; background-repeat: no-repeat no-repeat;\"><p style=\"margin-bottom: 10px; padding: 0px;\"><font face=\"Comic Sans MS\">在这三个小组中的每一个人基本上都是从相同的时间开始练习的（在五岁的时候）。在开始的几年里，每个人都是每周练习2-3个小时。但是在八岁的时候，练习的强度开始显现差异。在这个班中水平最牛的人开始比别人练习得更多——在九岁的时候每周练习6个小时，十二岁的时候，每周8个小时，十四岁的时候每周16个小时，并在成长过程中练习得越来越多，到20岁的时候，其每周练习可超过30个小时。到了20岁，这些优秀者在其生命中练习音乐总共超过 10,000 小时。与之对比，其它人只平均有8,000小时，而未来只能留校当老师的人仅仅是4,000 小时。</font></p></blockquote><div style=\"margin: 0px; padding: 0px; color: rgb(85, 85, 85); font-size: 16px; line-height: 27.200000762939453px;\"><font face=\"Comic Sans MS\">所以，这也许需要10,000 小时，并不是十年，但这是一个magic number。Samuel Johnson（英国诗人）认为10 年还是不够的：“<strong><span style=\"color: rgb(128, 0, 128);\">任何领域的卓越成就都只能通过一生的努力来获得；稍低一点的代价也换不来。</span></strong>”（Excellence in any department can be attained only by the labor of a lifetime; it is not to be purchased at a lesser price.） 乔叟（Chaucer，英国诗人，1340-1400）也抱怨说：“<strong><span style=\"color: rgb(128, 0, 128);\">生命如此短暂，掌握技艺却要如此长久。</span></strong>”（the lyf so short, the craft so long to lerne.）</font></div><div style=\"margin: 0px; padding: 0px; color: rgb(85, 85, 85); font-size: 16px; line-height: 27.200000762939453px;\"></div><div style=\"margin: 0px; padding: 0px; color: rgb(85, 85, 85); font-size: 16px; line-height: 27.200000762939453px;\"><font face=\"Comic Sans MS\">下面是我在编程这个行当里获得成功的处方：</font></div><ul style=\"margin-bottom: 0px; margin-left: 0px; padding-bottom: 10px; color: rgb(85, 85, 85); font-size: 16px; line-height: 27.200000762939453px;\"><li style=\"margin: 0px; padding: 0px 0px 0px 20px; list-style-position: inside;\"><font face=\"Comic Sans MS\">对编程感兴趣，因为乐趣而去编程。确定始终都能保持足够的乐趣，以致你能够将10年时间投入其中。</font></li><li style=\"margin: 0px; padding: 0px 0px 0px 20px; list-style-position: inside;\"><font face=\"Comic Sans MS\">跟其他程序员交谈；阅读其他程序。这比任何书籍或训练课程都更重要。</font></li><li style=\"margin: 0px; padding: 0px 0px 0px 20px; list-style-position: inside;\"><font face=\"Comic Sans MS\">编程。最好的学习是<a href=\"http://www.engines4ed.org/hyperbook/nodes/NODE-120-pg.html\" target=\"_blank\" style=\"color: rgb(41, 112, 166);\">从实践中学习</a>。用更加技术性的语言来讲，“个体在特定领域最高水平的表现不是作为长期的经验的结果而自动获得的，但即使是非常富有经验的个体也可以通过刻意的努力而提高其表现水平。”（<a href=\"http://www2.umassd.edu/swpi/DesignInCS/expertise.html\" target=\"_blank\" style=\"color: rgb(41, 112, 166);\">p. 366</a>），而且“最有效的学习要求为特定个体制定适当难度的任务，有意义的反馈，以及重复及改正错误的机会。”（p. 20-21）《<a href=\"http://www.amazon.com/exec/obidos/ASIN/0521357349\" target=\"_blank\" style=\"color: rgb(41, 112, 166);\">Cognition in Practice: Mind, Mathematics, and Culture in Everyday Life</a>》（在实践中认知：心智、数学和日常生活的文化）是关于这个观点的一本有趣的参考书。</font></li><li style=\"margin: 0px; padding: 0px 0px 0px 20px; list-style-position: inside;\"><font face=\"Comic Sans MS\">如果你愿意，在大学里花上4年时间（或者再花几年读研究生）。这能让你获得一些工作的入门资格，还能让你对此领域有更深入的理解，但如果你不喜欢进学校，（作出一点牺牲）你在工作中也同样能获得类似的经验。在任何情况下，单从书本上学习都是不够的。“计算机科学的教育不会让任何人成为内行的程序员，正如研究画笔和颜料不会让任何人成为内行的画家”, Eric Raymond，《The New Hacker’s Dictionary》（新黑客字典）的作者如是说。我曾经雇用过的最优秀的程序员之一仅有高中学历；但他创造出了许多伟大的软件（<a href=\"http://www.xemacs.org/\" target=\"_blank\" style=\"color: rgb(41, 112, 166);\">XEmacs</a>, <a href=\"http://www.mozilla.org/\" target=\"_blank\" style=\"color: rgb(41, 112, 166);\">Mozilla</a>），甚至有讨论他本人的<a href=\"http://groups.google.com/groups?q=alt.fan.jwz&meta=site%3Dgroups\" target=\"_blank\" style=\"color: rgb(41, 112, 166);\">新闻组</a>，而且股票期权让他达到我无法企及的<a href=\"http://en.wikipedia.org/wiki/DNA_Lounge\" target=\"_blank\" style=\"color: rgb(41, 112, 166);\">富有程度</a>（译注：指Jamie Zawinski，Xemacs和Netscape的作者）。</font></li><li style=\"margin: 0px; padding: 0px 0px 0px 20px; list-style-position: inside;\"><font face=\"Comic Sans MS\">跟别的程序员一起完成项目。在一些项目中成为最好的程序员；在其他一些项目中当最差的一个。当你是最好的程序员时，你要测试自己领导项目的能力，并通过你的洞见鼓舞其他人。当你是最差的时候，你学习高手们在做些什么，以及他们不喜欢做什么（因为他们让你帮他们做那些事）。</font></li><li style=\"margin: 0px; padding: 0px 0px 0px 20px; list-style-position: inside;\"><font face=\"Comic Sans MS\">接手别的程序员完成项目。用心理解别人编写的程序。看看在没有最初的程序员在场的时候理解和修改程序需要些什么。想一想怎样设计你的程序才能让别人接手维护你的程序时更容易一些。</font></li><li style=\"margin: 0px; padding: 0px 0px 0px 20px; list-style-position: inside;\"><font face=\"Comic Sans MS\">学会至少半打编程语言。包括一门支持类抽象（class abstraction）的语言（如Java或C++），一门支持函数抽象（functional abstraction）的语言（如Lisp或ML），一门支持句法抽象（syntactic abstraction）的语言（如Lisp），一门支持说明性规约（declarative specification）的语言（如Prolog或C++模版），一门支持协程（coroutine）的语言（如Icon或Scheme），以及一门支持并行处理（parallelism）的语言（如Sisal）。</font></li><li style=\"margin: 0px; padding: 0px 0px 0px 20px; list-style-position: inside;\"><font face=\"Comic Sans MS\">记住在“计算机科学”这个词组里包含“计算机”这个词。了解你的计算机执行一条指令要多长时间，从内存中取一个word要多长时间（包括缓存命中和未命中的情况），从磁盘上读取连续的数据要多长时间，定位到磁盘上的新位置又要多长时间。（<a href=\"http://norvig.com/21-days.html#answers\" target=\"_blank\" style=\"color: rgb(41, 112, 166);\">答案在这里</a>）</font></li><li style=\"margin: 0px; padding: 0px 0px 0px 20px; list-style-position: inside;\"><font face=\"Comic Sans MS\">尝试参与到一项语言标准化工作中。可以是ANSI C++委员会，也可以是决定自己团队的编码风格到底采用2个空格的缩进还是4个。不论是哪一种，你都可以学到在这门语言中到底人们喜欢些什么，他们有多喜欢，甚至有可能稍微了解为什么他们会有这样的感觉。</font></li><li style=\"margin: 0px; padding: 0px 0px 0px 20px; list-style-position: inside;\"><font face=\"Comic Sans MS\">拥有尽快从语言标准化工作中抽身的良好判断力。</font></li></ul><p style=\"padding: 0px; color: rgb(85, 85, 85); font-size: 16px; line-height: 27.200000762939453px;\"><font face=\"Comic Sans MS\">抱着这些想法，我很怀疑从书上到底能学到多少东西。在我第一个孩子出生前，我读完了所有“怎样……”的书，却仍然感到自己是个茫无头绪的新手。30个月后，我第二个孩子出生的时候，我重新拿起那些书来复习了吗？不。相反，我依靠我自己的经验，结果比专家写的几千页东西更有用更靠得住。</font></p><p style=\"padding: 0px; color: rgb(85, 85, 85); font-size: 16px; line-height: 27.200000762939453px;\"><font face=\"Comic Sans MS\">Fred Brooks在他的短文《<a href=\"http://en.wikipedia.org/wiki/No_Silver_Bullet\" target=\"_blank\" style=\"color: rgb(41, 112, 166);\">No Silver Bullets</a>》（没有银弹）中确立了如何发现杰出的软件设计者的三步规划：</font></p><ul style=\"margin-bottom: 0px; margin-left: 0px; padding-bottom: 10px; color: rgb(85, 85, 85); font-size: 16px; line-height: 27.200000762939453px;\"><li style=\"margin: 0px; padding: 0px 0px 0px 20px; list-style-position: inside;\"><font face=\"Comic Sans MS\">尽早系统地识别出最好的设计者群体。</font></li><li style=\"margin: 0px; padding: 0px 0px 0px 20px; list-style-position: inside;\"><font face=\"Comic Sans MS\">指派一个事业上的导师负责有潜质的对象的发展，小心地帮他保持职业生涯的履历。</font></li><li style=\"margin: 0px; padding: 0px 0px 0px 20px; list-style-position: inside;\"><font face=\"Comic Sans MS\">让成长中的设计师们有机会互相影响，互相激励。</font></li></ul><p style=\"padding: 0px; color: rgb(85, 85, 85); font-size: 16px; line-height: 27.200000762939453px;\"><font face=\"Comic Sans MS\">这实际上是假定了有些人本身就具有成为杰出设计师的必要潜质；要做的只是引导他们前进。<a href=\"http://www-pu.informatik.uni-tuebingen.de/users/klaeren/epigrams.html\" target=\"_blank\" style=\"color: rgb(41, 112, 166);\">Alan Perlis</a>说得更简洁：“每个人都可以被教授如何雕塑；而对米开朗基罗来说，能教给他的倒是怎样能够不去雕塑。杰出的程序员也一样”。</font></p><p style=\"padding: 0px; color: rgb(85, 85, 85); font-size: 16px; line-height: 27.200000762939453px;\"><font face=\"Comic Sans MS\">所以尽管去买那些Java书；你很可能会从中找到些用处。但你的生活，或者你作为程序员的真正的专业技术，并不会因此在24小时、24天甚至24个月内发生真正的变化。</font></p>',1,0,'',3,'',1395678309,1395517740),(46,1,'','将vim变得简单:如何在vim中得到你最喜爱的IDE特性','VIM，IDE',233,'<p style=\"padding: 0px; color: rgb(85, 85, 85); line-height: 27.200000762939453px;\"><font face=\"Comic Sans MS\" size=\"3\"><strong>摘要：</strong><br>开源的vim文本编辑器提供许多灵活而强大的功能，但是vim自身是很难被配置使用的，在本教材中，我们将向你显示通过几个简单的方式使得你的vim具有集成开发环境IDE的行为</font></p><p style=\"padding: 0px; color: rgb(85, 85, 85); line-height: 27.200000762939453px;\"><font face=\"Comic Sans MS\" size=\"3\">vim是很多程序员和系统管理员最爱的文本编辑器，虽然他提供了很多优秀而灵活的功能，但是对于新手来说他依然是难于上手的。从传统集成开发环境转到vim的开发人员通常会开在发方式的转变中发现迷失了自己。</font></p><p style=\"padding: 0px; color: rgb(85, 85, 85); line-height: 27.200000762939453px;\"><font face=\"Comic Sans MS\" size=\"3\">我经常收到来自于读者的邮件，他们希望能找到一种方式使得vim变得对开发者更友好。一个常见的抱怨是vim并不是自身就带有IDE的特性，并且如何来通过配置能得到等价IDE功能也不是很清晰。而揭开vim真正神奇的秘密就是利用强大的vim插件系统和对vim自身功能的改善和增强的第三方脚本。在阅你读本文之前，我已经整理好了一个vim的有用tips和插件列表，这些列表中的内容将会使那些用惯IDE功能的人们在vim上感到宾至如归的感觉。</font></p><p style=\"padding: 0px; color: rgb(85, 85, 85); line-height: 27.200000762939453px;\"><font face=\"Comic Sans MS\" size=\"3\"><span id=\"more-894\"></span></font></p><p style=\"padding: 0px; color: rgb(85, 85, 85); line-height: 27.200000762939453px;\"><font face=\"Comic Sans MS\" size=\"3\">虽然vim主要是设计给基于字符方式的文本编辑器，并且它有可能是这类编辑器中最高效的工具，但是现在在vim上也存在一些更适合新手使用的基于图形的外壳。不像运行在终端窗口上的vim，你可以尝试使用一下gvim,一个基于GUI的vim版本。gvim拥有可配置的的菜单和工具条，因此可以通过鼠标直接访问到vim的编程上的最本质的特性。gvim可以让你使用操作系统自带的文件对话框，并允许你通过鼠标点击拖拉编辑面板的能力。gvim有windows和linux的版本，等价的Mac OS X的版本是MacVim，MacVim提供了Mac机的本地Cocoa用户接口，包括菜单集成的功能。</font></p><div class=\"ui-wrapper\" style=\"overflow: hidden; position: static; width: 746px; height: 416px; top: auto; left: auto; margin: 0px;\"><img class=\"view-image\" src=\"/Uploads/Article/image/20140323/ablg_1395523567.png\" style=\"color: rgb(57, 57, 57); line-height: 1.5; resize: none; position: static; zoom: 1; display: block; margin: 0px; height: 414px; width: 744px;\"><div class=\"ui-resizable-handle ui-resizable-e\" style=\"z-index: 90;\"></div><div class=\"ui-resizable-handle ui-resizable-s\" style=\"z-index: 90;\"></div><div class=\"ui-resizable-handle ui-resizable-se ui-icon ui-icon-gripsmall-diagonal-se\" style=\"z-index: 90;\"></div></div><p></p><p style=\"padding: 0px;\"><br style=\"color: rgb(57, 57, 57); line-height: 1.5;\"><span style=\"color: rgb(85, 85, 85); line-height: 27.200000762939453px; font-family: \'Comic Sans MS\'; font-size: medium;\">我听到来自vim用户最经常被抱怨的功能是vim的编辑区列表非常麻烦，并且没有一种简单的方式可以明了的看到什么文件是打开的。在vim上有几个插件可以解决这个问题，并提供了一个额外的编辑区列表用于方便在打开文件中切换。我最喜欢的一个插件是</span><a href=\"http://www.vim.org/scripts/script.php?script_id=159\" style=\"color: rgb(41, 112, 166); line-height: 27.200000762939453px; font-family: \'Comic Sans MS\'; font-size: medium;\">MiniBufExplorer</a><span style=\"color: rgb(85, 85, 85); line-height: 27.200000762939453px; font-family: \'Comic Sans MS\'; font-size: medium;\">　（</span><a href=\"https://github.com/fholgado/minibufexpl.vim\" style=\"color: rgb(85, 85, 85); line-height: 27.200000762939453px; font-family: \'Comic Sans MS\'; font-size: medium;\">GIT地址</a><span style=\"color: rgb(85, 85, 85); line-height: 27.200000762939453px; font-family: \'Comic Sans MS\'; font-size: medium;\">），它将列表显示在窗口的头上。当MiniBufExplorer被激活时，你可以通过tab键</span><font color=\"#4986e7\"><span style=\"line-height: 27.200000762939453px; font-family: \'Comic Sans MS\'; font-size: medium;\">（需要定义快捷键　.vimrc[</span><font face=\"Comic Sans MS\" size=\"3\"><span style=\"line-height: 27.200000762939453px;\">noremap <tab>   <c-w>w]，我都习惯了吧C-W>[w h j k l])</c-w></tab></span></font></font><span style=\"font-family: \'Comic Sans MS\'; font-size: medium; color: rgb(85, 85, 85); line-height: 27.200000762939453px;\">来在列表的这些项中循环，然后通过回车键或双击鼠标来选择在编辑区显示和你要处理的文件。</span></p><p style=\"padding: 0px;\"><font style=\"color: rgb(85, 85, 85); line-height: 27.200000762939453px;\" size=\"3\">这个插件挺不错的，把</font><span style=\"color: rgb(51, 51, 51); line-height: 18px; white-space: pre;\"><font face=\"Comic Sans MS\" size=\"3\">minibufexplorer.vim放到　~/.vim/</font></span><font color=\"#333333\" face=\"Comic Sans MS\" size=\"3\"><span style=\"line-height: 18px; white-space: pre;\">plugin，下VIM会自动加载。</span></font></p><div class=\"ui-wrapper\" style=\"overflow: hidden; position: static; width: 750px; height: 420px; top: auto; left: auto; margin: 0px;\"><img class=\"view-image\" src=\"/Uploads/Article/image/20140323/ablg_1395563057.png\" style=\"display: block; resize: none; position: static; zoom: 1; margin: 0px; height: 418px; width: 748px;\"></div><div><font face=\"Comic Sans MS\"><font size=\"3\">许</font><span style=\"font-size: medium; color: rgb(85, 85, 85); line-height: 27.200000762939453px;\">多的I</span></font><span style=\"font-family: \'Comic Sans MS\'; font-size: medium; color: rgb(85, 85, 85); line-height: 27.200000762939453px;\">DE工具都有用于显示你程序项目结构和允许你通过鼠标在特定的类和方法间跳转的代码导航区。你可以通过使用流行的</span><a href=\"http://vim-taglist.sourceforge.net/installation.html\" style=\"font-family: \'Comic Sans MS\'; font-size: medium; line-height: 27.200000762939453px; color: rgb(41, 112, 166);\">Tag List 插件</a><span style=\"font-family: \'Comic Sans MS\'; font-size: medium; color: rgb(85, 85, 85); line-height: 27.200000762939453px;\">来得到这个特性。这个插件需要</span><a href=\"http://ctags.sourceforge.net/\" style=\"font-family: \'Comic Sans MS\'; font-size: medium; line-height: 27.200000762939453px; color: rgb(41, 112, 166);\">Exuberant Ctags</a><span style=\"font-family: \'Comic Sans MS\'; font-size: medium; color: rgb(85, 85, 85); line-height: 27.200000762939453px;\">实用工具，这个工具用于分析你的代码。TagList可以通过命令:Tlist来激活，并将你的类和方法显示在激活的区域，当你打开其他的文件或切换到其他打开文件时，新的类或方法会被加到代码导航区。在gvim中你可以通过单击方法名跳到对应方法定义。如果要使用键盘，那么通过光标键上下移光标到你希望的方法处，单击回车即可达到目标。</span><br></div><p style=\"padding: 0px; color: rgb(85, 85, 85); line-height: 27.200000762939453px;\"><a rel=\"attachment wp-att-895\" href=\"http://coolshell.cn/?attachment_id=895\" style=\"color: rgb(41, 112, 166);\"><font face=\"Comic Sans MS\" size=\"3\"></font></a></p><div class=\"ui-wrapper\" style=\"overflow: hidden; position: static; width: 650px; height: 854px; top: auto; left: auto; margin: 0px;\"><font style=\"color: rgb(41, 112, 166);\" face=\"Comic Sans MS\" size=\"3\"><div class=\"ui-wrapper\" style=\"overflow: hidden; position: static; width: 648px; height: 852px; top: auto; left: auto; margin: 0px;\"><img class=\"aligncenter size-full wp-image-895 ui-resizable\" title=\"vimtxt_vim_taglist_ars\" src=\"http://coolshell.cn//wp-content/uploads/2009/05/vimtxt_vim_taglist_ars.jpg\" alt=\"vimtxt_vim_taglist_ars\" style=\"max-width: 650px; resize: none; position: static; zoom: 1; display: block; margin: 0px; height: 850px; width: 646px;\" height=\"854\" width=\"720\"><a rel=\"attachment wp-att-895\" href=\"http://coolshell.cn/?attachment_id=895\"><div class=\"ui-resizable-handle ui-resizable-e\" style=\"z-index: 90;\"></div><div class=\"ui-resizable-handle ui-resizable-s\" style=\"z-index: 90;\"></div><div class=\"ui-resizable-handle ui-resizable-se ui-icon ui-icon-gripsmall-diagonal-se\" style=\"z-index: 90;\"></div></a></div><a rel=\"attachment wp-att-895\" href=\"http://coolshell.cn/?attachment_id=895\"><div class=\"ui-resizable-handle ui-resizable-e\" style=\"z-index: 90;\"></div><div class=\"ui-resizable-handle ui-resizable-s\" style=\"z-index: 90;\"></div><div class=\"ui-resizable-handle ui-resizable-se ui-icon ui-icon-gripsmall-diagonal-se\" style=\"z-index: 90;\"></div></a></font></div><p></p><p style=\"padding: 0px; color: rgb(85, 85, 85); line-height: 27.200000762939453px;\"><font face=\"Comic Sans MS\" size=\"3\">自动文本完成(<strong>译者注</strong>：就是eclipse，visual studio中常见的输入前几个字符后面的内容通过列表显示的功能)是另外一种在IDE工具中常用特性，并且很多用户都希望在vim中有这些特性。这个特性已经在vim7中通过<a href=\"http://vim.wikia.com/wiki/Omni_completion\" style=\"color: rgb(41, 112, 166);\">Omnicompletion system</a>被引入进来。它是可编程，这就意味着你可以通过定制，使的这个功能能在各种个样的编程语言中使用，在vim中甚至存在对动态语言python或ruby生效的自动文本完成功能。现在，自动文本完成的配置已经变成了vim包中的一个部分，所以现在你可以什么都不做就能让这个功能生效。要调出自动完成菜单(列表)，你需要敲下ctrl+x和ctrl+o键，接着你可以用ctrl+n和ctrl+p在可能完成列表中进行上下选择，当你移动到一个选项，vim将为你在另外一个Scratch区域显示带方法说明和属性的上下文帮助信息。<br><a rel=\"attachment wp-att-897\" href=\"http://coolshell.cn/?attachment_id=897\" style=\"color: rgb(41, 112, 166);\"></a></font></p><div class=\"ui-wrapper\" style=\"overflow: hidden; position: static; width: 650px; height: 850px; top: auto; left: auto; margin: 0px;\"><font face=\"Comic Sans MS\" size=\"3\"><a rel=\"attachment wp-att-897\" href=\"http://coolshell.cn/?attachment_id=897\" style=\"color: rgb(41, 112, 166);\"><div class=\"ui-wrapper\" style=\"overflow: hidden; position: static; width: 648px; height: 848px; top: auto; left: auto; margin: 0px;\"><img class=\"aligncenter size-full wp-image-897 ui-resizable\" title=\"vimtxt_vim_completion_ars\" src=\"http://coolshell.cn//wp-content/uploads/2009/05/vimtxt_vim_completion_ars.jpg\" alt=\"vimtxt_vim_completion_ars\" style=\"max-width: 650px; resize: none; position: static; zoom: 1; display: block; margin: 0px; height: 846px; width: 646px;\" height=\"850\" width=\"708\"><div class=\"ui-resizable-handle ui-resizable-e\" style=\"z-index: 90;\"></div><div class=\"ui-resizable-handle ui-resizable-s\" style=\"z-index: 90;\"></div><div class=\"ui-resizable-handle ui-resizable-se ui-icon ui-icon-gripsmall-diagonal-se\" style=\"z-index: 90;\"></div></div><div class=\"ui-resizable-handle ui-resizable-e\" style=\"z-index: 90;\"></div><div class=\"ui-resizable-handle ui-resizable-s\" style=\"z-index: 90;\"></div><div class=\"ui-resizable-handle ui-resizable-se ui-icon ui-icon-gripsmall-diagonal-se\" style=\"z-index: 90;\"></div></a></font></div><p></p><p style=\"padding: 0px; color: rgb(85, 85, 85); line-height: 27.200000762939453px;\"><font face=\"Comic Sans MS\" size=\"3\">你可以多种方式来改善你的vim体验，<a href=\"http://vim.wikia.com/wiki/Main_Page\" style=\"color: rgb(41, 112, 166);\">vim维基vim wiki</a>和<a href=\"http://www.vim.org/scripts/index.php\" style=\"color: rgb(41, 112, 166);\">脚本库script repository</a>为你提供了可用于增强功能的第三方增强扩展集合。这些插件实现sinppet system，outlining tools，项目管理工具，和大量的其他的特性。同时还有大量的脚本实现了对某些特定编程语言和框架的增强。例如有一个<a href=\"http://www.vim.org/scripts/script.php?script_id=1567\" style=\"color: rgb(41, 112, 166);\">非常流行的脚本</a>，这个脚本将会改善你Ruby的语法高亮，并且为你Ruby on Rail的部署提供了非常方便的导航特性</font></p><p style=\"padding: 0px; color: rgb(85, 85, 85); line-height: 27.200000762939453px;\"><font face=\"Comic Sans MS\" size=\"3\">同时也有一些<a href=\"http://cream.sourceforge.net/\" style=\"color: rgb(41, 112, 166);\">面向新手的脚本集合</a>，这个集合使得vim的行为变得更像一个带有简单菜单和快捷键的传统的文本编辑器。如果你对vim那些神秘键盘命名感到不舒服的话，你可以选择这个作为你使用vim的开始。</font></p><p style=\"padding: 0px; color: rgb(85, 85, 85); line-height: 27.200000762939453px;\"><font face=\"Comic Sans MS\" size=\"3\">vim的多样性使得它满足不同的用户使用。对于那些没有时间，能力，和爱好去通过自己去建立一个完美vim配置的人来说，无数的第三方脚本和插件为你提供了一种简单的方式，通过这种方式你可以付出很少的努力就能得到你想要的功能和特性。</font></p><br><br>',1,0,'',3,'',1395680091,1395521857),(47,1,'','Vim Introduction and Tutorial','Vim Introduction and Tutorial, VIM',229,'<p style=\"color: rgb(60, 60, 60); line-height: 22.399999618530273px; text-align: justify; font-family: Georgia, serif;\"><font size=\"3\">I often tried to learn the great Emacs editor/<span class=\"caps\">IDE</span>/operating system. The last time I tried it, I spent some time getting comfortable with it until I wanted to customize my <code>.emacs</code> file.</font></p><p style=\"color: rgb(60, 60, 60); line-height: 22.399999618530273px; text-align: justify; font-family: Georgia, serif;\"><font size=\"3\">That was the point when I entered <code>vi .emacs</code>. As soon as I realized what I’ve done, I knew that Vim has won me over a long time ago.</font></p><p style=\"color: rgb(60, 60, 60); line-height: 22.399999618530273px; text-align: justify; font-family: Georgia, serif;\"><font size=\"3\">So, here I am – using Vim as my editor<sup class=\"footnote\" id=\"fnr1\"><a href=\"http://blog.interlinked.org/tutorials/vim_tutorial.html#fn1\" style=\"color: rgb(108, 44, 44);\">1</a></sup> of choice.</font></p><p style=\"color: rgb(60, 60, 60); line-height: 22.399999618530273px; text-align: justify; font-family: Georgia, serif;\"><font size=\"3\">Another big motivational boost came after I discovered that my preferred shell (<a href=\"http://www.zsh.org/\" style=\"color: rgb(108, 44, 44);\">ZSH</a>) has an awesome vi-mode including the command mode (yes, you can switch between command and insert mode!).</font></p><p style=\"color: rgb(60, 60, 60); line-height: 22.399999618530273px; text-align: justify; font-family: Georgia, serif;\"><font size=\"3\">Vim has a great deal of features, and learning them takes some time. Of course there are many online-tutorials and tips’n’tricks pages, but the <a href=\"http://vimdoc.sourceforge.net/htmldoc/usr_toc.html\" style=\"color: rgb(108, 44, 44);\">help-files</a> are very good too! There are overview-pages, summary pages and some comments at the commands.</font></p><p style=\"color: rgb(60, 60, 60); line-height: 22.399999618530273px; text-align: justify; font-family: Georgia, serif;\"><font size=\"3\">I took the approach to start using some tutorial and let the help-system guide (type <code>:help <command></code> to get help for the command) me through the rest. I like to try the commands in a test-file, and take a short note of important commands.</font></p><p style=\"color: rgb(60, 60, 60); line-height: 22.399999618530273px; text-align: justify; font-family: Georgia, serif;\"><font size=\"3\">Another reason I like to use Vim is because it’s much more healthy than Emacs (using the default-keymappings). Healthy? Many commands are easily typed with a single keystroke – the virtue of a modal editor, instead of long command-chains with lots of modifier keys. Even if you have a natural keyboard, pressing Ctrl, Alt etc is certainly not natural at all.</font></p><p style=\"color: rgb(60, 60, 60); line-height: 22.399999618530273px; text-align: justify; font-family: Georgia, serif;\"><font size=\"3\">Just remember: Vim’s basics are really very simple, but in combination the simple commands become very powerful.</font></p><h2 style=\"line-height: 27px; color: rgb(60, 60, 60); text-align: justify; font-family: Georgia, serif;\"><font size=\"3\">Modes</font></h2><p style=\"color: rgb(60, 60, 60); line-height: 22.399999618530273px; text-align: justify; font-family: Georgia, serif;\"><font size=\"3\">You have <strong>3 modes</strong>:</font></p><ol style=\"color: rgb(60, 60, 60); line-height: 22.399999618530273px; text-align: justify; font-family: Georgia, serif;\"><li><font size=\"3\">Command mode: all keystrokes are interpreted as commands</font></li><li><font size=\"3\">Insert mode: most keystrokes are inserted as text (leaving out those with<br>modifier keys)</font></li><li><font size=\"3\">Visual mode: helps to visually select some text, may be seen as a submode of<br>the the command mode.</font></li></ol><div class=\"ui-wrapper\" style=\"overflow: hidden; position: static; width: 750px; height: 420px; top: auto; left: auto; margin: 0px;\"><font size=\"3\"><img src=\"/Uploads/Article/image/20140323/ablg_1395551923.png\" class=\"ui-resizable\" style=\"resize: none; position: static; zoom: 1; display: block; margin: 0px; height: 418px; width: 748px;\"><div class=\"ui-resizable-handle ui-resizable-e\" style=\"z-index: 90;\"></div><div class=\"ui-resizable-handle ui-resizable-s\" style=\"z-index: 90;\"></div><div class=\"ui-resizable-handle ui-resizable-se ui-icon ui-icon-gripsmall-diagonal-se\" style=\"z-index: 90;\"></div></font></div><div><p style=\"color: rgb(60, 60, 60); line-height: 22.399999618530273px; text-align: justify; font-family: Georgia, serif;\"><font size=\"3\">To switch from the insert or visual mode to the command mode, type <Esc></font></p><p style=\"color: rgb(60, 60, 60); line-height: 22.399999618530273px; text-align: justify; font-family: Georgia, serif;\"><font size=\"3\">To switch from the command mode to the insert mode type one of</font></p><ul style=\"color: rgb(60, 60, 60); line-height: 22.399999618530273px; text-align: justify; font-family: Georgia, serif;\"><li><font size=\"3\"><code>i</code> …switch to insert mode before the current position</font></li><li><font size=\"3\"><code>a</code> …switch to insert mode after the current position (append)</font></li><li><font size=\"3\"><code>I</code> …jump to the first non-blank character in the current line and switch<br>to the insert mode</font></li><li><font size=\"3\"><code>A</code> …jump to the last character of the current line and switch to the<br>insert mode</font></li></ul><p style=\"color: rgb(60, 60, 60); line-height: 22.399999618530273px; text-align: justify; font-family: Georgia, serif;\"><font size=\"3\">To switch from the command mode to the visual mode type one of</font></p><ul style=\"color: rgb(60, 60, 60); line-height: 22.399999618530273px; text-align: justify; font-family: Georgia, serif;\"><li><font size=\"3\"><code>v</code> …switch to the visual mode (character oriented)</font></li><li><font size=\"3\"><code>V</code> …switch to the visual mode (line oriented)</font></li><li><font size=\"3\"><code>Ctrl-v</code> …switch to the block-visual mode (select rectangles of text)</font></li></ul><p style=\"color: rgb(60, 60, 60); line-height: 22.399999618530273px; text-align: justify; font-family: Georgia, serif;\"><font size=\"3\">All commands that take a range (for example subtitution, delete, copy or indentation) work with the visual mode too.</font></p><h2 style=\"line-height: 27px; color: rgb(60, 60, 60); text-align: justify; font-family: Georgia, serif;\"><font size=\"3\">Movement</font></h2><p style=\"color: rgb(60, 60, 60); line-height: 22.399999618530273px; text-align: justify; font-family: Georgia, serif;\"><font size=\"3\">The simplest movement commands are</font></p><ul style=\"color: rgb(60, 60, 60); line-height: 22.399999618530273px; text-align: justify; font-family: Georgia, serif;\"><li><font size=\"3\"><code>h</code> …move left</font></li><li><font size=\"3\"><code>l</code> …move right</font></li><li><font size=\"3\"><code>k</code> …move up</font></li><li><font size=\"3\"><code>j</code> …move down</font></li></ul><p style=\"color: rgb(60, 60, 60); line-height: 22.399999618530273px; text-align: justify; font-family: Georgia, serif;\"><font size=\"3\">Obviously these commands work only in the command mode, of course you can also use the cursor keys (in all three modes).</font></p><p style=\"color: rgb(60, 60, 60); line-height: 22.399999618530273px; text-align: justify; font-family: Georgia, serif;\"><font size=\"3\">There are a lot of movement commands available in Vim, I’ll only cover a few, but if you need something special very often take a look at the help, I’m sure you’ll find something usable.</font></p></div><font size=\"3\"><img src=\"/Uploads/Article/image/20140323/ablg_1395552094.png\"></font><div><div class=\"entryContent\" style=\"text-align: justify; color: rgb(60, 60, 60); line-height: 22.399999618530273px; font-family: Georgia, serif;\"><p><font size=\"3\">Vim distinguishes between screen-lines (those shown on the monitor) and real lines (those ended with a new-line).</font></p><p><font size=\"3\">So here the most important commands</font></p><ul><li><font size=\"3\"><code>0</code> …first column of the line</font></li><li><font size=\"3\"><code>^</code> …first non-blank character of the line</font></li><li><font size=\"3\"><code>w</code> …jump to next word</font></li><li><font size=\"3\"><code>W</code> …jump to next word, ignore punctuation</font></li><li><font size=\"3\"><code>e</code> …jump to word-end</font></li><li><font size=\"3\"><code>E</code> …jump to word-end, ignore punctuation</font></li><li><font size=\"3\"><code>b</code> …jump to word-beginning</font></li><li><font size=\"3\"><code>B</code> …jump to word-beginning, ignore punctuation</font></li><li><font size=\"3\"><code>ge</code> …jump to previous word-ending</font></li><li><font size=\"3\"><code>gE</code> …jump to previous word-ending, ignore punctuation</font></li><li><font size=\"3\"><code>g_</code> …jump to last non-blank character of the line</font></li><li><font size=\"3\"><code>$</code> …jump to the last character of the line</font></li></ul><p><font size=\"3\">If you remember just a few of them, you’ll get very quickly from A to B! Another important fact is, that these commands give the range for other commands.</font></p><h2 style=\"line-height: 27px;\"><font size=\"3\">Editing</font></h2><p><font size=\"3\">Inserting text is pretty simple in Vim, just type <code>i</code> and start typing. But Vim offers quite sophisticated text-editing commands.</font></p><ul><li><font size=\"3\"><code>d</code> …delete the characters from the cursor position up the position given by the next command (for example <code>d$</code> deletes all character from the current cursor position up to the last column of the line).</font></li><li><font size=\"3\"><code>c</code> …change the character from the cursor position up to the position indicated by the next command.</font></li><li><font size=\"3\"><code>x</code> …delete the character under the cursor.</font></li><li><font size=\"3\"><code>X</code> …delete the character before the cursor (Backspace).</font></li><li><font size=\"3\"><code>y</code> …copy the characters from the current cursor position up to the position indicated by the next command.</font></li><li><font size=\"3\"><code>p</code> …paste previous deleted or yanked (copied) text after the current cursor position.</font></li><li><font size=\"3\"><code>P</code> …paste previous deleted or yanked (copied) text before the current cursor position.</font></li><li><font size=\"3\"><code>r</code> …replace the current character with the newly typed one.</font></li><li><font size=\"3\"><code>s</code> …substitute the text from the current cursor position up to the position given by the next command with the newly typed one.</font></li><li><font size=\"3\"><code>.</code> …repeat the last insertion or editing command (x,d,p…).</font></li></ul><p><font size=\"3\">Doubling <code>d</code>, <code>c</code> or <code>y</code> operates on the whole line, for example <code>yy</code> copies the whole line.</font></p><p><font size=\"3\">Please note, many commands are much more powerful than I describe them here. For example you can specify a buffer into some text is yanked. Typing <code>\"ayy</code> copies the current line into register <code>a</code>, pasting the contents of register <code>a</code> is done by <code>\"ap</code>. Vim remembers the last few yanks and deletions in automatic registers, to show the contents of the registers type <code>:registers</code>, you can also use them to paste some older text.</font></p><h2 style=\"line-height: 27px;\"><font size=\"3\">Visual Block</font></h2><p><font size=\"3\">Using the visual block-mode it’s possible to insert characters on each line of the selection easily.</font></p><p><font size=\"3\">Suppose you have selected a rectangle (using <code>Ctrl-v</code>), you can insert text in front of it by typing <code>I</code> (switch to insert mode) and inserting your text. As soon as you leave the insert mode, the text will be added to all the other selected lines. Use <code>A</code> to enter text <strong>after</strong> the selection.</font></p><p><font size=\"3\">Another useful feature is to substitute the whole block with a new text. For that matter select a block and type <code>s</code>, Vim enters the insert mode and you can type. After you leave the insert mode, Vim inserts the text in the remaining lines.</font></p><p><font size=\"3\">If you’d like to append some text at the end of some lines, use <code>Ctrl-v$</code> and select the lines. The difference between the former variant is, that the <code>$</code> explicitly says “end of line” whereas a selection with <code>Ctrl-v</code> operates on the columns, ignoring the text.</font></p><p><font size=\"3\">Using <code>Ctrl-v</code>:</font></p><pre><font size=\"3\"> This is a testNEWLY INSERTED\r\n This is a     NEWLY INSERTED\r\n This is       NEWLY INSERTED\r\n</font></pre><p><font size=\"3\">Using <code>Ctrl-v$</code>:</font></p><pre><font size=\"3\"> This is a testNEWLY INSERTED\r\n This is aNEWLY INSERTED\r\n This isNEWLY INSERTED\r\n</font></pre><h2 style=\"line-height: 27px;\"><font size=\"3\">Text-objects</font></h2><p><font size=\"3\">Vim commands operate on <strong>text-objects</strong> these are characters, words, characters delimited by parentheses, sentences and so on.</font></p><p><font size=\"3\">For me the most important one is the <strong>inner word</strong>: <code>iw</code>. To select the current word, just type <code>viw</code> (<code>v</code> for selection mode, and <code>iw</code> for the <strong>inner word</strong>), similar for deletion: <code>diw</code>.</font></p><p><font size=\"3\">The difference between inner-word/block and a-word/block etc is that the inner variant selects only the contents like the characters of the word (no blank afterwards) or the contents of the parentheses but not the parentheses. The a-variant selects the parentheses or a blank after a word too.</font></p><ul><li><font size=\"3\"><code>iw</code> …inner word</font></li><li><font size=\"3\"><code>aw</code> …a word</font></li><li><font size=\"3\"><code>iW</code> …inner <span class=\"caps\">WORD</span></font></li><li><font size=\"3\"><code>aW</code> …a <span class=\"caps\">WORD</span></font></li><li><font size=\"3\"><code>is</code> …inner sentence</font></li><li><font size=\"3\"><code>as</code> …a sentence</font></li><li><font size=\"3\"><code>ip</code> …inner paragraph</font></li><li><font size=\"3\"><code>ap</code> …a paragraph</font></li><li><font size=\"3\"><code>i(</code> or <code>i)</code> …inner block</font></li><li><font size=\"3\"><code>a(</code> or <code>a)</code> …a block</font></li><li><font size=\"3\"><code>i<</code> or <code>i></code> …inner block</font></li><li><font size=\"3\"><code>a<</code> or <code>i></code> …a block</font></li><li><font size=\"3\"><code>i{</code> or <code>i}</code> …inner block</font></li><li><font size=\"3\"><code>a{</code> or <code>a}</code> …a block</font></li><li><font size=\"3\"><code>i\"</code> …inner block</font></li><li><font size=\"3\"><code>a\"</code> …a block</font></li><li><font size=\"3\"><code>i`</code> …inner block</font></li><li><font size=\"3\"><code>a`</code> …a block</font></li></ul><p><font size=\"3\">Here a quick visualisation of the commands the color and the <span style=\"color: red;\">[ ]</span> mark the selected text:</font></p><table><tbody><tr><th><font size=\"3\">Command</font></th><th><font size=\"3\">Text Object</font></th></tr><tr><td><code><font size=\"3\">iw</font></code></td><td><font size=\"3\">This is a <span style=\"color: red;\">[</span><span style=\"background-color: yellow;\">test</span><span style=\"color: red;\">]</span> sentence.</font></td></tr><tr><td><code><font size=\"3\">aw</font></code></td><td><font size=\"3\">This is a <span style=\"color: red;\">[</span><span style=\"background-color: yellow;\">test </span><span style=\"color: red;\">]</span>sentence.</font></td></tr><tr><td><code><font size=\"3\">iW</font></code></td><td><font size=\"3\">This is a <span style=\"color: red;\">[</span><span style=\"background-color: yellow;\">…test…</span><span style=\"color: red;\">]</span> sentence.</font></td></tr><tr><td><code><font size=\"3\">aW</font></code></td><td><font size=\"3\">This is a <span style=\"color: red;\">[</span><span style=\"background-color: yellow;\">…test… </span><span style=\"color: red;\">]</span>sentence.</font></td></tr><tr><td><code><font size=\"3\">is</font></code></td><td><font size=\"3\">…sentence. <span style=\"color: red;\">[</span><span style=\"background-color: yellow;\">This is a sentence.</span><span style=\"color: red;\">]</span> This…</font></td></tr><tr><td><code><font size=\"3\">as</font></code></td><td><font size=\"3\">…sentence. <span style=\"color: red;\">[</span><span style=\"background-color: yellow;\">This is a sentence. </span><span style=\"color: red;\">]</span>This…</font></td></tr><tr><td><code><font size=\"3\">ip</font></code></td><td><font size=\"3\">End of previous paragraph.<br><br><span style=\"color: red;\">[</span><span style=\"background-color: yellow;\">This is a paragraph. It has two sentences.</span><span style=\"color: red;\">]</span><br><br>The next.</font></td></tr><tr><td><code><font size=\"3\">ap</font></code></td><td><font size=\"3\">End of previous paragraph.<br><br><span style=\"color: red;\">[</span><span style=\"background-color: yellow;\">This is a paragraph. It has two sentences.<br><br></span><span style=\"color: red;\">]</span>The next.</font></td></tr><tr><td><font size=\"3\"><code>i(</code> or <code>i)</code></font></td><td><font size=\"3\">1 * (<span style=\"color: red;\">[</span><span style=\"background-color: yellow;\">2 + 3</span><span style=\"color: red;\">]</span>)</font></td></tr><tr><td><font size=\"3\"><code>a(</code> or <code>a)</code></font></td><td><font size=\"3\">1 * <span style=\"color: red;\">[</span><span style=\"background-color: yellow;\">(2 + 3)</span><span style=\"color: red;\">]</span></font></td></tr><tr><td><font size=\"3\"><code>i<</code> or <code>i></code></font></td><td><font size=\"3\">The <<span style=\"color: red;\">[</span><span style=\"background-color: yellow;\">tag</span><span style=\"color: red;\">]</span>></font></td></tr><tr><td><font size=\"3\"><code>a<</code> or <code>i></code></font></td><td><font size=\"3\">The <span style=\"color: red;\">[</span><span style=\"background-color: yellow;\"><tag></tag></span><span style=\"color: red;\">]</span></font></td></tr><tr><td><font size=\"3\"><code>i{</code> or <code>i}</code></font></td><td><font size=\"3\">some {<span style=\"color: red;\">[</span><span style=\"background-color: yellow;\"> code block </span><span style=\"color: red;\">]</span>}</font></td></tr><tr><td><font size=\"3\"><code>a{</code> or <code>a}</code></font></td><td><font size=\"3\">some <span style=\"color: red;\">[</span><span style=\"background-color: yellow;\">{ code block }</span><span style=\"color: red;\">]</span></font></td></tr><tr><td><code><font size=\"3\">i\"</font></code></td><td><font size=\"3\">The \"<span style=\"color: red;\">[</span><span style=\"background-color: yellow;\">best</span><span style=\"color: red;\">]</span>\"</font></td></tr><tr><td><code><font size=\"3\">a\"</font></code></td><td><font size=\"3\">The<span style=\"color: red;\">[</span><span style=\"background-color: yellow;\"> “best”</span><span style=\"color: red;\">]</span></font></td></tr><tr><td><code><font size=\"3\">i`</font></code></td><td><font size=\"3\">The `<span style=\"color: red;\">[</span><span style=\"background-color: yellow;\">best</span><span style=\"color: red;\">]</span>`</font></td></tr><tr><td><code><font size=\"3\">a`</font></code></td><td><font size=\"3\">The<span style=\"color: red;\">[</span><span style=\"background-color: yellow;\"> `best`</span><span style=\"color: red;\">]</span></font></td></tr></tbody></table><p><font size=\"3\">Try them out and remember the ones you need regularly (in my case <code>iw</code> and <code>i(</code>) they are the real time-savers!</font></p><h2 style=\"line-height: 27px;\"><font size=\"3\">Undo and Redo</font></h2><p><font size=\"3\">Don’t be afraid to try the various commands, you can undo almost anything using <code>u</code> in the command mode – even undo is undoable using <code>Ctrl-r</code>.</font></p><p><font size=\"3\">Vim 7.0 introduced undo-branches, but I didn’t have time to dig deeper.</font></p><h2 style=\"line-height: 27px;\"><font size=\"3\">External commands</font></h2><p><font size=\"3\">In Vim it’s easy to include the output of external commands or to filter the whole line or just a part through an external filter.</font></p><p><font size=\"3\">To issue an external command type <code>:!command</code>, the output will be shown and that’s it.</font></p><p><font size=\"3\">To filter the text through an external command type <code>:!sort %</code>.</font></p><p><font size=\"3\">To insert the output of the external command in the current file type <code>:r!command</code> (for example <code>:r!which ls</code>).</font></p><p><font size=\"3\">Search for “filter” for more information <code>:h filter</code>.</font></p><h2 style=\"line-height: 27px;\"><font size=\"3\">Searching and Replacing</font></h2><p><font size=\"3\">Searching in Vim is very easy. Type <code>/</code> in the command mode and insert the term you search, and Vim will search the file (in forward direction) for the term. Use <code>?</code> for the backward direction. Using <code>n</code> or <code>N</code> you can repeat the search in the same or opposite direction.</font></p><p><font size=\"3\">If the option “incsearch” is set, Vim immediately jumps to the matching text when you enter something. If “hlsearch” is set, it highlights all matches. To remove the highlight type <code>:nohl</code>.</font></p><p><font size=\"3\">Replacing something isn’t very hard too, but you should have a good understanding of regular expressions.</font></p><p><font size=\"3\">To substitute a regular expression with some other text, type <code>:%s/old/new/gc</code> this command takes the whole file <code>%</code>, and substitutes <code>s</code> the word \"old@ with “new” and looks for more than one occurrence within one line <code>g</code> and asks if it really should replace the shown one <code>c</code>.</font></p><p><font size=\"3\">To replace some text only in a selected area, select the area, and type <code>:s/old/new/g</code>. This should look like <code>:\'<,\'>s/old/new/g</code> in the command line. You’ll understand <code>\'<</code> and <code>\'></code> after the “Marks” section.</font></p><h2 style=\"line-height: 27px;\"><font size=\"3\">Completion</font></h2><p><font size=\"3\">While you are typing, it’s pretty common to use the same word over and over again. Using <code>Ctrl-p</code> Vim searches the currently typed text backwards for a word starting with the same characters as already typed. <code>Ctrl-x Ctrl-l</code> completes the whole line.</font></p><p><font size=\"3\">If you’re not sure how to type some word and you’ve enabled spell-checking (<code>:set spell</code>), you can type <code>Ctrl-x Ctrl-k</code> to do a dictionary lookup for the already typed characters. Vim’s completion system has much improved during the last major update (Vim 7.0).</font></p><p><font size=\"3\">Note the completion commands work only in the <strong>insert mode</strong>, they have other meanings in the command mode!</font></p><h2 style=\"line-height: 27px;\"><font size=\"3\">Marks</font></h2><p><font size=\"3\">You can set marks within your documents to jump quickly between different positions of a document or even many documents.</font></p><p><font size=\"3\">Vim automatically sets various marks like</font></p><ul><li><font size=\"3\"><code>{0-9}</code> are the last 10 positions of closed files (0 the last, 1 the last but one)</font></li><li><font size=\"3\"><code><</code> and <code>></code> are the left and right position of marked texts</font></li><li><font size=\"3\"><code>(</code> and <code>)</code> are the start or end of the current sentence</font></li><li><font size=\"3\"><code>{</code> and <code>}</code> are the start or end of the current paragraph</font></li><li><font size=\"3\"><code>[</code> and <code>]</code> are the first or last character of the last yanked or changed text</font></li><li><font size=\"3\"><code>.</code> position of the last change</font></li><li><font size=\"3\"><code>\'</code> or <code>`</code> position before the last jump</font></li><li><font size=\"3\"><code>\"</code> position before the last exit of the file (local to a file)</font></li><li><font size=\"3\"><code>^</code> position of the last insert-stop</font></li></ul><p><font size=\"3\">To set a manual mark, use <code>m{a-zA-Z}</code> (<code>m</code> followed by either a,b..z or A,B,..Z), and to jump to one of the marks (manual or automatic) you can choose between <code>\'</code> and <code>`</code></font></p><ul><li><font size=\"3\"><code>\'</code> …sets the cursor to the first non-blank character in the marked line</font></li><li><font size=\"3\"><code>`</code> …sets the cursor to the exact position where the mark was set</font></li></ul><p><font size=\"3\">There is a little difference between lower-case and upper-case characters:</font></p><ul><li><font size=\"3\"><code>{a-z}</code> are local to a file</font></li><li><font size=\"3\"><code>{A-Z}</code> are stored and available over sessions (associated with a file)</font></li></ul><p><font size=\"3\">You can use <code>L</code> for your work-log and <code>T</code> for your time-table for example, and quickly update the information there.</font></p><p><font size=\"3\">For example you can jump to the last known position of a file before it was closed by typing <code>`\"</code> (it’s easy to configure Vim to do it automatically at start).</font></p><p><font size=\"3\">To get a list of all marks Vim knows about type <code>:marks</code>. To delete marks use <code>:delmarks</code> (<code>:delmarks a b c</code> removes marks <code>a</code> and <code>b</code> and <code>c</code>, to delete all marks use <code>:delmarks!</code>).</font></p><h2 style=\"line-height: 27px;\"><font size=\"3\">Tabs, Buffers and Windows</font></h2><p><font size=\"3\">Vim 7.0 has introduced tabs. We all know and love tabs, so it’s not much to say here. (Just a note: tabs in Vim are a bit different than in other programs, you could also think of them as many Vim instances in a tabbed terminal window. The difference is, that each tab-page can have it’s own layout. For example I could split my screen of the first tab, and view the same file in one window at the second tab… . So Vim-tabs are a bit more powerful.)</font></p><p><font size=\"3\">To open many files in tabs via the command line use <code>vim -p *.txt</code>.</font></p><p><font size=\"3\">To switch between tabs use the mouse (in gVim) or type <code>gt</code>.</font></p><p><font size=\"3\">To create a new empty tab type <code>:tabnew</code>, or open a file in a new tab <code>:tabe xyz</code>.</font></p><p><font size=\"3\">Buffers and Windows are a bit harder to understand. A window is what you see when you open Vim, when you open the help system (by typing <code>:help buffers</code>), you’ve got two windows. So they are no actual windows, but view-ports that Vim offers.</font></p><p><font size=\"3\">You can open a window and split the current one horizontally using <code>:sp</code> or vertically using <code>:vsp</code>. This way Vim shows you the same <strong>buffer</strong> in two different windows. You can open a new file too, using <code>:sp file</code> or <code>:vsp file</code>. To switch between windows use the mouse or type <code>Ctrl-w {hjkl}</code> in the command mode.</font></p><p><font size=\"3\">A buffer is a file (most of the time), but isn’t necessarily visible. So there are usually more buffers than windows. To show a different buffer in the current window, you can switch them using <code>:b NUMBER</code>, where the buffer number can be looked up using <code>:buffers</code>. In the standard configuration Vim forces you to save the currently shown buffer before it allows you to switch to another buffer, so don’t be frustrated by it’s complains. (Type <code>:set hidden</code> to enable unsaved buffers, but be careful).</font></p><p><font size=\"3\">Here my notes from the help-file:</font></p><ul><li><font size=\"3\"><code>:b N</code> switch to buffer N</font></li><li><font size=\"3\"><code>:buffers</code> show buffer list. Explanation:</font><ul><li><font size=\"3\"><code>%</code> current window</font></li><li><font size=\"3\"><code>#</code> alternate buffer (switch using <code>:e#</code> or <code>:b#</code>)</font></li><li><font size=\"3\"><code>a</code> active (loaded and visible)</font></li><li><font size=\"3\"><code>h</code> hidden (loaded but not visible)</font></li><li><font size=\"3\"><code>+</code> modified</font></li></ul></li><li><font size=\"3\"><code>:bd</code> unload the buffer and remove it from bufferlist (don’t close Vim,<br>even on the last buffer)</font></li><li><font size=\"3\"><code>:bun</code> unload the buffer but stay in bufferlist</font></li><li><font size=\"3\"><code>:sp #N</code> split current window and edit buffer N</font></li><li><font size=\"3\"><code>:w</code> write the current buffer to disk</font></li><li><font size=\"3\"><code>:e file</code> load a file from disk</font></li><li><font size=\"3\"><code>:q</code> closes current window (and Vim if it’s the last one)</font></li><li><font size=\"3\"><code>:new</code> new empty window</font></li><li><font size=\"3\"><code>:on</code> close all windows but the active one (<code>Ctrl-W o</code>)</font></li><li><font size=\"3\"><code>Ctrl-W {h,j,k,l}</code> move between windows</font></li></ul><p><font size=\"3\">Allow modified buffers to be hidden when the option ‘hidden’ is set. Buffers are automatically saved if the option ‘hidden’ is not set, but ‘autowrite’ is set.</font></p><h2 style=\"line-height: 27px;\"><font size=\"3\">Macros</font></h2><p><font size=\"3\">Vim allows to replay some commands using <code>.</code> (a dot). For more than one command use macros.</font></p><p><font size=\"3\">You can start macro-recording using <code>q</code> and one of {0-9a-zA-Z}, so for example <code>qq</code> records the macro to buffer “q”. Hit <code>q</code> when you are finished recording.</font></p><p><font size=\"3\">Now you can replay the macro at any time using @q.</font></p><h2 style=\"line-height: 27px;\"><font size=\"3\">This is the end</font></h2><p><font size=\"3\">I hope I could get you started for mastering one of the most sophisticated editors out there. The last thing I can do now is to include my configuration file. Use <code>:help ...</code> to explore Vim’s powers further and write a tutorial for the next apprentice.</font></p><p><font size=\"3\">Place the <a href=\"http://blog.interlinked.org/static/files/vimrc\" style=\"color: rgb(108, 44, 44);\">vimrc</a> into your home-directory (<code>~/.vimrc</code>), but make sure you don’t have one already.</font></p><p class=\"footnote\" id=\"fn1\"><font size=\"3\"><a href=\"http://blog.interlinked.org/tutorials/vim_tutorial.html#fnr1\" style=\"color: rgb(108, 44, 44);\"><sup>1</sup></a> Vim is an <strong>editor</strong>, no <span class=\"caps\">IDE</span> or operating system. Don’t try to make an <span class=\"caps\">IDE</span> out of it, if you like IDEs use one! Of course it’s possible to automate many tasks, like compiling and jumping to errors reported by the compiler, for that matter look at Vim’s plugins.</font></p><div class=\"quote clear\" style=\"float: right; clear: both; text-align: right; max-width: 300px;\"><p><font size=\"3\">Emacs is a good operating system, but it lacks a good editor. <br>— Old saying.</font></p></div></div><div class=\"clear entryFooter\" style=\"float: none; clear: both; padding-top: 1px; padding-bottom: 1px; border-top-width: 1px; border-top-style: dotted; border-bottom-width: 1px; border-bottom-style: dotted; text-align: right; margin-bottom: 20px; color: rgb(60, 60, 60); line-height: 22.399999618530273px; font-family: monospace;\"><font size=\"3\">posted in February 2007 on <a href=\"http://blog.interlinked.org/tutorials\" style=\"color: rgb(108, 44, 44);\">tutorials</a></font></div></div>',1,0,'',3,'',1395684627,1395551753),(48,1,'','Ubuntu下设置中文locale','Ubuntu, locate, cn_ZH,中文',282,'<font size=\"5\" face=\"Comic Sans MS\">前言：</font><div><font size=\"3\" face=\"Comic Sans MS\">　　刚开通阿里云的VPS，由于没有安装中文locate，经常报错，下面提供一点解决方法。</font></div><div><ul><li><span style=\"font-family: \'Comic Sans MS\'; font-size: medium; line-height: 24px;\">Ubuntu没有装中文的locale</span><span style=\"font-family: \'Comic Sans MS\'; font-size: medium; line-height: 1.5;\">没有装中文的locale，通常会报这样的错误。（特别当你安装软件时）</span><br></li></ul></div><pre>perl: warning: Setting locale failed. \r\nperl: warning: Please check that your locale settings: \r\n    LANGUAGE = (unset), \r\n    LC_ALL = (unset), \r\n    LANG = \"zh_CN.utf8\" \r\n    are supported and installed on your system. \r\nperl: warning: Falling back to the standard locale (\"C\"). \r\nlocale: Cannot set LC_CTYPE to default locale: No such file or directory \r\nlocale: Cannot set LC_MESSAGES to default locale: No such file or directory \r\nlocale: Cannot set LC_ALL to default locale: No such file or directory</pre><font size=\"3\" face=\"Comic Sans MS\"><span style=\"line-height: 24px;\">设置方法如下：</span></font><div><ul><li><font size=\"3\" face=\"Comic Sans MS\">查看当前系统语言环境</font></li></ul></div><pre>root@AY140317032536327eafZ:/home/apacal# locale\r\nLANG=en_US.UTF-8\r\nLANGUAGE=en_US:en\r\nLC_CTYPE=\"C\"\r\nLC_NUMERIC=\"C\"\r\nLC_TIME=\"C\"\r\nLC_COLLATE=\"C\"\r\nLC_MONETARY=\"C\"\r\nLC_MESSAGES=\"C\"\r\nLC_PAPER=\"C\"\r\nLC_NAME=\"C\"\r\nLC_ADDRESS=\"C\"\r\nLC_TELEPHONE=\"C\"\r\nLC_MEASUREMENT=\"C\"\r\nLC_IDENTIFICATION=\"C\"\r\nLC_ALL=C<font color=\"#393939\" face=\"Open Sans\"><span style=\"line-height: 19.5px; white-space: normal;\">\r\n</span></font></pre><ul><li><font size=\"3\">查看系统内安装的locale</font></li></ul><pre>root@AY140317032536327eafZ:/home/apacal# locale -a\r\nC\r\nC.UTF-8\r\nPOSIX\r\nen_US.utf8\r\nzh_CN.utf8<font size=\"3\" color=\"#393939\" face=\"Comic Sans MS\"><span style=\"line-height: 24px; white-space: normal;\">\r\n</span></font></pre><font size=\"3\" face=\"Comic Sans MS\"><ul><li>安装zh_CN.utf8</li></ul></font><pre>root@AY140317032536327eafZ:/home/apacal# locale -a\r\nC\r\nC.UTF-8\r\nPOSIX\r\nen_US.utf8\r\nzh_CN.utf8\r\nroot@AY140317032536327eafZ:/home/apacal# cd /usr/share/locales\r\nroot@AY140317032536327eafZ:/usr/share/locales# ls\r\ninstall-language-pack  remove-language-pack\r\nroot@AY140317032536327eafZ:/usr/share/locales# ./install-language-pack zn_CN\r\nGenerating locales... \r\n  zh_CN.UTF-8... done \r\nGeneration complete. \r\ndpkg-trigger: dpkg-trigger 必须从维护者脚本中调用(或者通过 --by-package 选项)</pre><font size=\"3\" face=\"Comic Sans MS\"><ul><li>验证locale安装是否成功</li></ul></font><pre>root@AY140317032536327eafZ:/usr/lib# locale\r\nLANG=zh_CN.utf8 \r\nLC_CTYPE=\"zh_CN.utf8\" \r\nLC_NUMERIC=\"zh_CN.utf8\" \r\nLC_TIME=\"zh_CN.utf8\" \r\nLC_COLLATE=\"zh_CN.utf8\" \r\nLC_MONETARY=\"zh_CN.utf8\" \r\nLC_MESSAGES=\"zh_CN.utf8\" \r\nLC_PAPER=\"zh_CN.utf8\" \r\nLC_NAME=\"zh_CN.utf8\" \r\nLC_ADDRESS=\"zh_CN.utf8\" \r\nLC_TELEPHONE=\"zh_CN.utf8\" \r\nLC_MEASUREMENT=\"zh_CN.utf8\" \r\nLC_IDENTIFICATION=\"zh_CN.utf8\" \r\nLC_ALL=</pre><font size=\"3\" face=\"Comic Sans MS\"><span style=\"line-height: 24px;\">更多参考：<a href=\"http://wiki.ubuntu.org.cn/Locale\">http://wiki.ubuntu.org.cn/Locale</a></span></font>',1,0,'',3,'',1395662791,1395656678),(49,1,'','12款最佳Linux命令行终端工具','LINUX， debian, termin',253,'<font size=\"5\" face=\"Comic Sans MS\">前言：</font><br><p><font size=\"3\" face=\"Comic Sans MS\">如果你跟我一样，整天要花大量的时间使用Linux命令行，而且正在寻找一些可替代系统自带的老旧且乏味的终端软件，那你真是找对了文章。我这里搜集了一些非常有趣的终端软件，可以用来替代debian系的Linux原生终端。本来我是用GUAKE的看来要该一该了。</font></p><h3><font size=\"3\" face=\"Comic Sans MS\">Tilda</font></h3><div><div class=\"ui-wrapper\" style=\"overflow: hidden; position: static; width: 750px; height: 420px; top: auto; left: auto; margin: 0px;\"><img class=\"view-image ui-resizable\" src=\"/Uploads/Article/image/20140326/ablg_1395766459.png\" style=\"display: block; resize: none; position: static; zoom: 1; margin: 0px; height: 418px; width: 748px;\"><div class=\"ui-resizable-handle ui-resizable-e\" style=\"z-index: 90;\"></div><div class=\"ui-resizable-handle ui-resizable-s\" style=\"z-index: 90;\"></div><div class=\"ui-resizable-handle ui-resizable-se ui-icon ui-icon-gripsmall-diagonal-se\" style=\"z-index: 90;\"></div></div><div><span style=\"font-family: \'Comic Sans MS\'; font-size: medium; line-height: 1.5;\"><br></span></div><div><span style=\"font-family: \'Comic Sans MS\'; font-size: medium; line-height: 1.5;\">这是一款可配置的雷神之锤风格的终端工具，也就是说，当用户敲击配置好的热键(缺省是F1)时，这个终端会从屏幕的顶端滑出，就跟雷神之锤游戏中的效果一样，给人的感觉就是高大尚的。</span><br></div></div><p><font size=\"3\" face=\"Comic Sans MS\">它的安装方法：</font></p><pre><font size=\"3\" face=\"Comic Sans MS\">apt-get install tilda</font></pre><p><font size=\"3\" face=\"Comic Sans MS\">Tilda跟其它下拉风格的终端比起来有更丰富的自定义选项。包括：</font></p><ul><li><font size=\"3\" face=\"Comic Sans MS\">高度自定义界面</font></li><li><font size=\"3\" face=\"Comic Sans MS\">设置Tilda主窗口的透明度。</font></li><li><font size=\"3\" face=\"Comic Sans MS\">独特的内置配色方案。</font></li><li><font size=\"3\" face=\"Comic Sans MS\">用户可以将命令行窗口蜕化成极简状态。</font></li></ul><h3><font size=\"3\" face=\"Comic Sans MS\">Yakuake</font></h3><p><font size=\"3\" face=\"Comic Sans MS\"><div class=\"ui-wrapper\" style=\"overflow: hidden; position: static; width: 247px; height: 185px; top: auto; left: auto; margin: 0px;\"><img style=\"resize: none; position: static; zoom: 1; display: block; margin: 0px; height: 183px; width: 245px;\" class=\"alignright size-medium wp-image-7849 lazy  ui-resizable\" alt=\"YaKuake_screenshot_01\" src=\"http://www.vaikan.com/wordpress/wp-content/uploads/2014/02/YaKuake_screenshot_01-247x185.png\" data-original=\"http://www.vaikan.com/wordpress/wp-content/uploads/2014/02/YaKuake_screenshot_01-247x185.png\" height=\"185\" width=\"247\"><div class=\"ui-resizable-handle ui-resizable-e\" style=\"z-index: 90;\"></div><div class=\"ui-resizable-handle ui-resizable-s\" style=\"z-index: 90;\"></div><div class=\"ui-resizable-handle ui-resizable-se ui-icon ui-icon-gripsmall-diagonal-se\" style=\"z-index: 90;\"></div></div><br></font> <font size=\"3\" face=\"Comic Sans MS\"><b>Yakuake</b>最\r\n初的设计灵感来源就是雷神之锤的终端效果。它本质上就是一个基于KDE \r\nKonsole技术的下拉风格的终端。因为它是一个KDE应用，如果你想把它安装到GNOME桌面上，将会遇到一大堆的KDE系统包依赖。但如果你是一个\r\nKDE用户，Yakuake会让你相当满意。它的安装方法是：</font></p><pre><font size=\"3\" face=\"Comic Sans MS\">apt-get install yakuake</font></pre><h3><font size=\"3\" face=\"Comic Sans MS\">Guake</font></h3><div><div class=\"ui-wrapper\" style=\"overflow: hidden; position: static; width: 750px; height: 420px; top: auto; left: auto; margin: 0px;\"><br class=\"Apple-interchange-newline\"><div class=\"ui-wrapper\" style=\"overflow: hidden; position: static; width: 748px; height: 418px; top: auto; left: auto; margin: 0px;\"><img class=\"view-image ui-resizable\" src=\"/Uploads/Article/image/20140326/ablg_1395766792.png\" style=\"resize: none; position: static; zoom: 1; display: block; margin: 0px; height: 416px; width: 746px;\"><div class=\"ui-resizable-handle ui-resizable-e\" style=\"z-index: 90;\"></div><div class=\"ui-resizable-handle ui-resizable-s\" style=\"z-index: 90;\"></div><div class=\"ui-resizable-handle ui-resizable-se ui-icon ui-icon-gripsmall-diagonal-se\" style=\"z-index: 90;\"></div></div><div class=\"ui-resizable-handle ui-resizable-e\" style=\"z-index: 90;\"></div><div class=\"ui-resizable-handle ui-resizable-s\" style=\"z-index: 90;\"></div><div class=\"ui-resizable-handle ui-resizable-se ui-icon ui-icon-gripsmall-diagonal-se\" style=\"z-index: 90;\"></div></div><div><span style=\"font-family: \'Comic Sans MS\'; font-size: medium; line-height: 1.5;\"><br></span></div><div><span style=\"font-family: \'Comic Sans MS\'; font-size: medium; line-height: 24px;\">这</span><span style=\"font-family: \'Comic Sans MS\'; font-size: medium; line-height: 1.5;\">是一个Gnome平台上的下拉式的终端工具，也是我以前用的。这款终端的目标就是提供一种快速终端访问方式，你只需要按动一个快捷键，就能让它从桌面上出现/消失。这款下拉风格的终端非常的好用。安装，打开，把它设置成开机启动。它能最小化到系统栏上，使用F12能直接把它呼叫出来。</span><br></div></div><p><font size=\"3\" face=\"Comic Sans MS\">它的安装方式：</font></p><pre><font size=\"3\" face=\"Comic Sans MS\">apt-get install guake</font></pre><p><font size=\"3\" face=\"Comic Sans MS\"> </font></p><p><font size=\"3\" face=\"Comic Sans MS\">从Applications>Accessories>Guake处运行它。然后右键点击它系统栏图标，然后点击‘preferences’，设置你的喜好。你可以通过“<b>man guake</b>“活动详细帮助信息。</font></p><h3><font size=\"3\" face=\"Comic Sans MS\">Stjerm</font></h3><p><font size=\"3\" face=\"Comic Sans MS\"><img style=\"display: block;\" class=\"alignright size-medium wp-image-7856 lazy \" alt=\"sjterm\" src=\"http://www.vaikan.com/wordpress/wp-content/uploads/2014/02/sjterm-247x123.png\" data-original=\"http://www.vaikan.com/wordpress/wp-content/uploads/2014/02/sjterm-247x123.png\" height=\"123\" width=\"247\"><br> 这是一款可以和Guake、Tilda相媲美的终端软件。而且它非常的轻巧，有tab页，可以全屏切换。它的安装方式是：</font></p><pre><font size=\"3\" face=\"Comic Sans MS\">apt-get install sjterm</font></pre><h3><font size=\"3\" face=\"Comic Sans MS\">Terminator</font></h3><p><font size=\"3\" face=\"Comic Sans MS\"><img style=\"display: block;\" class=\"alignleft size-medium wp-image-7857 lazy \" alt=\"terminator\" src=\"http://www.vaikan.com/wordpress/wp-content/uploads/2014/02/terminator-247x129.png\" data-original=\"http://www.vaikan.com/wordpress/wp-content/uploads/2014/02/terminator-247x129.png\" height=\"129\" width=\"247\"></font></p><p><font size=\"3\" face=\"Comic Sans MS\"><b>Terminator</b>是\r\n一款跨平台的终端工具，使用的是GPL许可证，提供了很多高级的功能。它没有Guake和Yakuake那样光鲜，但绝对是一款重型武器。它提供的功能包\r\n括界面分块，将自己设置成GNOME桌面缺省终端。跟Guake一样，Terminator可以安装到绝大多数的各种Linux版本中。你可以将它的主窗\r\n口分成任意多的小块。它的安装方式是：</font></p><pre><font size=\"3\" face=\"Comic Sans MS\">apt-get install terminator</font></pre><p><font size=\"3\" face=\"Comic Sans MS\">它的特征可以总结为：</font></p><ul><li><font size=\"3\" face=\"Comic Sans MS\">将界面分割成网格状</font></li><li><font size=\"3\" face=\"Comic Sans MS\">tab页</font></li><li><font size=\"3\" face=\"Comic Sans MS\">拖拽排序各个终端</font></li><li><font size=\"3\" face=\"Comic Sans MS\">大量快捷键</font></li><li><font size=\"3\" face=\"Comic Sans MS\">通过可视化的设置工具调整界面布局和配置喜好。</font></li><li><font size=\"3\" face=\"Comic Sans MS\">各个窗口可以并行使用</font></li></ul><p><font size=\"3\" face=\"Comic Sans MS\"> </font></p><h3><font size=\"3\" face=\"Comic Sans MS\">ROXTerm</font></h3><p><font size=\"3\" face=\"Comic Sans MS\"><img style=\"display: block;\" class=\"alignright size-medium wp-image-7854 lazy \" alt=\"roxterm\" src=\"http://www.vaikan.com/wordpress/wp-content/uploads/2014/02/roxterm-247x174.png\" data-original=\"http://www.vaikan.com/wordpress/wp-content/uploads/2014/02/roxterm-247x174.png\" height=\"174\" width=\"247\"><br></font> <font size=\"3\" face=\"Comic Sans MS\"><b>ROXTerm</b>的最初设计目标就是轻量，替代笨重的gnome终端。但后来随着时间的迁移它的目标也发生了变化，变成了一个功能强大的重量级终端工具。它同GNOME桌面环境集成的非常好。支持的功能包括往终端里拖拽文件。它的安装方式是：</font></p><pre><font size=\"3\" face=\"Comic Sans MS\">apt-get install roxterm</font></pre><h3><font size=\"3\" face=\"Comic Sans MS\">Eterm</font></h3><p><font size=\"3\" face=\"Comic Sans MS\"><img style=\"display: block;\" class=\"alignleft size-medium wp-image-7851 lazy \" alt=\"eterm_variables\" src=\"http://www.vaikan.com/wordpress/wp-content/uploads/2014/02/eterm_variables-247x168.png\" data-original=\"http://www.vaikan.com/wordpress/wp-content/uploads/2014/02/eterm_variables-247x168.png\" height=\"168\" width=\"247\"><br></font> <font size=\"3\" face=\"Comic Sans MS\"><b>Eterm</b>很\r\n可能是这些终端工具中最轻量级的一个。它有彩色的终端输出，目的是来替代xterm。Eterm主题颜色可以配置，运行的非常快。要想启动Eterm，你\r\n需要输入’Eterm’(注意是大写的’E\')。别写成了’eterm’。如果没有经验，你可能试很多次才会明白问题出在哪里。它的安装方法是：</font></p><pre><font size=\"3\" face=\"Comic Sans MS\">apt-get install eterm</font></pre><h3><font size=\"3\" face=\"Comic Sans MS\">Rxvt</font></h3><p><font size=\"3\" face=\"Comic Sans MS\"><img style=\"display: block;\" class=\"alignright size-medium wp-image-7855 lazy \" alt=\"rxvt-banner\" src=\"http://www.vaikan.com/wordpress/wp-content/uploads/2014/02/rxvt-banner-247x77.png\" data-original=\"http://www.vaikan.com/wordpress/wp-content/uploads/2014/02/rxvt-banner-247x77.png\" height=\"77\" width=\"247\"><br></font> <font size=\"3\" face=\"Comic Sans MS\"><b>Rxvt</b>也是一个试图取代xterm地位的Linux终端软件。Rxvt对系统资源的消耗非常小。它的安装方法是：</font></p><pre><font size=\"3\" face=\"Comic Sans MS\">apt-get install rxvt</font></pre><h3><font size=\"3\" face=\"Comic Sans MS\">Aterm</font></h3><p><font size=\"3\" face=\"Comic Sans MS\"><img style=\"display: block;\" class=\"alignright size-medium wp-image-7850 lazy \" alt=\"aterm-scroll\" src=\"http://www.vaikan.com/wordpress/wp-content/uploads/2014/02/aterm-scroll-247x163.png\" data-original=\"http://www.vaikan.com/wordpress/wp-content/uploads/2014/02/aterm-scroll-247x163.png\" height=\"163\" width=\"247\"><br></font> <font size=\"3\" face=\"Comic Sans MS\"><b>Aterm</b>是一款基于rxvt的终端工具，它提供了非常漂亮的视觉效果，所有的终端的基本功能它都提供了。此外它还提供了仿透明效果和失去焦点时的淡出效果。它的安装方式是：</font></p><pre><font size=\"3\" face=\"Comic Sans MS\">apt-get install aterm</font></pre><h3><font size=\"3\" face=\"Comic Sans MS\">Wterm</font></h3><p><font size=\"3\" face=\"Comic Sans MS\"><img style=\"display: block;\" class=\"alignleft size-medium wp-image-7848 lazy \" alt=\"wterm-linux-terminal-emulator\" src=\"http://www.vaikan.com/wordpress/wp-content/uploads/2014/02/wterm-linux-terminal-emulator-247x157.jpg\" data-original=\"http://www.vaikan.com/wordpress/wp-content/uploads/2014/02/wterm-linux-terminal-emulator-247x157.jpg\" height=\"157\" width=\"247\"><br></font> <font size=\"3\" face=\"Comic Sans MS\"><b>Wterm</b>是另外一个基于rxvt的轻量级命令行终端。它的功能包括可以设置背景图片，透明效果，反向透明等。大量的设置项使其成为一款可高度自定义的终端工具。它的安装方法是：</font></p><pre><font size=\"3\" face=\"Comic Sans MS\"> apt-get install wterm</font></pre><p><font size=\"3\" face=\"Comic Sans MS\">它的缺点是，看起来它好像是已经没人维护了。</font></p><h3><font size=\"3\" face=\"Comic Sans MS\">TermKit</font></h3><p><font size=\"3\" face=\"Comic Sans MS\"><img style=\"display: block;\" class=\"alignright size-medium wp-image-7847 lazy \" alt=\"TermKit-ls\" src=\"http://www.vaikan.com/wordpress/wp-content/uploads/2014/02/TermKit-ls-247x189.png\" data-original=\"http://www.vaikan.com/wordpress/wp-content/uploads/2014/02/TermKit-ls-247x189.png\" height=\"189\" width=\"247\"><br></font> <font size=\"3\" face=\"Comic Sans MS\"><b>TermKit</b>并不能作为一款日常使用的终端工具。它有一个非常漂亮的图形操作界面。它是基于 WebKit 开发出来的命令行系统。它的安装方式是：</font></p><pre><font size=\"3\" face=\"Comic Sans MS\">apt-get install termkit</font></pre><h3><font size=\"3\" face=\"Comic Sans MS\">Terminology</font></h3><p><font size=\"3\" face=\"Comic Sans MS\"><img style=\"display: block;\" class=\"alignleft size-medium wp-image-7853 lazy \" alt=\"Opening-a-file-using-mouse-in-Terminology\" src=\"http://www.vaikan.com/wordpress/wp-content/uploads/2014/02/Opening-a-file-using-mouse-in-Terminology-247x103.jpg\" data-original=\"http://www.vaikan.com/wordpress/wp-content/uploads/2014/02/Opening-a-file-using-mouse-in-Terminology-247x103.jpg\" height=\"103\" width=\"247\"></font></p><p><font size=\"3\" face=\"Comic Sans MS\">这不是一款简单意义上的终端工具，它可以做任何事情。使用Terminology，你可以预览图片，播放视频，不需要打开其他文件管理工具。它是万能的。它的安装方法是：</font></p><pre><font size=\"3\" face=\"Comic Sans MS\">sudo add-apt-repository ppa:hannes-janetzek/enlightenment-svn\r\n\r\nsudo apt-get update\r\n\r\nsudo apt-get install terminology</font></pre><p><font size=\"3\" face=\"Comic Sans MS\">这样你就可以使用它了。我相信你一定会吃惊于它能够做的事情。</font></p>',1,0,'',3,'',1395767316,1395663762),(50,1,'','VPS下安装VPN（Ubuntu)','阿里云，VPN，Ubuntu',344,'<font face=\"Comic Sans MS\" size=\"5\"><span style=\"line-height: 24px;\"><b>前言</b></span></font><div><font face=\"Comic Sans MS\" size=\"3\"><span style=\"line-height: 24px;\">　　有一个阿里云的云服务器（用来挂博客的）就想试着安装一个VPN代理服务器，看能不能翻墙，虽然不是很复杂，但是还是遇到了几个问题，这里就总结一下，分享一下。附录为centos下安装方法，最后有几个本人的共享VPN账号（5MB，5月22号到期）。</span></font></div><div><font face=\"Comic Sans MS\" size=\"5\"><b>正文</b></font></div><div><ul><li><font face=\"Comic Sans MS\"><font size=\"3\">确认PPP设备或TUN设备是否安装</font><br></font></li></ul></div><pre>ls /dev/ppp\r\nls /dev/net/tun\r\n# 或\r\ncat /dev/ppp\r\ncat /dev/net/tun</pre><font face=\"Comic Sans MS\" size=\"3\"><span style=\"line-height: 24px;\">如果提示“No such file or directory”或“No such device or address”则表示</span></font><font face=\"Comic Sans MS\" size=\"3\">则说明内核是提供PPP协议支持的。必须报下面两个信息。</font><div><font face=\"Comic Sans MS\" size=\"3\"><span style=\"line-height: 24px;\"><br></span></font></div><pre>root@apacal:/home/apacal# cat /dev/ppp\r\ncat: /dev/ppp: No such device or address\r\nroot@apacal:/home/apacal# cat /dev/net/tun\r\ncat: /dev/net/tun: File descriptor in bad state<font color=\"#393939\" face=\"Comic Sans MS\" size=\"3\"><span style=\"line-height: 24px; white-space: normal;\">\r\n</span></font></pre><font face=\"Comic Sans MS\" size=\"3\"><ul><li>安装pptpd<br></li></ul></font><pre>apt-get install pptpd</pre><span style=\"font-family: \'Comic Sans MS\'; font-size: medium; line-height: 1.5;\"><ul><li><span style=\"line-height: 1.5;\">安装成功后修改/etc/pptd.conf文件，配置VPN 的IP地址写入</span></li></ul></span><pre>localip XXX.XXX.XXX.XXX\r\nremoteip XXX.XXX.XXX.XXX-XXX\r\n#我的配置\r\nlocalip 10.162.85.234\r\nremoteip 10.162.85.0-24</pre><font color=\"#f83a22\" face=\"Comic Sans MS\" size=\"3\"><span style=\"line-height: 24px;\">注意：这里面的 localip   remoteip 的IP段要和内网IP属于同一网段</span></font><div><font face=\"Comic Sans MS\" size=\"3\"><span style=\"line-height: 24px;\"><div>localip 为本地IP，即本机IP</div><div>remoteip 为远程主机会被分配的IP,通常设置为连续ip段</div></span></font></div><div><font face=\"Comic Sans MS\" size=\"3\"><span style=\"line-height: 24px;\">一般来说这样设置就行了。</span></font></div><pre>localip 192.168.1.243\r\nremoteip 192.168.1.0-24<font color=\"#393939\" face=\"Comic Sans MS\" size=\"3\"><span style=\"line-height: 24px; white-space: normal;\">\r\n</span></font></pre><font face=\"Comic Sans MS\" size=\"3\"><ul><li>编辑/etc/ppp/chap-secrets，配置VPN连接的用户，格式为</li></ul></font><pre>username pptpd password *\r\nusername表示用户名\r\npptpd表示服务名，一般默认\r\npassword表示密码\r\n*星号表示所有IP都可以接入</pre><font face=\"Comic Sans MS\" size=\"3\"><ul><li>打开IP转发，修改/etc/sysctl.conf，打开ipv4转发</li></ul></font><pre>net.ipv4.ip_forward=1\r\n\r\n#打开SYN cookies功能，避免SYN洪水攻击，多用户连接时推荐打开\r\nnet.ipv4.tcp_syncookies=0</pre><font face=\"Comic Sans MS\" size=\"3\"><span style=\"line-height: 24px;\">　生效对/etc/sysctl.conf的修改</span></font><br><div><br></div><pre>root@apacal:/home/apacal# sysctl -p\r\nnet.ipv4.ip_forward = 1\r\nnet.ipv6.conf.all.disable_ipv6 = 1<font color=\"#393939\" face=\"Comic Sans MS\" size=\"3\"><span style=\"line-height: 24px; white-space: normal;\">\r\n</span></font></pre><font face=\"Comic Sans MS\" size=\"3\"><ul><li>设置iptable做转发</li></ul></font><pre>iptables -t nat -A POSTROUTING -o [转发的网卡，连接公网的网卡] -s [需要转发的ip段] -j SNAT --to-source [您的公网ip]\r\n#参考\r\niptables -t nat -A POSTROUTING -o eth1 -s 10.162.85.0/24 -j SNAT --to-source 218.244.140.7</pre><font face=\"Comic Sans MS\" size=\"3\"><ul><li>启动pptp vpn服务</li></ul></font><pre>service pptpd start</pre><font face=\"Comic Sans MS\" size=\"3\"><span style=\"line-height: 24px;\">配置完成了。</span></font><div><font face=\"Comic Sans MS\" size=\"5\"><span style=\"line-height: 24px;\"><b>测试</b></span></font></div><div><ul><li><font face=\"Comic Sans MS\" size=\"3\"><span style=\"line-height: 24px;\">打开VPN网络连接</span></font></li></ul></div><img class=\"view-image\" src=\"/Uploads/Article/image/20140326/ablg_1395841187.png\"><div><font face=\"Comic Sans MS\" size=\"3\"><span style=\"line-height: 24px;\">Gateway填写我们VPN的ip。</span></font></div><div><font face=\"Comic Sans MS\" size=\"3\"><span style=\"line-height: 24px;\"><br></span></font></div><img class=\"view-image\" src=\"/Uploads/Article/image/20140326/ablg_1395841230.png\"><div><font color=\"#f83a22\" face=\"Comic Sans MS\" size=\"3\"><span style=\"line-height: 24px;\">注意　Use Point-to-Point encryption(MPPE)一定要选上。</span></font></div><div><font color=\"#444444\" face=\"Comic Sans MS\" size=\"3\"><span style=\"line-height: 24px;\">查看一下IP，变成了阿里云的了。</span></font></div><div><font color=\"#444444\" face=\"Comic Sans MS\" size=\"3\"><span style=\"line-height: 24px;\"><br></span></font></div><img class=\"view-image\" src=\"/Uploads/Article/image/20140326/ablg_1395841631.png\"><div><font face=\"Comic Sans MS\" size=\"3\"><span style=\"line-height: 24px;\">最后使用traceroute看一下路由结点。</span></font></div><div><font face=\"Comic Sans MS\" size=\"3\"><span style=\"line-height: 24px;\"><br></span></font></div><img class=\"view-image\" src=\"/Uploads/Article/image/20140326/ablg_1395842665.png\"><div><font face=\"Comic Sans MS\" size=\"3\"><span style=\"line-height: 24px;\">第一就去了VPS哪里，说明没有问题，</span></font><span style=\"font-family: \'Comic Sans MS\'; font-size: medium; line-height: 24px;\">traceroute这个命令很不错的！！</span></div><div><font face=\"Comic Sans MS\" size=\"5\"><span style=\"line-height: 24px;\"><b>总结</b></span></font></div><div><font face=\"Comic Sans MS\"><span style=\"line-height: 24px;\"><font style=\"font-weight: bold;\" size=\"5\">　</font><font size=\"3\">本来是想用来翻墙的，但是事实是阿里云的也被禁了。不过还有其它的作用。<br><br><b><font size=\"5\">附录</font></b><br></font></span></font><ul><li><font face=\"Comic Sans MS\"><span style=\"line-height: 24px;\"><font size=\"3\"> centos下安装方法</font></span></font></li></ul><font face=\"Comic Sans MS\"><span style=\"line-height: 24px;\"><font size=\"3\">对于linux来说有时候我们不一定要全部都一步一步去弄，比如安装gcc，你知道怎么编译安装就行了，不一定要源码编译安装。对于centos下安装vpn服务器我们使用一键安装脚本安装。</font></span></font><font face=\"Comic Sans MS\"><span style=\"line-height: 24px;\"><font size=\"3\">（CentOS 5 32bits/64bits下测试通过，我的是chentos5.9）<br></font></span></font></div><div class=\"highlight\"><pre>wget http://apacal.cn/vpn-pptpd.sh &amp;&amp; sh ./vpn-pptpd.sh\r\n#或者\r\n#wget http://www.CTOHome.com/linux-vps-pack/vpn-pptpd.sh;sh ./vpn-pptpd.sh;<br><br>#centos6<br><code>wget http://latrell.me/wp-content/uploads/vpn_centos6.sh</code><br></pre></div><font face=\"Comic Sans MS\" size=\"3\">安装完可以看到建立的账号和密码，</font><font face=\"Comic Sans MS\" size=\"3\">（默认就是vpn1和vpn2）和密码，</font><font face=\"Comic Sans MS\" size=\"3\">密码中可能会有/=等特殊字符，但没有空格，复制密码的时候，小心不要复制了空格</font><font face=\"Comic Sans MS\" size=\"3\">。<br>用户信息放在：/etc/ppp/chap-secrets<br></font><ul><li><font size=\"5\"><b><font color=\"#f83a22\">共享几个账号（IP：173.254.221.5）</font></b></font><br></li></ul><span class=\"Apple-style-span\" style=\"border-collapse: separate; color: rgb(0, 0, 0); font-family: Simsun; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; font-size: medium;\"><span class=\"Apple-style-span\" style=\"font-family: Arial,Helvetica,sans-serif; font-size: 12px; text-align: left;\"><span style=\"color: rgb(0, 128, 128);\"></span></span></span><pre>#用户名　　　　　密码（没有空格）\r\napacal 　　　　　　apacal \r\napacal2 　　　　　apacal2 \r\napacalblog 　　　apacalblog　\r\napacalblog2 　 　apacalblog2 　\r\napacal.cn 　　　　apacal.cn　\r\napacal2.cn　 　　apacal2.cn　　\r\n</pre><img class=\"view-image\" src=\"/Uploads/Article/image/20140327/ablg_1395854620.png\"><div><font face=\"Comic Sans MS\" size=\"3\">使用方法如上：</font><br><font size=\"3\">看视频还是挺快的。</font><br><br></div><img class=\"view-image\" src=\"/Uploads/Article/image/20140327/ablg_1395854737.png\">',1,0,'',3,'',1410941620,1395839119),(51,1,'','在命令行快速切换目录','命令行　快速　切换目录　Linux',295,'<font face=\"Comic Sans MS\"><b><font size=\"5\">前言</font></b><br><font size=\"3\">每天在命令行下，一大部分的工作都是一遍又一遍的输入 cd ~/some/very/deep/often-used/directory这样来切换目录，现在利用些简单的配置可以实现，简化命令。</font></font><br><b><font face=\"Comic Sans MS\" size=\"5\">正文</font></b><br><ul><li><font face=\"Comic Sans MS\" size=\"3\">使用alias命令别名（示例）</font></li></ul><pre>apacal@apacal:$ cd ~/www/ApacalBlog/Application/Home/Controller/\r\napacal@apacal:~/www/ApacalBlog/Application/Home/Controller$ pwd\r\n/home/apacal/www/ApacalBlog/Application/Home/Controller\r\napacal@apacal:~/www/ApacalBlog/Application/Home/Controller$ cd ../../Admin/View/default/\r\napacal@apacal:~/www/ApacalBlog/Application/Admin/View/default$ pwd\r\n/home/apacal/www/ApacalBlog/Application/Admin/View/default\r\n\r\n</pre><font face=\"Comic Sans MS\" size=\"3\">　使用类似于\"cdn\"的cd使用别名来回到n父级目录。编辑</font><font face=\"Comic Sans MS\" size=\"3\">~/.bash_profile，加入下面alias<br></font><pre>alias cd1=\"cd ..\"\r\nalias cd2=\"cd ../..\"\r\nalias cd3=\"cd ../../..\"\r\nalias cd4=\"cd ../../../..\"\r\nalias cd5=\"cd ../../../../..\"\r\nalias cd6=\"cd ../../../../../..\"</pre><font face=\"Comic Sans MS\" size=\"3\">　并重新登录一下，测试一下。<br></font><pre>apacal@apacal:~$ cd www/ApacalBlog/Application/Admin/View/default/Article/\r\napacal@apacal:~/www/ApacalBlog/Application/Admin/View/default/Article$ pwd\r\n/home/apacal/www/ApacalBlog/Application/Admin/View/default/Article\r\napacal@apacal:~/www/ApacalBlog/Application/Admin/View/default/Article$ cd5\r\napacal@apacal:~/www/ApacalBlog$ pwd\r\n/home/apacal/www/ApacalBlog\r\n</pre><ul><li><font color=\"#f83a22\" face=\"Comic Sans MS\" size=\"3\">标记一个书签mark（推荐使用这种方法）</font></li></ul><font color=\"#f83a22\" face=\"Comic Sans MS\" size=\"3\"><font color=\"#444444\">修改~/.bashrc,加入以下内容，保存期完注销一下</font><br></font><pre># mark  change dir  目录快速跳转\r\n\r\nexport MARKPATH=$HOME/.marks\r\nif [ ! -d \"$MARKPATH\" ]; then\r\n    mkdir -p \"$MARKPATH\"\r\nfi\r\n\r\n# Print error messges\r\nfunction _err()\r\n{\r\n    echo -e \"\\033[1;31m[ERROR] $@\\033[0m\" >&2\r\n}\r\n\r\n# Print notice messages\r\nfunction _info()\r\n{\r\n    echo \"[INFO] $@\"\r\n}\r\n\r\n# Jump to predefined mark\r\nfunction jump\r\n{ \r\n    local name=$1\r\n\r\n    if [ -z \"$name\" ]; then\r\n        cd # jump to home directory\r\n    elif [ \"$name\" = \"-\" ]; then\r\n        cd - # jump to last visited directory\r\n    elif [ -d \"$name\" ]; then\r\n        cd \"$name\" # jump to the directory directly\r\n    else # jump to mark directory\r\n        # Generate all complete results\r\n        local mark_list=($(compgen -f -- \"$MARKPATH/$name\"))\r\n\r\n        if [ ${#mark_list[@]} -eq 0 ]; then\r\n            # invalid mark name, print error\r\n            _err \"No such mark: $name\"\r\n            return 1\r\n        elif [ ${#mark_list[@]} -eq 1 ]; then\r\n            # only one result, jump right now\r\n            cd -P \"${mark_list[0]}\"\r\n        else # multiple results, show select menu\r\n            select name in ${mark_list[@]}; do\r\n                cd -P \"$name\" && break\r\n            done\r\n        fi\r\n    fi\r\n}\r\n\r\n# Mark a directory\r\nfunction mark\r\n{ \r\n    local cur=\"$(pwd)\"\r\n    local name=\"$1\"\r\n\r\n    if [ -z \"$name\" ]; then\r\n        # use basename as mark name by default\r\n        name=$(basename \"$cur\")\r\n    fi\r\n\r\n    # Convert mark name to lowercase\r\n    name=$(echo \"$name\" | tr A-Z a-z)\r\n\r\n    # Create a symbolic link to current directory\r\n    if ln -snf \"$cur\" \"$MARKPATH/$name\"; then\r\n        _info \"Create mark \'$name -> $cur\' successfully\"\r\n        return 0\r\n    else\r\n        _err \"Create mark \'$name -> $cur\' failed\"\r\n        return 1\r\n    fi\r\n}\r\n\r\n# Unmark a directory\r\nfunction unmark\r\n{ \r\n    local name=\"$1\"\r\n\r\n    if [ -z \"$name\" ]; then # Default to unmark current directory\r\n        name=$(marks | awk -F\'->\' \'{ if ($2 ~ \"\'\"$(pwd)\"\'$\") {print $1} }\' | sed \'s/ *//g\')\r\n    fi\r\n\r\n    if [ -z \"$name\" ]; then\r\n        _err \"No mark points to current directory\"\r\n        return 1\r\n    elif [ ! -L \"$MARKPATH/$name\" ]; then\r\n        # No valid mark found\r\n        _err \"No such mark: $name\"\r\n        return 1\r\n    else\r\n        local target=\"$(readlink $MARKPATH/$name)\"\r\n\r\n        # Delete the symbolic link\r\n        if unlink \"$MARKPATH/$name\"; then\r\n            _info \"Delete mark \'$name -> $target\' successfully\"\r\n            return 0\r\n        else\r\n            _err \"Delete mark \'$name -> $target\' failed\"\r\n            return 1\r\n        fi\r\n    fi\r\n}\r\n\r\n# List the predefined marks\r\nfunction marks\r\n{\r\n    local file\r\n\r\n    for file in $MARKPATH/*; do\r\n        if [ ! -L \"$file\" ]; then\r\n            continue\r\n        fi\r\n\r\n        if [ ! -e \"$file\" ]; then # clean broken symbolic links\r\n            unlink \"$file\"\r\n        else\r\n            printf \"%-15s -> %s\\n\" \"$(basename \"$file\")\" \"$(readlink \"$file\")\"\r\n        fi\r\n    done\r\n}\r\n\r\n# Set auto bash completion for command jump or umark\r\nfunction _completemarks\r\n{\r\n    local cword=${COMP_WORDS[COMP_CWORD]}\r\n    local mark_list=$(marks | awk -F \'->\' \'{print $1}\' | sed \'s/ *$//g\')\r\n\r\n    # Only do complete on first argument\r\n    if [ $COMP_CWORD -eq 1 ]; then\r\n        COMPREPLY=($(compgen -W \"${mark_list[@]}\" -- \"$cword\"))\r\n    else\r\n        COMPREPLY=()\r\n    fi\r\n\r\n    return 0\r\n}\r\n\r\n# Create aliases for convenience\r\n\r\n# Think: jump or go to\r\nalias j=jump\r\nalias g=jump \r\n\r\n# Think: unmark or delete\r\nalias u=unmark\r\nalias d=unmark\r\n\r\n# Think: mark or save a mark\r\nalias m=mark\r\nalias s=mark\r\n\r\n# Think: list marks or print marks\r\nalias l=marks\r\nalias p=marks\r\n\r\n# Set auto complete\r\ncomplete -o default -o nospace -F _completemarks jump j g\r\ncomplete -o nospace -F _completemarks unmark u d\r\n\r\n# end make </pre><font face=\"Comic Sans MS\" size=\"3\">使用说明</font><pre>$ g /your/favorite/direcotry     # uh... just jump to the directory directly\r\n$ s a-name-you-like              # save a mark with name \'a-name-you-like\'\r\n$ g                              # like `cd`, jump to your home\r\n$ g -                            # like `cd -`, jump to last visited directory\r\n$ g a-name-you-like              # jump to the marked directory based on the name  \r\n$ g a-name                       # the same as above, the mark name will be expanded\r\n$ p                              # list all predefined marks\r\n$ d a-name-you-like              # delete the mark</pre><br>',1,0,'',3,'',1396023544,1395891352),(52,1,'','一次恢复丢失数据的经历(phtorec)','foremost, LINUX, 文件恢复, 恢复照片。',241,'<font face=\"Comic Sans MS\" size=\"5\"><span style=\"line-height: 36px;\"><b>前言</b></span></font><br><div><font face=\"Comic Sans MS\"><font size=\"3\">　　前段时间用相机去拍了一些照片，回来放到电脑发现相片丢失了，明天又要赶脚的用相机，赶紧把照片恢复过来，要不然写入了数据，神也没办法了。因为要恢复照片，所以我们选择</font></font><font face=\"Comic Sans MS\" size=\"3\"><span style=\"line-height: 24px;\">phtorec 来恢复。</span></font><font face=\"Comic Sans MS\"><br></font></div><div><font face=\"Comic Sans MS\"><font size=\"3\"><br></font></font></div><div><font face=\"Comic Sans MS\" size=\"5\"><span style=\"line-height: 24px;\"><b>正文</b></span></font></div><div><ul><li><b style=\"font-size: medium; line-height: 24px; font-family: \'Comic Sans MS\';\">Linux 文件恢复的原理</b><br></li></ul><font size=\"3\" face=\"Comic Sans MS\"><span style=\"font-weight: bold; line-height: 24px;\">inode 和 block</span><br><span style=\"line-height: 1.5;\">　　首先简单介绍一下 Linux 文件系统的最基本单元：inode。inode 译成中文就是索引节点，每个存储设备（例如硬盘）或存储设备的分区被格式化为文件系统后，应该有两部份，一部份是 inode，另一部份是 block，block 是用来存储数据用的。而 inode 呢，就是用来存储这些数据的信息，这些信息包括文件大小、属主、归属的用户组、读写权限等。inode 为每个文件进行信息索引，所以就有了 inode 的数值。linux 操作系统下可以使用 ls –id 命令来查看文件或者目录的 inode 值，（而硬链接就是一个很典型的例子，当你删除一个文件时，如果它有硬链接，你删除的只是一个标志，并没有删除该文件）。示例：</span></font><br></div><div><font size=\"3\" face=\"Comic Sans MS\"><span style=\"line-height: 1.5;\"><br></span></font></div><pre>root@apacal:/# mkdir usbroot@apacal:/# mount /dev/mmcblk0p1 /ususb/ usr/ root@apacal:/# mount /dev/mmcblk0p1 /ususb/ usr/ root@apacal:/# mount /dev/mmcblk0p1 /usb/root@apacal:/# ls -id /ususb/ usr/ root@apacal:/# ls -id /ususb/ usr/ root@apacal:/# ls -id /usb/1 /usb/<font color=\"#393939\" face=\"Comic Sans MS\" size=\"3\"><span style=\"line-height: 24px; white-space: normal;\"></span></font></pre><div><font face=\"Comic Sans MS\" size=\"3\"><span style=\"line-height: 24px;\"><b>文件恢复的原理</b></span></font></div><hr><div><span style=\"font-family: \'Comic Sans MS\'; font-size: medium; line-height: 24px;\">　　在 ext3 和 ext4 文件系统中，每个文件都是通过 inode 来描述其数据存放的具体位置，当文件被删除以后，inode 的数据指针部分被清零，文件目录区没有太多变化。文件的读写都是通过 inode 来实现，当 inode 数据指针被清零以后，即便文件内容还在，也没有办法把文件内容组合出来。当 ext3 和 ext4 文件系统中的元数据 metadata 发生变化时，相应的元数据 metadata 在日志文件会有一份拷贝。比如一个文件被删除了，它的 inode 信息会在日志文件中先保存一份，然后把要删除文件 inode 相关信息清零。这个日志文件是循环使用的，当操作过多时，删除的文件的 inode 日志记录会被新的数据替换，这就彻底丧失了根据 inode 找回数据的机会了。如果是大量文件的删除，这个日志文件会被反复循环利用多次，只留给最后删除的那些文件的恢复机会。</span><br></div><div><ul><li><b><font face=\"Comic Sans MS\" size=\"3\"><span style=\"line-height: 24px;\">&nbsp;testdisk&nbsp;</span></font></b></li></ul></div><font size=\"3\" face=\"Comic Sans MS\">　　testdisk 是分区表恢复、raid 恢复、分区恢复的开源免费工具（testdisk 支持如下文件系统: FAT12/FAT16/FAT32/NTFS/ext2/ext3/ext4）。testdisk 支持的功能: 修复分区表, 恢复已删除分区，用 FAT32 备份表恢复启动扇区，重建 FAT12/FAT16/FAT32 启动扇区，修复 FAT 表，重建 NTFS 启动扇区，用备份表恢复 NTFS 启动扇区，用 mft 镜像表(mft mirror)修复 mft 表，查找 ext2/ext3 备份的 superblock，从 FAT,NTFS 及 ext2 文件系统恢复删除文件，从已删除的 FAT,NTFS 及 ext2/ext3 分区复制文件。</font><div><span style=\"font-family: \'Comic Sans MS\'; font-size: medium; line-height: 24px;\">安装：</span></div><pre>apt-get install testdisk  </pre><font face=\"Comic Sans MS\" size=\"3\">其它 Linux 发行版用户可以在http://www.cgsecurity.org/wiki/TestDisk_Download&nbsp;下载源代码编译安装。</font><div><font face=\"Comic Sans MS\" size=\"3\"><span style=\"line-height: 24px;\">　　使用方法就不介绍。<br></span></font><div><ul><li><b style=\"line-height: 1.5;\"><font face=\"Comic Sans MS\" size=\"3\">phtorec&nbsp;</font></b><br></li></ul><div><font face=\"Comic Sans MS\" size=\"3\">　　photorec 是一款用于恢复硬盘、光盘中丢失的视频、文档、压缩包等文件，或从数码相机存储卡中恢复丢失图片的数据恢复软件（因此，该软件命名为 photo recovery 这个名字)。 photorec 忽略文件系统，能直接从介质底层恢复数据，因此，在介质的文件系统严重破坏或被重新格式化后，它也能进行数据恢复。出于安全考虑, photorec 以只读方式来访问您要恢复数据所在的磁盘或存储卡介质。提示: 一旦发现丢失或意外删除了某个图片、文件， 请不要继续往该存储设备或磁盘保存新文件；否则您可能会覆盖原来的数据。 这意味着您在使用 photorec 时，您千万不要将恢复的文件写入到原数据所存储的同一分区。<span style=\"line-height: 24px;\">photorec 是 testdisk 的伴侣程序，安装 testdisk 后 photorec 就可以使用了。</span><br></font></div></div></div><div><div><br></div><pre>photorec</pre><font face=\"Comic Sans MS\" size=\"3\"><span style=\"line-height: 24px;\">　　进入后选择一些设置，重要的是，进入<font color=\"#f83a22\">File Opt</font>选项，选择要恢复的文件。</span></font></div><div><div><ul><li><b style=\"font-size: medium; line-height: 1.5;\"><font color=\"#9a9cff\">恢复中</font></b></li></ul></div><div><ul><li><span style=\"line-height: 24px; font-family: \'Comic Sans MS\'; font-size: medium;\"><font color=\"#9a9cff\"><b>恢复完成</b></font></span></li></ul></div></div><div><ul><li><span style=\"line-height: 24px; font-family: \'Comic Sans MS\'; font-size: medium;\"><font color=\"#9a9cff\"><b>看一下文件大小</b></font></span><br></li></ul></div><div><font color=\"#9a9cff\" face=\"Comic Sans MS\" size=\"3\"><span style=\"line-height: 24px;\"><br></span></font><ul><li><span style=\"line-height: 24px; font-family: \'Comic Sans MS\'; font-size: medium;\"><font color=\"#9a9cff\">相机里查看的缩略图都出来了，左边的原图</font></span><br></li></ul></div><div><ul><li><span style=\"line-height: 24px; color: rgb(154, 156, 255); font-family: \'Comic Sans MS\'; font-size: medium;\">主要的文件也恢复了</span><br></li></ul></div><div><font face=\"Comic Sans MS\" size=\"5\"><span style=\"line-height: 24px;\"><b>总结</b></span></font></div><div><font face=\"Comic Sans MS\"><span style=\"line-height: 24px;\"><font size=\"5\">　</font><font size=\"3\">在linux有许多文件恢复软件，并且都是免费的或者开源的，针对性也强，当您习惯后，就会发现commondline是很好。这类的软件还有</font></span></font><font face=\"Comic Sans MS\" size=\"3\"><span style=\"line-height: 24px;\">foremost 和 extundelete等等。</span></font></div>',1,0,'',3,'',1419941599,1396103246),(53,1,'','28个Unix/Linux的命令行神器','Unix/Linux, 命令行神器',281,'<p>下面是<a href=\"http://kkovacs.eu/\" target=\"_blank\">Kristóf Kovács</a>收集的28个Unix/Linux下的28个命令行下的工具（<a href=\"http://kkovacs.eu/cool-but-obscure-unix-tools\" target=\"_blank\">原文链接</a>），有一些是大家熟悉的，有一些是非常有用的，有一些是不为人知的。这些工具都非常不错，希望每个人都知道。本篇文章还在<a href=\"http://news.ycombinator.com/item?id=2567186\" target=\"_blank\">Hacker News上被讨论</a>，你可以过去看看。我以作者的原文中加入了官网链接和一些说明。</p>\r\n<div class=\"alpha grid_6\">\r\n<h4>dstat &amp; sar</h4>\r\n<p>iostat, vmstat, ifstat 三合一的工具，用来查看系统性能（我在《<a title=\"性能调优攻略\" href=\"http://coolshell.cn/articles/7490.html\" target=\"_blank\">性能调优攻略</a>》中提到过那三个xxstat工具）。</p>\r\n<p>官方网站：<a href=\"http://dag.wieers.com/rpm/packages/dstat/\" target=\"_blank\">http://dag.wieers.com/rpm/packages/dstat/</a></p>\r\n<p>你可以这样使用：</p>\r\n<div><div id=\"highlighter_768927\" class=\"syntaxhighlighter coolshell_syntaxhighlighter bash\"><table border=\"0\" cellpadding=\"0\" cellspacing=\"0\"><tbody><tr><td class=\"gutter\"><div class=\"line number1 index0 alt2\">1</div></td><td class=\"code\"><div class=\"container\"><div class=\"line number1 index0 alt2\"><code class=\"bash functions\">alias</code> <code class=\"bash plain\">dstat=</code><code class=\"bash string\">\'dstat -cdlmnpsy\'</code></div></div></td></tr></tbody></table></div></div>\r\n<div class=\"align_right\">\r\n<p><img class=\"aligncenter\" title=\"\" src=\"http://coolshell.cn//wp-content/uploads/2012/07/dstat_screenshot.png\" alt=\"dstat screenshot\" height=\"326\" width=\"400\"></p>\r\n<h4 class=\"caption_text\">slurm</h4>\r\n</div>\r\n<p>查看网络流量的一个工具</p>\r\n<p>官方网站：<em>&nbsp;&nbsp;<a href=\"https://computing.llnl.gov/linux/slurm/\" target=\"_blank\">Simple Linux Utility for Resource Management</a></em></p>\r\n<p><span id=\"more-7829\"></span></p>\r\n<div class=\"align_right\">\r\n<p><img class=\"aligncenter\" title=\"\" src=\"http://coolshell.cn//wp-content/uploads/2012/07/slurm_screenshot.png\" alt=\"slurm screenshot\" height=\"326\" width=\"400\"></p>\r\n<p class=\"caption_text\">\r\n</p></div>\r\n<hr><h4>vim &amp; emacs</h4>\r\n<p>真正程序员的代码编辑器。</p>\r\n<div class=\"align_right\">\r\n<p><img class=\"aligncenter\" title=\"\" src=\"http://coolshell.cn//wp-content/uploads/2012/07/vim_screenshot.png\" alt=\"vim screenshot\" height=\"326\" width=\"400\"></p>\r\n<p class=\"caption_text\">\r\n</p></div>\r\n<h4>screen, dtach, tmux, byobu</h4>\r\n<p>你是不是经常需要 SSH 或者 telent 远程登录到 Linux \r\n服务器？你是不是经常为一些长时间运行的任务而头疼，比如系统备份、ftp \r\n传输等等。通常情况下我们都是为每一个这样的任务开一个远程终端窗口，因为他们执行的时间太长了。必须等待它执行完毕，在此期间可不能关掉窗口或者断开连\r\n接，否则这个任务就会被杀掉，一切半途而废了。</p>\r\n<p><a href=\"http://www.gnu.org/software/screen/\" target=\"_blank\"><strong>Screen</strong></a>是\r\n一个可以在多个进程之间多路复用一个物理终端的窗口管理器。Screen中有会话的概念，用户可以在一个screen会话中创建多个screen窗口，在\r\n每一个screen窗口中就像操作一个真实的telnet/SSH连接窗口那样。请参看IBM DeveloperWorks的这篇文章《<a href=\"http://www.ibm.com/developerworks/cn/linux/l-cn-screen/\" target=\"_blank\">使用 screen 管理你的远程会话</a>》</p>\r\n<p><img class=\"aligncenter\" title=\"\" src=\"http://coolshell.cn//wp-content/uploads/2012/07/gnu_screen_screenshot.png\" alt=\"gnu screen screenshot\" height=\"326\" width=\"400\"></p>\r\n<p><a href=\"http://dtach.sourceforge.net/\" target=\"_blank\"><strong>dtach</strong> </a>是用来模拟screen的detach的功能的小工具，其可以让你随意地attach到各种会话上 。下图为dtach+dvtm的样子。</p>\r\n<p><img class=\"aligncenter size-full wp-image-7861\" title=\"dtach+dvtm\" src=\"http://coolshell.cn//wp-content/uploads/2012/07/dtach+dvtm.png\" alt=\"\" height=\"477\" width=\"500\"></p>\r\n<p><strong><a title=\"http://tmux.sourceforge.net/\" href=\"http://tmux.sourceforge.net/\" rel=\"nofollow\">tmux</a></strong>是一个优秀的终端复用软件，类似<a title=\"http://www.gnu.org/software/screen/\" href=\"http://www.gnu.org/software/screen/\" rel=\"nofollow\">GNU Screen</a>，\r\n但来自于OpenBSD，采用BSD授权。使用它最直观的好处就是，通过一个终端登录远程主机并运行tmux后，在其中可以开启多个控制台而无需再“浪\r\n费”多余的终端来连接这台远程主机；当然其功能远不止于此。与screen相比的优点：可以横向和纵向分割窗口，且窗格可以自由移动和调整大小。可在多个\r\n缓冲区进行复制和粘贴，支持跨窗口搜索；非正常断线后不需重新detach；…… &nbsp;有人说——<strong>与tmux相比，screen简直弱爆了</strong>。</p>\r\n<p><img class=\"aligncenter size-full wp-image-7860\" title=\"tmux\" src=\"http://coolshell.cn//wp-content/uploads/2012/07/tmux3.png\" alt=\"\" height=\"404\" width=\"650\"></p>\r\n<div class=\"align_right\">\r\n<p><a href=\"https://launchpad.net/byobu/\" target=\"_blank\"><strong>byobu</strong></a>是Ubuntu开发的，在Screen的基础上进行包装，使其更加易用的一个工具。最新的Byobu，已经是基于Tmux作为后端了。可通过“byobu-tmux”这个命令行前端来接受各种与tmux一模一样的参数来控制它。Byobu的细节做的非常好，效果图如下：<img class=\"aligncenter size-full wp-image-7864\" title=\"byobu-tmux\" src=\"http://coolshell.cn//wp-content/uploads/2012/07/byobu-tmux.jpg\" alt=\"\" height=\"406\" width=\"650\"></p>\r\n<p class=\"caption_text\">\r\n</p></div>\r\n<h4>multitail</h4>\r\n<p>MultiTail是个用来实现同时监控多个文档、类似tail命令的功能的软件。他和tail的区别就是他会在控制台中打开多个窗口，这样使同时监控多个日志文档成为可能。他还可以看log文件的统计，合并log文件，过滤log文件，分屏，……。</p>\r\n<p>官网：<a href=\"http://www.vanheusden.com/multitail/\">http://www.vanheusden.com/multitail/</a></p>\r\n<div class=\"align_right\">\r\n<p><img class=\"aligncenter\" title=\"\" src=\"http://coolshell.cn//wp-content/uploads/2012/07/multitail_screenshot.png\" alt=\"multitail screenshot\" height=\"326\" width=\"400\"></p>\r\n<p class=\"caption_text\">\r\n</p></div>\r\n<h4>tpp</h4>\r\n<p>终端下的PPT，要是在某某大会上用这个演示PPT，就太TMD的Geek了。</p>\r\n<p>官网：<a href=\"http://www.ngolde.de/tpp.html\">http://www.ngolde.de/tpp.html</a></p>\r\n<div class=\"align_right\">\r\n<p><img class=\"aligncenter\" title=\"\" src=\"http://coolshell.cn//wp-content/uploads/2012/07/tpp_screenshot.png\" alt=\"tpp screenshot\" height=\"326\" width=\"400\"></p>\r\n<p class=\"caption_text\">\r\n</p></div>\r\n<h4>xargs &amp; parallel</h4>\r\n<p>Executes tasks from input (even multithread).</p>\r\n<p>xargs 是一个比较古老的命令，有简单的并行功能，这个不说了。<span>对于</span><a href=\"http://www.gnu.org/software/parallel/\"><span>GNU parallel</span></a><span>&nbsp;(&nbsp;</span><a href=\"http://savannah.gnu.org/projects/parallel\"><span>online manpage</span></a><span><span>&nbsp;)来说，它不仅能够处理本机上多执行绪，还能分散至远端电脑协助处理。</span><span>而使用GNU parallel前，要先确定本机有安装GNU parallel / ssh / rsync，远端电脑也要安装ssh。</span></span></p>\r\n<div class=\"align_right\">\r\n<p><img class=\"aligncenter\" title=\"\" src=\"http://coolshell.cn//wp-content/uploads/2012/07/xargs_screenshot.png\" alt=\"xargs screenshot\" height=\"326\" width=\"400\"></p>\r\n<p class=\"caption_text\">\r\n</p></div>\r\n<h4>duplicity &amp; rsyncrypto</h4>\r\n<p><a href=\"http://duplicity.nongnu.org/\" target=\"_blank\">Duplicity</a>是使用rsync算法加密的高效率备份软件，Duplicity支持目录加密生产和格式上传到远程或本地文件服务器。</p>\r\n<p><a href=\"http://rsyncrypto.lingnu.com/index.php/Home_Page\" target=\"_blank\">rsyncrypto</a>&nbsp;就是 rsync + encryption。对于rsync的算法可参看酷壳的<a title=\"rsync 的核心算法\" href=\"http://coolshell.cn/articles/7425.html\" target=\"_blank\">rsync核心算法</a>。</p>\r\n<p>Encrypting backup tools.</p>\r\n<div class=\"align_right\">\r\n<p><img class=\"aligncenter\" title=\"\" src=\"http://coolshell.cn//wp-content/uploads/2012/07/duplicity_screenshot.png\" alt=\"duplicity screenshot\" height=\"326\" width=\"400\"></p>\r\n<p class=\"caption_text\">\r\n</p></div>\r\n<h4>nethack &amp; slash’em</h4>\r\n<p><a href=\"http://www.nethack.org/\" target=\"_blank\">NetHack</a>（<a href=\"http://zh.wikipedia.org/zh/NetHack\" target=\"_blank\">Wiki</a>），20年历史的古老电脑游戏。没有声音，没有漂亮的界面，不过这个游戏真的很有意思。网上有个家伙说：<strong>如果你一生只做一件事情，那么玩NetHack</strong>。\r\n这句话很惹眼，但也让人觉得这个游戏很复杂不容易上手。其实，这个游戏很虽然很复杂，却容易上手。虽然玩通关很难，但上手很容易。NetHack上有许多\r\n复杂的规则，”the DevTeam thinks of \r\neverything”（开发团队想到了所有的事情)。各种各样的怪物，各种各样的武器….，有许多spoilers文件来说明其规则。除了每次开始随机\r\n生成的地图，每次玩游戏，你也都会碰到奇怪的事情: \r\n因为喝了一种药水，变成了机器人;因为踢坏了商店的门被要求高价赔偿;你的狗为你偷来了商店的东西….. \r\n这有点象人生，你不能完全了解这个世界，但你仍然可以选择自己的面对方式。</p>\r\n<p>网上有许多文章所这是最好的电脑游戏或最好的电脑游戏之一。也许是因为它开放的源代码让人赞赏，古老的历史让人宽容，复杂的规则让人敬畏。虽然它不是当前流行的游戏，但它比任何一个当前流行的游戏都更有可能再经受20年的考验。</p>\r\n<p><a href=\"http://www.slashem.org\" target=\"_blank\">Slash’EM</a>&nbsp;也是一个基于NetHack的经典游戏。</p>\r\n<div class=\"align_right\">\r\n<p><img class=\"aligncenter\" title=\"\" src=\"http://coolshell.cn//wp-content/uploads/2012/07/nethack_screenshot.png\" alt=\"nethack screenshot\" height=\"326\" width=\"400\"></p>\r\n<p class=\"caption_text\">\r\n</p></div>\r\n<h4>lftp</h4>\r\n<p>利用<a href=\"http://lftp.yar.ru/\" target=\"_blank\">lftp</a>命令行ftp工具进行网站数据的增量备份，镜像，就像使用rsync一样。</p>\r\n<div class=\"align_right\">\r\n<p><img class=\"aligncenter\" title=\"\" src=\"http://coolshell.cn//wp-content/uploads/2012/07/lftp_screenshot.png\" alt=\"lftp screenshot\" height=\"326\" width=\"400\"></p>\r\n<p class=\"caption_text\">\r\n</p></div>\r\n<h4>ack</h4>\r\n<p><a href=\"http://betterthangrep.com/\"><span>ack</span></a><span>是一个perl脚本，是grep的一个可选替换品。其可以对匹配字符有高亮显示。是为程序员专门设计的，默认递归搜索，省提供多种文件类型供选。</span></p>\r\n<div class=\"align_right\">\r\n<p><img class=\"aligncenter\" title=\"\" src=\"http://coolshell.cn//wp-content/uploads/2012/07/ack_screenshot.png\" alt=\"ack screenshot\" height=\"326\" width=\"400\"></p>\r\n<p class=\"caption_text\">\r\n</p></div>\r\n<h4>calcurse &amp; remind + wyrd</h4>\r\n<p><a href=\"http://calcurse.org/\" target=\"_blank\">calcurse</a>是一个命令行下的日历和日程软件。<a href=\"http://www.roaringpenguin.com/products/remind\" target=\"_blank\">remind</a> + <a href=\"http://pessimization.com/software/wyrd/\" target=\"_blank\">wyrd</a>也很类似。关于日历，我不得不提一个<a title=\"Linux的cycle日历（你懂的）\" href=\"http://coolshell.cn/articles/3489.html\" target=\"_blank\">Linux的Cycle日历</a>，也是一个神器，呵呵。</p>\r\n<div class=\"align_right\">\r\n<p><img class=\"aligncenter\" title=\"\" src=\"http://coolshell.cn//wp-content/uploads/2012/07/calcurse_screenshot.png\" alt=\"calcurse screenshot\" height=\"326\" width=\"400\"></p>\r\n<p class=\"caption_text\">\r\n</p></div>\r\n<h4>newsbeuter &amp; rsstail</h4>\r\n<p><a href=\"http://newsbeuter.org/\" target=\"_blank\">newsbeuter&nbsp;</a>和 <a href=\"http://www.vanheusden.com/rsstail/\" target=\"_blank\">rsstail</a> 是命令行下RSS的阅读工具。</p>\r\n<div class=\"align_right\">\r\n<p><img class=\"aligncenter\" title=\"\" src=\"http://coolshell.cn//wp-content/uploads/2012/07/newsbeuter_screenshot.png\" alt=\"newsbeuter screenshot\" height=\"326\" width=\"400\"></p>\r\n<p class=\"caption_text\">\r\n</p></div>\r\n<h4>powertop</h4>\r\n<p><a title=\"做个环保主义的程序员\" href=\"http://coolshell.cn/articles/7186.html\" target=\"_blank\">做个环保的程序员</a>，看看自己的电脑里哪些程序费电。<a href=\"https://01.org/powertop/\" target=\"_blank\">PowerTOP</a>&nbsp;是一个让 Intel 平台的笔记本电脑节省电源的 Linux 工具。此工具由 Intel 公司发布。它可以帮助用户找出那些耗电量大的程序，通过修复或者关闭那些应用程序或进程，从而为用户节省电源。</p>\r\n<div class=\"align_right\">\r\n<p><img class=\"aligncenter\" title=\"\" src=\"http://coolshell.cn//wp-content/uploads/2012/07/powertop_screenshot.png\" alt=\"powertop screenshot\" height=\"326\" width=\"400\"></p>\r\n<p class=\"caption_text\">\r\n</p></div>\r\n</div>\r\n\r\n<h4>htop &amp; iotop</h4>\r\n<p><a href=\"http://htop.sourceforge.net/\" target=\"_blank\">htop</a>&nbsp;和 <a href=\"http://guichaz.free.fr/iotop/\" target=\"_blank\">iotop</a>&nbsp; 用来查看进程，内存和IO负载。</p>\r\n<div class=\"align_right\">\r\n<p><img class=\"aligncenter\" title=\"\" src=\"http://coolshell.cn//wp-content/uploads/2012/07/htop_screenshot.png\" alt=\"htop screenshot\" height=\"326\" width=\"400\"></p>\r\n</div>\r\n<h4>ttyrec &amp; ipbt</h4>\r\n<p><a href=\"http://0xcc.net/ttyrec/index.html.en\" target=\"_blank\">ttyrec</a>&nbsp;是一个 tty 控制台录制程序，其所录制的数据文件可以使用与之配套的 ttyplay 播放。不管是你在 tty 中的各种操作，还是在 tty 中耳熟能详的软件，都可进行录制。</p>\r\n<p><a href=\"http://www.chiark.greenend.org.uk/%7Esgtatham/ipbt/\" target=\"_blank\">ipbt</a>&nbsp;是一个用来回放 ttyrec 所录制的控制台输入过程的工具。</p>\r\n<p>与此类似的还有<a href=\"http://shelr.tv/\" target=\"_blank\">Shelr</a> 和&nbsp;<a href=\"http://sourceforge.net/projects/termrec/\" target=\"_blank\">termrec&nbsp;</a></p>\r\n<div class=\"align_right\">\r\n<p><img class=\"aligncenter\" title=\"\" src=\"http://coolshell.cn//wp-content/uploads/2012/07/ipbt_screenshot.png\" alt=\"ipbt screenshot\" height=\"326\" width=\"400\"></p>\r\n<p class=\"caption_text\">\r\n</p></div>\r\n<h4>rsync</h4>\r\n<p>通过SSH进行文件同步的经典工具（<a title=\"rsync 的核心算法\" href=\"http://coolshell.cn/articles/7425.html\" target=\"_blank\">核心算法</a>）</p>\r\n<div class=\"align_right\">\r\n<p><img class=\"aligncenter\" title=\"\" src=\"http://coolshell.cn//wp-content/uploads/2012/07/rsync_screenshot.png\" alt=\"rsync screenshot\" height=\"326\" width=\"400\"></p>\r\n<p class=\"caption_text\">\r\n</p></div>\r\n<h4>mtr</h4>\r\n<p><a href=\"http://www.bitwizard.nl/mtr/\" target=\"_blank\">MTR</a> – traceroute 2.0，其是把 traceroute 和 ping 集成在一块的一个小工具 用于诊断网络。</p>\r\n<div class=\"align_right\">\r\n<p><img class=\"aligncenter\" title=\"\" src=\"http://coolshell.cn//wp-content/uploads/2012/07/mtr_screenshot.png\" alt=\"mtr screenshot\" height=\"326\" width=\"400\"></p>\r\n<p class=\"caption_text\">\r\n</p></div>\r\n<h4>socat &amp; netpipes</h4>\r\n<p><a href=\"http://www.dest-unreach.org/socat/\" target=\"_blank\">socat</a>是一个多功能的网络工具，名字来由是” Socket CAT”，可以看作是netcat的N倍加强版。</p>\r\n<p><a href=\"http://web.purplefrog.com/%7Ethoth/netpipes/\" target=\"_blank\">netpipes</a>&nbsp;和socat一样，主要是用来在命令行来进行socket操作的命令，这样你就可以在Shell脚本下行进socket网络通讯了。</p>\r\n<div class=\"align_right\">\r\n<p><img class=\"aligncenter\" title=\"\" src=\"http://coolshell.cn//wp-content/uploads/2012/07/socat_screenshot.png\" alt=\"socat screenshot\" height=\"326\" width=\"400\"></p>\r\n<p class=\"caption_text\">\r\n</p></div>\r\n<h4>iftop &amp; iptraf</h4>\r\n<p><a href=\"http://www.ex-parrot.com/%7Epdw/iftop/\" target=\"_blank\">iftop</a>和<a href=\"http://iptraf.seul.org/\" target=\"_blank\">iptraf</a>可以用来查看当前网络链接的一些流量情况。</p>\r\n<div class=\"align_right\">\r\n<p><img class=\"aligncenter\" title=\"\" src=\"http://coolshell.cn//wp-content/uploads/2012/07/iftop_screenshot.png\" alt=\"iftop screenshot\" height=\"326\" width=\"400\"></p>\r\n<p><img class=\"aligncenter size-full wp-image-7867\" title=\"iptraf-tcpudp\" src=\"http://coolshell.cn//wp-content/uploads/2012/07/iptraf-tcpudp.gif\" alt=\"\" height=\"354\" width=\"562\"></p>\r\n<p class=\"caption_text\">\r\n</p></div>\r\n<h4>siege &amp; tsung</h4>\r\n<p><a href=\"http://www.joedog.org/siege-home/\" target=\"_blank\">Siege</a>是一个压力测试和评测工具，设计用于WEB开发这评估应用在压力下的承受能力：可以根据配置对一个WEB站点进行多用户的并发访问，记录每个用户所有请求过程的相应时间，并在一定数量的并发访问下重复进行。</p>\r\n<p><a href=\"http://tsung.erlang-projects.org/\" target=\"_blank\">Tsung</a>\r\n 是一个压力测试工具，可以测试包括HTTP, WebDAV,&nbsp;PostgreSQL,&nbsp;MySQL, LDAP, and \r\nXMPP/Jabber等服务器。针对 HTTP 测试，Tsung 支持 HTTP 1.0/1.1 ，包含一个代理模式的会话记录、支持 \r\nGET、POST 和 PUT 以及 DELETE 方法，支持 Cookie 和基本的 WWW 认证，同时还支持 SSL。</p>\r\n<p>参看：<a title=\"十个免费的Web压力测试工具\" href=\"http://coolshell.cn/articles/2589.html\" target=\"_blank\">十个免费的Web压力测试工具</a></p>\r\n<div class=\"align_right\">\r\n<p><img class=\"aligncenter\" title=\"\" src=\"http://coolshell.cn//wp-content/uploads/2012/07/siege_screenshot.png\" alt=\"siege screenshot\" height=\"326\" width=\"400\"></p>\r\n<p class=\"caption_text\">\r\n</p></div>\r\n<h4>ledger</h4>\r\n<p><a href=\"http://ledger-cli.org/\" target=\"_blank\">ledger</a>&nbsp;一个命令行下记帐的小工具。</p>\r\n<div class=\"align_right\">\r\n<p><img class=\"aligncenter\" title=\"\" src=\"http://coolshell.cn//wp-content/uploads/2012/07/ledger_screenshot.png\" alt=\"ledger screenshot\" height=\"326\" width=\"400\"></p>\r\n<p class=\"caption_text\">\r\n</p></div>\r\n<h4>taskwarrior</h4>\r\n<p><a href=\"http://taskwarrior.org/projects/show/taskwarrior\" target=\"_blank\">TaskWarrior</a>&nbsp;是一个基于命令行的 TODO 列表管理工具。主要功能包括：标签、彩色表格输出、报表和图形、大量的命令、底层API、多用户文件锁等功能。</p>\r\n<div class=\"align_right\">\r\n<p><img class=\"aligncenter\" title=\"\" src=\"http://coolshell.cn//wp-content/uploads/2012/07/taskwarrior_screenshot.png\" alt=\"taskwarrior screenshot\" height=\"326\" width=\"400\"></p>\r\n<p>下图是TaskWarrior 2.0的界面：</p>\r\n<p><img class=\"aligncenter size-full wp-image-7868\" title=\"TaskWarrior2.0\" src=\"http://coolshell.cn//wp-content/uploads/2012/07/TaskWarrior2.0.png\" alt=\"\" height=\"480\" width=\"395\"></p>\r\n<p class=\"caption_text\">\r\n</p></div>\r\n<h4>curl</h4>\r\n<p><a href=\"http://curl.haxx.se/\" target=\"_blank\">cURL</a>是一个利用URL语法在命令行\r\n下工作的文件传输工具，1997年首次发行。它支持文件上传和下载，所以是综合传输工具，但按传统，习惯称cURL为下载工具。cURL还包含了用于程序\r\n开发的libcurl。cURL支援的通訊協定有FTP、FTPS、HTTP、HTTPS、TFTP、SFTP、Gopher、SCP、Telnet、\r\nDICT、FILE、LDAP、LDAPS、IMAP、POP3、SMTP和RTSP。</p>\r\n<div class=\"align_right\">\r\n<p><img class=\"aligncenter\" title=\"\" src=\"http://coolshell.cn//wp-content/uploads/2012/07/curl_screenshot.png\" alt=\"curl screenshot\" height=\"326\" width=\"400\"></p>\r\n<p class=\"caption_text\">\r\n</p></div>\r\n<h4>rtorrent &amp; aria2</h4>\r\n<p><a href=\"http://libtorrent.rakshasa.no/\" target=\"_blank\">rTorrent</a>\r\n 是一个非常简洁、优秀、非常轻量的BT客户端. 它使用了 ncurses 库以 C++ 编写, 因此它完全基于文本并在终端中运行. 将 \r\nrTorrent 用在安装有 GNU Screen 和 Secure Shell 的低端系统上作为远程的 BT 客户端是非常理想的。</p>\r\n<p><a href=\"http://aria2.sourceforge.net/\">aria2</a>&nbsp;是 Linux \r\n下一个不错的高速下载工具。由于它具有分段下载引擎，所以支持从多个地址或者从一个地址的多个连接来下载同一个文件。这样自然就大大加快了文件的下载速\r\n度。aria2 也具有断点续传功能，这使你随时能够恢复已经中断的文件下载。除了支持一般的 http(s) 和 ftp 协议外，aria2 还支持\r\n BitTorrent 协议。这意味着，你也可以使用 aria2 来下载 torrent 文件。</p>\r\n<div class=\"align_right\">\r\n<p class=\"caption_text\">&nbsp;<img class=\"aligncenter\" title=\"\" src=\"http://coolshell.cn//wp-content/uploads/2012/07/rtorrent_screenshot.png\" alt=\"rtorrent screenshot\" height=\"326\" width=\"400\"></p>\r\n</div>\r\n<h4>ttytter &amp; earthquake</h4>\r\n<p><a href=\"http://www.floodgap.com/software/ttytter\" target=\"_blank\">TTYtter</a>&nbsp;是一个Perl写的命令行上发Twitter的工具，可以进行所有其他平台客户端能进行的事情，当然，支持中文。脚本控、CLI控、终端控、Perl控的最愛。</p>\r\n<p><a href=\"https://github.com/jugyo/earthquake\" target=\"_blank\">Earthquake</a>也是一个命令行上的Twitter客户端。</p>\r\n<div class=\"align_right\">\r\n<p><img class=\"aligncenter\" title=\"\" src=\"http://coolshell.cn//wp-content/uploads/2012/07/ttytter_screenshot.png\" alt=\"ttytter screenshot\" height=\"326\" width=\"400\"></p>\r\n<p><img class=\"aligncenter size-full wp-image-7870\" title=\"earthquake\" src=\"http://coolshell.cn//wp-content/uploads/2012/07/earthquake.jpg\" alt=\"\" height=\"314\" width=\"550\"></p>\r\n<p class=\"caption_text\">\r\n</p></div>\r\n<h4>vifm &amp; ranger</h4>\r\n<p><a href=\"http://vifm.sourceforge.net/\" target=\"_blank\">Vifm</a>&nbsp;基于ncurses的文件管理器，DOS风格，用键盘操作。</p>\r\n<p><img class=\"aligncenter\" title=\"\" src=\"http://coolshell.cn//wp-content/uploads/2012/07/vifm_screenshot.png\" alt=\"vifm screenshot\" height=\"326\" width=\"400\"></p>\r\n<p><a href=\"http://savannah.nongnu.org/projects/ranger\" target=\"_blank\">Ranger</a>用\r\n Python 完成，默认为使用 Vim 风格的按键绑定，比如 \r\nhjkl（上下左右），dd（剪切），yy（复制）等等。功能很全，扩展/可配置性也非常不错。类似MacOS \r\nX下Finder（文件管理器）的多列文件管理方式。支持多标签页。实时预览文本文件和目录。</p>\r\n<div class=\"align_right\">\r\n<p class=\"caption_text\"><img class=\"aligncenter size-full wp-image-7871\" title=\"ranger\" src=\"http://coolshell.cn//wp-content/uploads/2012/07/ranger.png\" alt=\"\" height=\"340\" width=\"668\"></p>\r\n</div>\r\n<h4>cowsay &amp; sl</h4>\r\n<p><a href=\"http://www.nog.net/%7Etony/warez/cowsay.shtml\" target=\"_blank\">cowsay&nbsp;</a>&nbsp;不说了，如下所示，哈哈哈。还有xcowsay，你可以自己搜一搜。</p>\r\n\r\n<p><img class=\"aligncenter\" title=\"\" src=\"http://coolshell.cn//wp-content/uploads/2012/07/cowsay_screenshot.png\" alt=\"cowsay screenshot\" height=\"326\" width=\"400\"></p>\r\n<p class=\"caption_text\">&nbsp;sl是什么？ls？，呵呵，你会经常把ls 打成sl吗？如果是的话，这个东西可以让你娱乐一下，你会看到一辆火车呼啸而过~~，相当拉风。你可以使用sudo apt-get install sl 安装。</p>\r\n<p class=\"caption_text\"><img class=\"aligncenter size-full wp-image-7872\" title=\"sl\" src=\"http://coolshell.cn//wp-content/uploads/2012/07/sl.jpg\" alt=\"\" height=\"254\" width=\"500\"></p>\r\n<p class=\"caption_text\">最后，再介绍一个命令中linuxlogo，你可以使用 sudo apt-get install linuxlogo来安装，然后，就可以使用linuxlogo -L<br>\r\n来看一下各种Linux的logo了</p>\r\n<p class=\"caption_text\"><img class=\"aligncenter\" title=\"linuxlogo\" src=\"http://coolshell.cn//wp-content/uploads/2012/07/linuxlogo.jpg\" alt=\"\" height=\"371\" width=\"450\"></p>',1,0,'',3,'',1419941484,1396265397),(54,6,'','安全保存用户密码(加盐hash)','salt hash 加盐hash 保存 用户密码',366,'<font size=\"5\" face=\"Comic Sans MS\"><b>前言</b></font><div><font face=\"Comic Sans MS\"><font size=\"3\">　　</font></font><font face=\"Comic Sans MS\" size=\"3\"><span style=\"line-height: 24px;\">在这个用户数据库泄露事件时常发生的年代，如何保存用户的密码显得十分重要，好的保存密码机制（加盐hash）使得我们的数据库泄露了也不会泄露用户的密码信息。本文介绍如何使用加盐hash一些建议。</span></font></div><div><font face=\"Comic Sans MS\" size=\"5\"><span style=\"line-height: 24px;\"><b>正文</b></span></font></div><div><ul><li><b style=\"line-height: 24px; font-family: \'Comic Sans MS\'; font-size: medium;\">什么是hash</b><br></li></ul></div><div><div><font face=\"Comic Sans MS\"><span style=\"line-height: 24px;\"><font size=\"3\">　　Hash算法是一种单向的函数。它可以把任意数量的数据转换成固定长度的“指纹”，这个过程是不可逆的。而且只要输入发生改变，哪怕只有一个bit，输出的hash值也会有很大不同。这种特性恰好合适用来用来保存密码。因为我们希望使用一种不可逆的算法来加密保存的密码，同时又需要在用户登陆的时候验证密码是否正确。</font></span><br></font></div></div><div><font face=\"Comic Sans MS\"><font size=\"3\">　　在一个使用hash的账号系统中，用户注册和认证的大致流程如下：</font></font></div><pre class=\"highlight\"><font size=\"3\">1. 用户创建自己的账号\r\n2. 用户密码经过hash操作之后存储在数据库中。没有任何明文的密码存储在服务器的硬盘上。\r\n3. 用户登陆的时候，将用户输入的密码进行hash操作后与数据库里保存的密码hash值进行对比。\r\n4. 如果hash值完全一样，则认为用户输入的密码是正确的。否则就认为用户输入了无效的密码。\r\n5. 每次用户尝试登陆的时候就重复步骤3和步骤4。</font></pre><font face=\"Comic Sans MS\" size=\"3\"><ul><li><b>如何破解hash</b><hr></li></ul>1.　字典和暴力破解攻击(Dictionary and Brute Force Attacks)<br></font><div><font face=\"Comic Sans MS\" size=\"3\">　　常见的破解hash手段就是猜测密码。然后对每一个可能的密码进行hash，对比需要破解的hash和猜测的密码hash值，如果两个值一样，那么之前猜测的密码就是正确的密码明文。猜测密码攻击常用的方式就是字典攻击和暴力攻击。<br></font></div><div><font face=\"Comic Sans MS\" size=\"3\">　　</font><span style=\"color: rgb(51, 51, 51); font-family: \'Helvetica Neue\', Helvetica, Tahoma, Arial, STXihei, \'Microsoft YaHei\', 微软雅黑, sans-serif; font-size: 16px; line-height: 28.799999237060547px;\">字典攻击是将常用的密码，单词，短语和其他可能用来做密码的字符串放到一个文件中，然后对文件中的每一个词进行hash，将这些hash与需要破解的密码hash比较。这种方式的成功率取决于密码字典的大小以及字典的是否合适。</span></div><div><span style=\"color: rgb(51, 51, 51); font-family: \'Helvetica Neue\', Helvetica, Tahoma, Arial, STXihei, \'Microsoft YaHei\', 微软雅黑, sans-serif; font-size: 16px; line-height: 28.799999237060547px;\">　　</span><font color=\"#333333\" face=\"Helvetica Neue, Helvetica, Tahoma, Arial, STXihei, Microsoft YaHei, 微软雅黑, sans-serif\" size=\"3\"><span style=\"line-height: 28.799999237060547px;\">暴力攻击就是对于给定的密码长度，尝试每一种可能的字符组合。这种方式需要花费大量的计算机时间。但是理论上只要时间足够，最后密码一定能够破解出来。只是如果密码太长，破解花费的时间就会大到无法承受。</span></font></div><div><font color=\"#333333\" face=\"Helvetica Neue, Helvetica, Tahoma, Arial, STXihei, Microsoft YaHei, 微软雅黑, sans-serif\" size=\"3\"><span style=\"line-height: 28.799999237060547px;\">　　目前没有方式可以阻止字典攻击和暴力攻击。只能想办法让它们变的低效。如果你的密码hash系统设计的是安全的，那么破解hash唯一的方式就是进行字典或者暴力攻击了。</span></font></div><div><font color=\"#333333\" face=\"Helvetica Neue, Helvetica, Tahoma, Arial, STXihei, Microsoft YaHei, 微软雅黑, sans-serif\" size=\"3\"><span style=\"line-height: 28.799999237060547px;\">2.　查表破解(Lookup Tables)</span></font></div><div><font color=\"#333333\" face=\"Helvetica Neue, Helvetica, Tahoma, Arial, STXihei, Microsoft YaHei, 微软雅黑, sans-serif\" size=\"3\"><span style=\"line-height: 28.799999237060547px;\">　　对于特定的hash类型，如果需要破解大量hash的话，查表是一种非常有效而且快速的方式。它的理念就是预先计算(pre-compute)出密码字典中每一个密码的hash。然后把hash和对应的密码保存在一个表里。一个设计良好的查询表结构，即使存储了数十亿个hash，每秒钟仍然可以查询成百上千个hash。</span></font><span style=\"color: rgb(51, 51, 51); font-family: \'Helvetica Neue\', Helvetica, Tahoma, Arial, STXihei, \'Microsoft YaHei\', 微软雅黑, sans-serif; font-size: 16px; line-height: 28.799999237060547px;\">如果你想感受下查表破解hash的话可以尝试一下在&nbsp;</span><a href=\"https://crackstation.net/\" rel=\"nofollow,noindex\" style=\"color: rgb(148, 148, 148); -webkit-transition: 0.25s; transition: 0.25s; border-bottom-width: 1px; border-bottom-style: dashed; border-bottom-color: rgb(148, 148, 148); font-style: italic; font-weight: bold; font-family: \'Helvetica Neue\', Helvetica, Tahoma, Arial, STXihei, \'Microsoft YaHei\', 微软雅黑, sans-serif; font-size: 16px; line-height: 28.799999237060547px;\">CraskStation</a><span style=\"color: rgb(51, 51, 51); font-family: \'Helvetica Neue\', Helvetica, Tahoma, Arial, STXihei, \'Microsoft YaHei\', 微软雅黑, sans-serif; font-size: 16px; line-height: 28.799999237060547px;\">&nbsp;上破解下下面的sha512 hash和sha256 hash。</span></div><pre class=\"highlight\">6f540f1b2d18f947ca2e77954d3c91da8166a499c6a35ed1e84f3df6d8d3e0b03bec2f01e0d46d8937363ef2240571c712e927aebb1b254121ea817e08671f22\r\ne4ba5cbd251c98e6cd1c23f126a3b81d8d8328abc95387229850952b3ef9f904</pre><div><font face=\"Comic Sans MS\" size=\"3\"><span style=\"line-height: 24px;\">　　这种方式可以让攻击者不预先计算一个查询表的情况下同时对大量hash进行字典和暴力破解攻击。</span></font></div><div><font face=\"Comic Sans MS\" size=\"3\"><span style=\"line-height: 24px;\">　　首先，攻击者会根据获取到的数据库数据制作一个用户名和对应的hash表。然后将常见的字典密码进行hash之后，跟这个表的hash进行对比，就可以知道用哪些用户使用了这个密码。这种攻击方式很有效果，因为通常情况下很多用户都会有使用相同的密码。</span></font></div><div><font face=\"Comic Sans MS\" size=\"3\"><span style=\"line-height: 24px;\">3.　彩虹表 (Rainbow Tables)</span></font></div><div><font face=\"Comic Sans MS\" size=\"3\"><span style=\"line-height: 24px;\">　　彩虹表是一种使用空间换取时间的技术。跟查表破解很相似。只是它牺牲了一些破解时间来达到更小的存储空间的目的。因为彩虹表使用的存储空间更小，所以单位空间就可以存储更多的hash。彩虹表已经能够破解8位长度的 任意md5hash 。彩虹表具体的原理可以参考&nbsp;</span></font><b style=\"font-family: \'Comic Sans MS\'; line-height: 36px;\"><font size=\"3\"><a href=\"http://www.project-rainbowcrack.com/\">http://www.project-rainbowcrack.com/</a></font></b></div><div><font size=\"3\"><br></font></div><div><font size=\"3\">下面介绍对hash进行加“盐”(salting)的技术，加盐可以让查表和彩虹表的方式无法破解hash。</font><br></div><div><ul><li><b style=\"font-size: medium; line-height: 1.5;\">何为加盐(Adding Salt)</b><br></li></ul><div style=\"font-size: medium;\">　　查表和彩虹表的方式之所以有效是因为每一个密码的都是通过同样的方式来进行hash的。如果两个用户使用了同样的密码，那么一定他们的密码hash也一定相同。我们可以通过让每一个hash随机化，同一个密码hash两次，得到的不同的hash来避免这种攻击。</div><div style=\"font-size: medium;\">　　具体的操作就是给密码加一个随即的前缀或者后缀，然后再进行hash。这个随即的后缀或者前缀成为“盐”。正如上面给出的例子一样，通过加盐，相同的密码每次hash都是完全不一样的字符串了。检查用户输入的密码是否正确的时候，我们也还需要这个盐，所以盐一般都是跟hash一起保存在数据库里，或者作为hash字符串的一部分。</div><div style=\"font-size: medium;\">　　盐不需要保密，只要<font color=\"#f83a22\">盐是随机</font>的话，查表，彩虹表都会失效。因为攻击者无法事先知道盐是什么，也就没有办法预先计算出查询表和彩虹表。如果每个用户都是使用了不同的盐，那么反向查表攻击也没法成功。</div><div><ul style=\"font-size: medium;\"><li><b>盐的选取</b></li></ul><p style=\"font-size: 16px; margin-bottom: 0.75em; line-height: 28.799999237060547px; color: rgb(51, 51, 51); font-family: \'Helvetica Neue\', Helvetica, Tahoma, Arial, STXihei, \'Microsoft YaHei\', 微软雅黑, sans-serif;\">　　盐要使用密码学上可靠安全的伪随机数生成器(Cryptographically Secure Pseudo-Random Number Generator (CSPRNG))来产生。CSPRNG跟普通的伪随机数生成器比如C语言中的rand(),有很大不同。正如它的名字说明的那样，CSPRNG提供一个高标准的随机数，是完全无法预测的。我们不希望我们的盐能够被预测到，所以一定要使用CSPRNG。下表提供了一些常用语言中的CSPRNG。</p><table style=\"font-size: 16px; background-color: rgb(255, 255, 255); line-height: 28.799999237060547px; color: rgb(51, 51, 51); font-family: \'Helvetica Neue\', Helvetica, Tahoma, Arial, STXihei, \'Microsoft YaHei\', 微软雅黑, sans-serif;\"><tbody><tr style=\"line-height: 1.8;\"><th>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Platform &nbsp;&nbsp;&nbsp;&nbsp;</th><th>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CSPRNG &nbsp;&nbsp;&nbsp;&nbsp;</th></tr><tr style=\"line-height: 1.8;\"><td style=\"line-height: 1.8;\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;PHP &nbsp;&nbsp;&nbsp;&nbsp;</td><td style=\"line-height: 1.8;\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href=\"http://php.net/manual/en/function.mcrypt-create-iv.php\" rel=\"nofollow,noindex\" style=\"color: rgb(148, 148, 148); -webkit-transition: 0.25s; transition: 0.25s; border-bottom-width: 1px; border-bottom-style: dashed; border-bottom-color: rgb(148, 148, 148); font-style: italic; font-weight: bold;\">mcrypt_create_iv</a>&nbsp;,&nbsp;<a href=\"http://php.net/manual/en/function.openssl-random-pseudo-bytes.php\" rel=\"nofollow,noindex\" style=\"color: rgb(148, 148, 148); -webkit-transition: 0.25s; transition: 0.25s; border-bottom-width: 1px; border-bottom-style: dashed; border-bottom-color: rgb(148, 148, 148); font-style: italic; font-weight: bold;\">openssl_random_pseudo_bytes</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td></tr><tr style=\"line-height: 1.8;\"><td style=\"line-height: 1.8;\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Java &nbsp;&nbsp;&nbsp;&nbsp;</td><td style=\"line-height: 1.8;\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href=\"http://docs.oracle.com/javase/6/docs/api/java/security/SecureRandom.html\" rel=\"nofollow,noindex\" style=\"color: rgb(148, 148, 148); -webkit-transition: 0.25s; transition: 0.25s; border-bottom-width: 1px; border-bottom-style: dashed; border-bottom-color: rgb(148, 148, 148); font-style: italic; font-weight: bold;\">java.security.SecureRandom</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td></tr><tr style=\"line-height: 1.8;\"><td style=\"line-height: 1.8;\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Dot NET (C#, VB) &nbsp;&nbsp;&nbsp;&nbsp;</td><td style=\"line-height: 1.8;\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href=\"http://msdn.microsoft.com/en-us/library/system.security.cryptography.rngcryptoserviceprovider.aspx\" rel=\"nofollow,noindex\" style=\"color: rgb(148, 148, 148); -webkit-transition: 0.25s; transition: 0.25s; border-bottom-width: 1px; border-bottom-style: dashed; border-bottom-color: rgb(148, 148, 148); font-style: italic; font-weight: bold;\">System.Security.Cryptography.RNGCryptoServiceProvider</a>&nbsp;&nbsp;&nbsp;&nbsp;</td></tr><tr style=\"line-height: 1.8;\"><td style=\"line-height: 1.8;\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Ruby &nbsp;&nbsp;&nbsp;&nbsp;</td><td style=\"line-height: 1.8;\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href=\"http://rubydoc.info/stdlib/securerandom/1.9.3/SecureRandom\" rel=\"nofollow,noindex\" style=\"color: rgb(148, 148, 148); -webkit-transition: 0.25s; transition: 0.25s; border-bottom-width: 1px; border-bottom-style: dashed; border-bottom-color: rgb(148, 148, 148); font-style: italic; font-weight: bold;\">SecureRandom</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td></tr><tr style=\"line-height: 1.8;\"><td style=\"line-height: 1.8;\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Python &nbsp;&nbsp;&nbsp;&nbsp;</td><td style=\"line-height: 1.8;\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href=\"http://docs.python.org/library/os.html\" rel=\"nofollow,noindex\" style=\"color: rgb(148, 148, 148); -webkit-transition: 0.25s; transition: 0.25s; border-bottom-width: 1px; border-bottom-style: dashed; border-bottom-color: rgb(148, 148, 148); font-style: italic; font-weight: bold;\">os.urandom</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td></tr><tr style=\"line-height: 1.8;\"><td style=\"line-height: 1.8;\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Perl &nbsp;&nbsp;&nbsp;&nbsp;</td><td style=\"line-height: 1.8;\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href=\"http://search.cpan.org/~mkanat/Math-Random-Secure-0.06/lib/Math/Random/Secure.pm\" rel=\"nofollow,noindex\" style=\"color: rgb(148, 148, 148); -webkit-transition: 0.25s; transition: 0.25s; border-bottom-width: 1px; border-bottom-style: dashed; border-bottom-color: rgb(148, 148, 148); font-style: italic; font-weight: bold;\">Math::Random::Secure</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td></tr><tr style=\"line-height: 1.8;\"><td style=\"line-height: 1.8;\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;C/C++ (Windows API) &nbsp;&nbsp;&nbsp;&nbsp;</td><td style=\"line-height: 1.8;\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href=\"http://en.wikipedia.org/wiki/CryptGenRandom\" rel=\"nofollow,noindex\" style=\"color: rgb(148, 148, 148); -webkit-transition: 0.25s; transition: 0.25s; border-bottom-width: 1px; border-bottom-style: dashed; border-bottom-color: rgb(148, 148, 148); font-style: italic; font-weight: bold;\">CryptGenRandom</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td></tr><tr style=\"line-height: 1.8;\"><td style=\"line-height: 1.8;\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Any language on GNU/Linux or Unix &nbsp;&nbsp;&nbsp;&nbsp;</td><td style=\"line-height: 1.8;\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Read from&nbsp;<a href=\"http://en.wikipedia.org/wiki//dev/random\" rel=\"nofollow,noindex\" style=\"color: rgb(148, 148, 148); -webkit-transition: 0.25s; transition: 0.25s; border-bottom-width: 1px; border-bottom-style: dashed; border-bottom-color: rgb(148, 148, 148); font-style: italic; font-weight: bold;\">/dev/random</a>&nbsp;or /dev/urandom &nbsp;&nbsp;&nbsp;&nbsp;</td></tr></tbody></table><p style=\"margin-bottom: 0.75em;\"></p><ul style=\"color: rgb(51, 51, 51); font-family: \'Helvetica Neue\', Helvetica, Tahoma, Arial, STXihei, \'Microsoft YaHei\', 微软雅黑, sans-serif; font-size: 16px; line-height: 28.799999237060547px;\"><li><b>如何加盐</b></li></ul><b style=\"color: rgb(51, 51, 51); font-family: \'Helvetica Neue\', Helvetica, Tahoma, Arial, STXihei, \'Microsoft YaHei\', 微软雅黑, sans-serif; font-size: 16px; line-height: 28.799999237060547px;\"><span style=\"font-weight: normal;\">　　每一个用户，每一个密码都要使用不同的盐。用户每次创建账户或者修改密码都要使用一个新的随机盐。永远不要重复使用盐。盐的长度要足够，一个经验规则就是盐的至少要跟hash函数输出的长度一致。盐应该跟hash一起存储在用户信息表里。</span></b><br><strong style=\"color: rgb(51, 51, 51); font-family: \'Helvetica Neue\', Helvetica, Tahoma, Arial, STXihei, \'Microsoft YaHei\', 微软雅黑, sans-serif; font-size: 16px; line-height: 28.799999237060547px;\">存储一个密码：</strong><br><p></p><pre class=\"prettyprint undefined\" style=\"padding: 0.5em; margin-bottom: 1.5em; font-size: 16px; line-height: 1.5em; background-color: rgb(248, 248, 255); border-color: rgba(0, 0, 0, 0.14902); overflow-y: auto;\"><code style=\"padding: 0.5em; color: rgb(51, 51, 51); border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; background-color: rgb(248, 248, 255); display: block;\">1. 使用CSPRNG生成一个长的随机盐。\r\n2. 将密码和盐拼接在一起，使用标准的加密hash函数比如SHA256进行hash\r\n3. 将盐和hash记录在用户数据库中\r\n</code></pre><p style=\"margin-bottom: 0.75em; font-size: 16px; line-height: 28.799999237060547px; color: rgb(51, 51, 51); font-family: \'Helvetica Neue\', Helvetica, Tahoma, Arial, STXihei, \'Microsoft YaHei\', 微软雅黑, sans-serif;\"><strong>验证一个密码：</strong></p><pre class=\"prettyprint undefined\" style=\"padding: 0.5em; margin-bottom: 1.5em; font-size: 16px; line-height: 1.5em; background-color: rgb(248, 248, 255); border-color: rgba(0, 0, 0, 0.14902); overflow-y: auto;\"><code style=\"padding: 0.5em; color: rgb(51, 51, 51); border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; background-color: rgb(248, 248, 255); display: block;\">1. 从数据库中取出用户的盐和hash\r\n2. 将用户输入的密码和盐按相同方式拼接在一起，使用相同的hash函数进行hash\r\n3. 比较计算出的hash跟存储的hash是否相同。如果相同则密码正确。反之则密码错误。</code></pre></div></div><b style=\"font-family: \'Comic Sans MS\'; font-size: medium; line-height: 1.5;\"><ul><li><b style=\"line-height: 1.5;\">我的处理方式</b><br></li></ul></b><span style=\"font-weight: bold; font-family: \'Comic Sans MS\'; font-size: medium; line-height: 1.5;\">　　通过createHash参生一个hash，验证是使用checkPasswd函数验证。</span><b style=\"font-family: \'Comic Sans MS\'; font-size: medium; line-height: 1.5;\"><br></b><pre class=\"highlight\">    protected function createHash($passwd) {\r\n        $SaltByteSize = 64;\r\n        $salt = mcrypt_create_iv($SaltByteSize, MCRYPT_DEV_URANDOM);\r\n        $passwd = $salt .$passwd .C(\'SALT\');\r\n        $passwd = hash(\'sha256\', $passwd);\r\n        $salt = base64_encode($salt);\r\n        return $passwd .\':\' .$salt;\r\n        \r\n    }\r\n</pre><pre class=\"highlight\">    protected function checkPasswd($passwd, $hash) {\r\n        $params = explode(\":\", $hash);\r\n        if(count($params) &lt; 2)\r\n            return false;\r\n        $salt = $params[1];\r\n        $passwd = base64_decode($salt) .$passwd .C(\'SALT\');\r\n        if(hash(\'sha256\', $passwd) == $params[0])\r\n            return true;\r\n        else\r\n            return false;\r\n    }\r\n</pre><font face=\"Comic Sans MS\" size=\"5\"><span style=\"line-height: 24px;\"><b>总结</b></span></font><div>　　<font size=\"3\"><b>加盐只是防止我们的数据库中的用户信息泄露了，一定程度上保证用户密码的安全，我们还需要关注如何防止用户信息泄露，如何防止sql注入等等。</b></font></div>',1,0,'',3,'',1419941439,1396860647),(56,4,'','大一都干了啥？','大一，我的大一，激情，',14,'<font size=\"5\"><b>前言</b></font><div>　　<font size=\"3\">在夜深人静的时候，想一想自己的大学都干了写啥，把自己脑海中的记忆碎片一点一点地组装起来。现在回想起来，脑海中就是激情、颓废，对社团工作，对人激情，对自己，对学业颓废。</font><br><div><font size=\"5\"><span style=\"line-height: 36px;\"><b>正文</b></span></font></div></div><div><ul><li><b style=\"line-height: 24px; font-size: medium;\">军训</b><br></li></ul><font size=\"3\"><span style=\"line-height: 24px;\"><b>　　</b>军队是男人梦想中的归属，小时候进入军队是第二的理想，第一是成为一个实验室的白发老头，爱因斯坦就是我一直来的偶像，或许有点阿Q精神吧，总认为如果不能像爱因斯坦等改变世界的人就不能算是一个成功的人，如果这样说的话或许自己永远都不能成功．<br>        现在记忆中有一个白白胖胖的教官，我们都说他不是国防生，军人哪能那么白，那么胖的<br></span></font></div>',0,0,'',3,'',1406387029,1396875709),(57,1,'','给你的ubuntu选择合适的源','软件源，Ubuntu',248,'<font face=\"Comic Sans MS\" size=\"5\"><b>前言</b></font><div><span style=\"font-family: \'Comic Sans MS\'; font-size: medium; line-height: 1.5;\">　　linux的一个特色就是软件的安装，基于软件源的形式</span><span style=\"font-family: \'Comic Sans MS\'; font-size: medium; line-height: 1.5;\">（red hat的yum，debain的apt-get)，对于每个发行版本的linux来说，安装完的源都设置是国外的。对于我们使用教育网和电信的就悲剧了，安装完linux首先就是需要把源改成教育网的（或者电信的）。下面是我的ubuntu教育网的源。<font color=\"#f83a22\">(該源是ubuntu12.04，切记不要用错版本)</font></span><div><div><font face=\"Comic Sans MS\"><span style=\"line-height: 24px;\"><b><font size=\"5\">正文</font></b></span></font></div><div><font face=\"Comic Sans MS\"><span style=\"line-height: 24px;\"><font size=\"3\"><b>　</b>vim /etc/apt/sources.list，打开源列表文件，当然先备份一份。</font></span></font></div><div><ul><li><font face=\"Comic Sans MS\" size=\"3\"><b>电子科技大学&nbsp;</b><hr></font></li></ul><pre class=\"highlight\">deb http://ftp.sjtu.edu.cn/ubuntu/ precise main multiverse restricted universe\r\ndeb http://ftp.sjtu.edu.cn/ubuntu/ precise-backports main multiverse restricted universe\r\ndeb http://ftp.sjtu.edu.cn/ubuntu/ precise-proposed main multiverse restricted universe\r\ndeb http://ftp.sjtu.edu.cn/ubuntu/ precise-security main multiverse restricted universe\r\ndeb http://ftp.sjtu.edu.cn/ubuntu/ precise-updates main multiverse restricted universe\r\ndeb http://ftp.sjtu.edu.cn/ubuntu-cn/ precise main multiverse restricted universe\r\ndeb-src http://ftp.sjtu.edu.cn/ubuntu/ precise main multiverse restricted universe\r\ndeb-src http://ftp.sjtu.edu.cn/ubuntu/ precise-backports main multiverse restricted universe\r\ndeb-src http://ftp.sjtu.edu.cn/ubuntu/ precise-proposed main multiverse restricted universe\r\ndeb-src http://ftp.sjtu.edu.cn/ubuntu/ precise-security main multiverse restricted universe\r\ndeb-src http://ftp.sjtu.edu.cn/ubuntu/ precise-updates main multiverse restricted universe\r\ndeb http://ubuntu.uestc.edu.cn/ubuntu/ precise main restricted universe multiverse\r\ndeb-src http://ubuntu.uestc.edu.cn/ubuntu/ precise main restricted universe multiverse\r\ndeb http://download.virtualbox.org/virtualbox/debian saucy contrib\r\ndeb http://download.virtualbox.org/virtualbox/debian raring contrib\r\ndeb http://download.virtualbox.org/virtualbox/debian quantal contrib\r\ndeb http://download.virtualbox.org/virtualbox/debian precise contrib\r\ndeb http://download.virtualbox.org/virtualbox/debian lucid contrib non-free\r\ndeb http://download.virtualbox.org/virtualbox/debian wheezy contrib\r\ndeb http://download.virtualbox.org/virtualbox/debian squeeze contrib non-free\r\n\r\ndeb http://ubuntu.cn99.com/ubuntu/ precise main restricted universe multiverse \r\ndeb http://ubuntu.cn99.com/ubuntu/ precise-updates main restricted universe multiverse \r\ndeb http://ubuntu.cn99.com/ubuntu/ precise-security main restricted universe multiverse \r\ndeb http://ubuntu.cn99.com/ubuntu/ precise-backports main restricted universe multiverse \r\ndeb http://ubuntu.cn99.com/ubuntu-cn/ precise main restricted universe multiverse<font color=\"#393939\" face=\"Comic Sans MS\" size=\"3\"><span style=\"line-height: 24px; white-space: normal;\"></span></font></pre><font face=\"Comic Sans MS\" size=\"3\">　　编辑好后，使用apt-get update　更新源。</font></div></div></div><pre class=\"highlight\"># apt-get update</pre><font face=\"Comic Sans MS\" size=\"3\"><ul><li><b>网易 Ubuntu 源（速度很快）&nbsp;</b></li></ul></font><pre class=\"highlight\">deb http://mirrors.163.com/ubuntu/ precise main universe restricted multiverse \r\ndeb-src http://mirrors.163.com/ubuntu/ precise main universe restricted multiverse \r\ndeb http://mirrors.163.com/ubuntu/ precise-security universe main multiverse restricted \r\ndeb-src http://mirrors.163.com/ubuntu/ precise-security universe main multiverse restricted \r\ndeb http://mirrors.163.com/ubuntu/ precise-updates universe main multiverse restricted \r\ndeb http://mirrors.163.com/ubuntu/ precise-proposed universe main multiverse restricted \r\ndeb-src http://mirrors.163.com/ubuntu/ precise-proposed universe main multiverse restricted \r\ndeb http://mirrors.163.com/ubuntu/ precise-backports universe main multiverse restricted \r\ndeb-src http://mirrors.163.com/ubuntu/ precise-backports universe main multiverse restricted \r\ndeb-src http://mirrors.163.com/ubuntu/ precise-updates universe main multiverse restricted</pre><font face=\"Comic Sans MS\" size=\"3\"><ul><li><b>ubuntu.cn99.com源（电信推荐）</b></li></ul></font><pre class=\"highlight\">deb http://ubuntu.cn99.com/ubuntu/ precise main restricted universe multiverse \r\ndeb http://ubuntu.cn99.com/ubuntu/ precise-updates main restricted universe multiverse \r\ndeb http://ubuntu.cn99.com/ubuntu/ precise-security main restricted universe multiverse \r\ndeb http://ubuntu.cn99.com/ubuntu/ precise-backports main restricted universe multiverse \r\ndeb http://ubuntu.cn99.com/ubuntu-cn/ precise main restricted universe multiverse</pre><font face=\"Comic Sans MS\" size=\"3\"><ul><li><b>上海交通大学&nbsp;</b></li></ul></font><pre class=\"highlight\">deb http://ftp.sjtu.edu.cn/ubuntu/ precise main multiverse restricted universe \r\ndeb http://ftp.sjtu.edu.cn/ubuntu/ precise-backports main multiverse restricted universe \r\ndeb http://ftp.sjtu.edu.cn/ubuntu/ precise-proposed main multiverse restricted universe \r\ndeb http://ftp.sjtu.edu.cn/ubuntu/ precise-security main multiverse restricted universe \r\ndeb http://ftp.sjtu.edu.cn/ubuntu/ precise-updates main multiverse restricted universe \r\ndeb http://ftp.sjtu.edu.cn/ubuntu-cn/ precise main multiverse restricted universe \r\ndeb-src http://ftp.sjtu.edu.cn/ubuntu/ precise main multiverse restricted universe \r\ndeb-src http://ftp.sjtu.edu.cn/ubuntu/ precise-backports main multiverse restricted universe \r\ndeb-src http://ftp.sjtu.edu.cn/ubuntu/ precise-proposed main multiverse restricted universe \r\ndeb-src http://ftp.sjtu.edu.cn/ubuntu/ precise-security main multiverse restricted universe \r\ndeb-src http://ftp.sjtu.edu.cn/ubuntu/ precise-updates main multiverse restricted universe</pre><font face=\"Comic Sans MS\" size=\"3\">　　改完之后，好好享受apt-get带来的快捷吧。</font>',1,0,'',3,'',1419941413,1397066190),(58,5,'','C++的类型萃取技术(Iterator_traits)','iterator_traits，类型萃取，C++',271,'\r\n	\r\n	\r\n	\r\n\r\n\r\n<p style=\"margin-bottom: 0in; line-height: 0.2in;\"><font color=\"#393939\"><font face=\"Open Sans\" size=\"5\"><span lang=\"zh-CN\"><b>前言　　</b></span></font></font></p><p style=\"margin-bottom: 0in;\"><font color=\"#393939\" size=\"3\"><font face=\"WenQuanYi Zen Hei\"><font><span lang=\"zh-CN\"><font face=\"Open Sans\">　　前段时间时间看了一些排序算法，使用</font></span></font></font><font face=\"Open Sans\">C</font><font face=\"WenQuanYi Zen Hei\"><font><span lang=\"zh-CN\"><font face=\"Open Sans\">风格很容易就实现了，想想看能不能写成</font></span></font></font><font face=\"Open Sans\">STL</font><font face=\"WenQuanYi Zen Hei\"><font><span lang=\"zh-CN\"><font face=\"Open Sans\">形式的，在插入排序中需要使用一个中间变量，而模板函数传递过来的是跌代器，如何解决这个问题？想起以前看的侯捷老师的《</font></span></font></font><font face=\"Open Sans\">STL</font><font face=\"WenQuanYi Zen Hei\"><font><span lang=\"zh-CN\"><font face=\"Open Sans\">源码剖析》，</font></span></font></font><font face=\"Open Sans\">STL</font><font face=\"WenQuanYi Zen Hei\"><font><span lang=\"zh-CN\"><font face=\"Open Sans\">设计中有一个</font></span></font></font><font face=\"Open Sans\">Iterator_traits</font><font face=\"WenQuanYi Zen Hei\"><font><span lang=\"zh-CN\"><font face=\"Open Sans\">正是解决这个问题的。</font></span></font></font></font></p><p style=\"margin-bottom: 0in; line-height: 0.25in;\"><font size=\"3\"><br></font></p><p style=\"margin-bottom: 0in; line-height: 0.25in;\"><font color=\"#393939\"><font face=\"Open Sans\" size=\"5\"><span lang=\"zh-CN\"><b>正文</b></span></font></font></p><p style=\"margin-bottom: 0in; line-height: 0.25in;\"><font color=\"#393939\"><font face=\"Open Sans\"><font size=\"3\"><span lang=\"zh-CN\"><b>我碰到的问题</b></span></font></font></font></p><p style=\"margin-bottom: 0.2in; line-height: 0.25in;\"><font color=\"#393939\"><font face=\"WenQuanYi Zen Hei\"><font><span lang=\"zh-CN\"><font face=\"Open Sans\"><font size=\"3\">　　在插入排序（可以参照算法导论）算法中需要一个中间变量去存储每次插入的元素，在我们</font></font></span></font></font><font face=\"Open Sans\"><font size=\"3\">template</font></font><font face=\"WenQuanYi Zen Hei\"><font><span lang=\"zh-CN\"><font face=\"Open Sans\"><font size=\"3\">函数中传递的是</font></font></span></font></font><font face=\"Open Sans\"><font size=\"3\">iterator</font></font><font face=\"WenQuanYi Zen Hei\"><font><span lang=\"zh-CN\"><font face=\"Open Sans\"><font size=\"3\">，如何解决，我们可以使用</font></font></span></font></font><font face=\"Open Sans\"><font size=\"3\">std</font></font><font face=\"WenQuanYi Zen Hei\"><font><span lang=\"zh-CN\"><font face=\"Open Sans\"><font size=\"3\">中的</font></font></span></font></font><font face=\"Open Sans\"><font size=\"3\">iterator_traits</font></font><font face=\"WenQuanYi Zen Hei\"><font><span lang=\"zh-CN\"><font face=\"Open Sans\"><font size=\"3\">，如下：</font></font></span></font></font></font></p><hr><pre class=\"western\" style=\"padding: 0.09in; margin-bottom: 0.1in; line-height: 18.459999084472656px;\"><font color=\"#333333\"><font face=\"Monaco, Menlo, Consolas, Courier New, monospace\"><font size=\"3\">typename std::iterator_traits&lt;Type&gt;::value_type key;</font></font></font></pre><p><font color=\"#393939\"><font face=\"WenQuanYi Zen Hei\"><font size=\"3\"><span lang=\"zh-CN\">　　完整的排序函数如下：</span></font></font></font></p><pre class=\"western\" style=\"padding: 0.09in; margin-bottom: 0.1in; line-height: 18.459999084472656px;\"><font size=\"3\"><font color=\"#333333\"><font face=\"Monaco, Menlo, Consolas, Courier New, monospace\"><font>/* ===========================================================================*/</font></font></font>\r\n<font color=\"#333333\"><font face=\"Monaco, Menlo, Consolas, Courier New, monospace\"><font>/**</font></font></font>\r\n<font color=\"#333333\"> <font face=\"Monaco, Menlo, Consolas, Courier New, monospace\"><font>* @brief insertSort </font></font><font face=\"WenQuanYi Zen Hei Mono, monospace\"><span lang=\"zh-CN\"><font face=\"Monaco, Menlo, Consolas, Courier New, monospace\"><font>插入排序，对</font></font></span></font><font face=\"Monaco, Menlo, Consolas, Courier New, monospace\"><font>[begin, end)</font></font><font face=\"WenQuanYi Zen Hei Mono, monospace\"><span lang=\"zh-CN\"><font face=\"Monaco, Menlo, Consolas, Courier New, monospace\"><font>的元素进行排序</font></font></span></font></font>\r\n<font color=\"#333333\"> <font face=\"Monaco, Menlo, Consolas, Courier New, monospace\"><font>*</font></font></font>\r\n<font color=\"#333333\"> <font face=\"Monaco, Menlo, Consolas, Courier New, monospace\"><font>* @tparam RandomAccessIterator</font></font></font>\r\n<font color=\"#333333\"> <font face=\"Monaco, Menlo, Consolas, Courier New, monospace\"><font>* @param   begin</font></font></font>\r\n<font color=\"#333333\"> <font face=\"Monaco, Menlo, Consolas, Courier New, monospace\"><font>* @param   end</font></font></font>\r\n<font color=\"#333333\"> <font face=\"Monaco, Menlo, Consolas, Courier New, monospace\"><font>*/</font></font></font>\r\n<font color=\"#333333\"><font face=\"Monaco, Menlo, Consolas, Courier New, monospace\"><font>/* ===========================================================================*/</font></font></font>\r\n<font color=\"#333333\"><font face=\"Monaco, Menlo, Consolas, Courier New, monospace\"><font>#include &lt;iterator&gt;</font></font></font>\r\n<font color=\"#333333\"><font face=\"Monaco, Menlo, Consolas, Courier New, monospace\"><font>template&lt;class RandomAccessIterator&gt;</font></font></font>\r\n<font color=\"#333333\"><font face=\"Monaco, Menlo, Consolas, Courier New, monospace\"><font>void insertSort(RandomAccessIterator begin, RandomAccessIterator end) {</font></font></font>\r\n<font color=\"#333333\">    <font face=\"Monaco, Menlo, Consolas, Courier New, monospace\"><font>RandomAccessIterator ite1, ite2;</font></font></font>\r\n<font color=\"#333333\">    <font face=\"Monaco, Menlo, Consolas, Courier New, monospace\"><font>for (ite1 = begin + 1; ite1 != end; ++ite1) {</font></font></font>\r\n<font color=\"#333333\">      <font face=\"Monaco, Menlo, Consolas, Courier New, monospace\"><font>//  typename RandomAccessIterator::value_type key;</font></font></font>\r\n<font color=\"#333333\">        <font face=\"Monaco, Menlo, Consolas, Courier New, monospace\"><font>//  </font></font><font face=\"WenQuanYi Zen Hei Mono, monospace\"><span lang=\"zh-CN\"><font face=\"Monaco, Menlo, Consolas, Courier New, monospace\"><font>萃取出跌代器的型别</font></font></span></font></font>\r\n<font color=\"#333333\">        <font face=\"Monaco, Menlo, Consolas, Courier New, monospace\"><font>typename std::iterator_traits&lt;RandomAccessIterator&gt;::value_type key;</font></font></font>\r\n<font color=\"#333333\">        <font face=\"Monaco, Menlo, Consolas, Courier New, monospace\"><font>ite2 = ite1 - 1, key = *ite1;</font></font></font>\r\n<font color=\"#333333\">        <font face=\"Monaco, Menlo, Consolas, Courier New, monospace\"><font>while (ite2 != begin - 1 &amp;&amp; key &lt; *ite2) {</font></font></font>\r\n<font color=\"#333333\">            <font face=\"Monaco, Menlo, Consolas, Courier New, monospace\"><font>*(ite2 + 1) = *ite2--;</font></font></font>\r\n<font color=\"#333333\">        <font face=\"Monaco, Menlo, Consolas, Courier New, monospace\"><font>}</font></font></font>\r\n<font color=\"#333333\">        <font face=\"Monaco, Menlo, Consolas, Courier New, monospace\"><font>*(++ite2) = key;</font></font></font>\r\n<font color=\"#333333\">    <font face=\"Monaco, Menlo, Consolas, Courier New, monospace\"><font>}</font></font></font>\r\n<font color=\"#333333\"><font face=\"Monaco, Menlo, Consolas, Courier New, monospace\"><font>}</font></font></font></font></pre><p style=\"margin-bottom: 0in;\"><font size=\"3\"><font face=\"WenQuanYi Zen Hei\"><font><span lang=\"zh-CN\"><font color=\"#393939\"><font face=\"Comic Sans MS\">　　下面细细说一下这种技术的来源。</font></font></span></font></font><font color=\"#393939\"><font face=\"Comic Sans MS\"><br></font></font><font face=\"WenQuanYi Zen Hei\"><font><span lang=\"zh-CN\"><font color=\"#393939\"><font face=\"Open Sans\"><b>基础知识</b></font></font></span></font></font><font color=\"#393939\"><font face=\"Open Sans\"><br></font></font><font face=\"WenQuanYi Zen Hei\"><font><span lang=\"zh-CN\"><font color=\"#393939\"><font face=\"Open Sans\">　　</font></font></span></font></font><font color=\"#393939\">C++</font><font face=\"WenQuanYi Zen Hei\"><font><span lang=\"zh-CN\"><font color=\"#393939\"><font face=\"Open Sans\">有四种模式（相当于四中语言）</font></font></span></font></font><font color=\"#393939\">C</font><font face=\"WenQuanYi Zen Hei\"><font><span lang=\"zh-CN\"><font color=\"#393939\"><font face=\"Open Sans\">，面向对象，</font></font></span></font></font><font color=\"#393939\">template</font><font face=\"WenQuanYi Zen Hei\"><font><span lang=\"zh-CN\"><font color=\"#393939\"><font face=\"Open Sans\">，</font></font></span></font></font><font color=\"#393939\">STL</font><font face=\"WenQuanYi Zen Hei\"><font><span lang=\"zh-CN\"><font color=\"#393939\"><font face=\"Open Sans\">。</font></font></span></font></font><font color=\"#393939\"><font face=\"Open Sans\">STL</font></font><font face=\"WenQuanYi Zen Hei\"><font><span lang=\"zh-CN\"><font color=\"#393939\"><font face=\"Open Sans\">的目标就是要把数据和算法分开，分别对其进行设计，之后通过一种名为</font></font></span></font></font><font color=\"#393939\"><font face=\"Open Sans\">iterator</font></font><font face=\"WenQuanYi Zen Hei\"><font><span lang=\"zh-CN\"><font color=\"#393939\"><font face=\"Open Sans\">的东西，把这二者再粘接到一起。设计模式中，关于</font></font></span></font></font><font color=\"#393939\"><font face=\"Open Sans\">iterator</font></font><font face=\"WenQuanYi Zen Hei\"><font><span lang=\"zh-CN\"><font color=\"#393939\"><font face=\"Open Sans\">的描述为：一种能够顺序访问容器中每个元素的方法，使用该方法不能暴露容器内部的表达方式。可以说，类型萃取技术就是为了要解决和</font></font></span></font></font><font color=\"#393939\"><font face=\"Open Sans\">iterator</font></font><font face=\"WenQuanYi Zen Hei\"><font><span lang=\"zh-CN\"><font color=\"#393939\"><font face=\"Open Sans\">有关的问题的。（比如说：</font></font><font color=\"#393939\"><font face=\"Open Sans\">如果算法中我们需要使用</font></font></span></font></font><font color=\"#393939\">iterator</font><font face=\"WenQuanYi Zen Hei\"><font><span lang=\"zh-CN\"><font color=\"#393939\"><font face=\"Open Sans\">指向的类型的变量，如何解决呢？）</font></font></span></font></font></font></p><p style=\"margin-bottom: 0in; line-height: 0.25in;\"><font color=\"#393939\"><font face=\"Open Sans\" size=\"3\"><span lang=\"zh-CN\"><b>第一部分 为什么要有萃取技术　</b></span></font></font></p><p style=\"line-height: 0.25in;\"><font color=\"#393939\" size=\"3\"><font face=\"WenQuanYi Zen Hei\"><font><span lang=\"zh-CN\"><font face=\"Open Sans\"><b>　　</b></font></span></font></font><font face=\"Open Sans\">iterator</font><font face=\"WenQuanYi Zen Hei\"><font><span lang=\"zh-CN\"><font face=\"Open Sans\">既然是一种智能指针，也要对一个原生指针进行封装，而问题就源于此，当我们需要这个原生指针所指对象的类型的时候（例如声明变量），怎么办呢？</font></span></font></font></font></p><ul><li><p style=\"margin-bottom: 0.1in; border: none; padding: 0in;\"><font color=\"#393939\" size=\"3\"><font face=\"Open Sans\"><b>Case1&nbsp;</b></font><font face=\"WenQuanYi Zen Hei\"><font><span lang=\"zh-CN\"><font face=\"Open Sans\"><b>对于函数的局部变量</b></font></span></font></font></font></p></li></ul><p style=\"line-height: 0.2in;\"><font color=\"#393939\"><font face=\"Open Sans\"><font size=\"3\"><span lang=\"zh-CN\">　　这种情况我们可以采用模版的参数推导，例如：</span></font></font></font></p><pre class=\"western\" style=\"padding: 0.09in; margin-bottom: 0.1in; line-height: 18.459999084472656px;\"><font color=\"#333333\"><font face=\"Monaco, Menlo, Consolas, Courier New, monospace\"><font size=\"3\">template&lt;class Iterator&gt; void func(Iterator ite) </font></font></font></pre><p><font color=\"#393939\"><font face=\"WenQuanYi Zen Hei\"><font><span lang=\"zh-CN\"><font face=\"Comic Sans MS\"><font size=\"3\">　　如果</font></font></span></font></font><font color=\"#f83a22\"><font face=\"Comic Sans MS\"><font size=\"3\">iterator</font></font></font><font face=\"WenQuanYi Zen Hei\"><font><span lang=\"zh-CN\"><font color=\"#f83a22\"><font face=\"Comic Sans MS\"><font size=\"3\">是某个指向特定对象的指针</font></font></font></span></font></font><font color=\"#f83a22\"><font face=\"Comic Sans MS\"><font size=\"3\">(iterator</font></font></font><font face=\"WenQuanYi Zen Hei\"><font><span lang=\"zh-CN\"><font color=\"#f83a22\"><font face=\"Comic Sans MS\"><font size=\"3\">类似指针，</font></font></font></span></font></font><font color=\"#f83a22\"><font face=\"Comic Sans MS\"><font size=\"3\">Iterator</font></font></font><font face=\"WenQuanYi Zen Hei\"><font><span lang=\"zh-CN\"><font color=\"#f83a22\"><font face=\"Comic Sans MS\"><font size=\"3\">主要重载了解引用</font></font></font></span></font></font><font color=\"#f83a22\"><font face=\"Comic Sans MS\"><font size=\"3\">dereference</font></font></font><font face=\"WenQuanYi Zen Hei\"><font><span lang=\"zh-CN\"><font color=\"#f83a22\"><font face=\"Comic Sans MS\"><font size=\"3\">等</font></font></font></span></font></font><font color=\"#f83a22\"><font face=\"Comic Sans MS\"><font size=\"3\">)</font></font></font><font face=\"WenQuanYi Zen Hei\"><font><span lang=\"zh-CN\"><font face=\"Comic Sans MS\"><font size=\"3\">，那么在</font></font></span></font></font><font face=\"Comic Sans MS\"><font size=\"3\">func</font></font><font face=\"WenQuanYi Zen Hei\"><font><span lang=\"zh-CN\"><font face=\"Comic Sans MS\"><font size=\"3\">中需要指针所指向对象类型的变量的时候，怎么办呢？这个还比较容易，模板的参数推导机制可以完成任务，（</font></font></span></font></font><font face=\"Comic Sans MS\"><font size=\"3\">funcImpl</font></font><font face=\"WenQuanYi Zen Hei\"><font><span lang=\"zh-CN\"><font face=\"Comic Sans MS\"><font size=\"3\">中的</font></font></span></font></font><font face=\"Comic Sans MS\"><font size=\"3\">Type</font></font><font face=\"WenQuanYi Zen Hei\"><font><span lang=\"zh-CN\"><font face=\"Comic Sans MS\"><font size=\"3\">只是告诉编译器，这里是一个类型，可以不需要行参，类似前缀操作符中的</font></font></span></font></font><font face=\"Comic Sans MS\"><font size=\"3\">int</font></font><font face=\"WenQuanYi Zen Hei\"><font><span lang=\"zh-CN\"><font face=\"Comic Sans MS\"><font size=\"3\">）如下：</font></font></span></font></font></font></p><pre class=\"western\" style=\"padding: 0.09in; margin-bottom: 0.1in; line-height: 18.459999084472656px;\"><font size=\"3\"><font color=\"#333333\"><font face=\"Monaco, Menlo, Consolas, Courier New, monospace\"><font>template&lt;class Iterator, class Type&gt;</font></font></font>\r\n<font color=\"#333333\"><font face=\"Monaco, Menlo, Consolas, Courier New, monospace\"><font>void funcImpl(Iterator ite, Type) {</font></font></font>\r\n<font color=\"#333333\">    <font face=\"Monaco, Menlo, Consolas, Courier New, monospace\"><font>Type key = *ite;</font></font></font>\r\n<font color=\"#333333\">    <font face=\"Monaco, Menlo, Consolas, Courier New, monospace\"><font>//std::cout &lt;&lt; key &lt;&lt; \'\\t\' &lt;&lt; *ite;</font></font></font>\r\n<font color=\"#333333\"><font face=\"Monaco, Menlo, Consolas, Courier New, monospace\"><font>}</font></font></font>\r\n\r\n<font color=\"#333333\"><font face=\"Monaco, Menlo, Consolas, Courier New, monospace\"><font>template&lt;class Iterator&gt; </font></font></font>\r\n<font color=\"#333333\"><font face=\"Monaco, Menlo, Consolas, Courier New, monospace\"><font>void func(Iterator ite) {</font></font></font>\r\n<font color=\"#333333\">    <font face=\"Monaco, Menlo, Consolas, Courier New, monospace\"><font>funcImpl(ite, *ite);</font></font></font>\r\n<font color=\"#333333\"><font face=\"Monaco, Menlo, Consolas, Courier New, monospace\"><font>}</font></font></font></font></pre><p><font color=\"#393939\"><font face=\"WenQuanYi Zen Hei\"><font><span lang=\"zh-CN\"><font face=\"Comic Sans MS\"><font size=\"3\">　　通过模板的推导机制，我们轻而易举的或得了指针所指向的对象的类型，但是事情往往不那么简单。例如，如果我想把传递给</font></font></span></font></font><font face=\"Comic Sans MS\"><font size=\"3\">func</font></font><font face=\"WenQuanYi Zen Hei\"><font><span lang=\"zh-CN\"><font face=\"Comic Sans MS\"><font size=\"3\">的这个指针参数所指的类型作为返回值，显然这个方法不能凑效了，这就是我们的</font></font></span></font></font><font face=\"Comic Sans MS\"><font size=\"3\">case 2</font></font><font face=\"WenQuanYi Zen Hei\"><font><span lang=\"zh-CN\"><font face=\"Comic Sans MS\"><font size=\"3\">。</font></font></span></font></font></font></p><ul><li><p style=\"margin-bottom: 0.1in; border: none; padding: 0in;\"><font color=\"#393939\" size=\"3\"><font face=\"Comic Sans MS\"><b>Case2&nbsp;</b></font><font face=\"WenQuanYi Zen Hei\"><font><span lang=\"zh-CN\"><font face=\"Comic Sans MS\"><b>对于函数的返回值</b></font></span></font></font></font></p></li></ul><p style=\"line-height: 0.25in;\"><font color=\"#393939\" size=\"3\"><font face=\"WenQuanYi Zen Hei\"><font><span lang=\"zh-CN\"><font face=\"Comic Sans MS\">　　尽管在</font></span></font></font><font face=\"Comic Sans MS\">funcImpl</font><font face=\"WenQuanYi Zen Hei\"><font><span lang=\"zh-CN\"><font face=\"Comic Sans MS\">中我们可以把</font></span></font></font><font face=\"Comic Sans MS\">Type</font><font face=\"WenQuanYi Zen Hei\"><font><span lang=\"zh-CN\"><font face=\"Comic Sans MS\">作为函数的返回类型，但是问题是用户需要调用的是</font></span></font></font><font face=\"Comic Sans MS\">func</font><font face=\"WenQuanYi Zen Hei\"><font><span lang=\"zh-CN\"><font face=\"Comic Sans MS\">，于是，你不可能写出下面的代码：</font></span></font></font></font></p><pre class=\"western\" style=\"padding: 0.09in; margin-bottom: 0.1in; line-height: 18.459999084472656px;\"><font size=\"3\"><font color=\"#333333\"><font face=\"Monaco, Menlo, Consolas, Courier New, monospace\"><font>template&lt;class Iterator, class Type&gt;</font></font></font>\r\n<font color=\"#333333\"><font face=\"Monaco, Menlo, Consolas, Courier New, monospace\"><font>Type funcImpl(Iterator ite, Type) {</font></font></font>\r\n<font color=\"#333333\">    <font face=\"Monaco, Menlo, Consolas, Courier New, monospace\"><font>Type key = *ite;</font></font></font>\r\n<font color=\"#333333\">    <font face=\"Monaco, Menlo, Consolas, Courier New, monospace\"><font>return key;</font></font></font>\r\n<font color=\"#333333\"><font face=\"Monaco, Menlo, Consolas, Courier New, monospace\"><font>}</font></font></font>\r\n\r\n<font color=\"#333333\"><font face=\"Monaco, Menlo, Consolas, Courier New, monospace\"><font>template&lt;class Iterator&gt; </font></font></font>\r\n<font color=\"#333333\"><font face=\"Monaco, Menlo, Consolas, Courier New, monospace\"><font>(*Iterator) func(Iterator ite) {</font></font><font face=\"WenQuanYi Zen Hei Mono, monospace\"><span lang=\"zh-CN\"><font face=\"Monaco, Menlo, Consolas, Courier New, monospace\"><font>　　</font></font></span></font><font face=\"Monaco, Menlo, Consolas, Courier New, monospace\"><font>////error code</font></font></font>\r\n<font color=\"#333333\">    <font face=\"Monaco, Menlo, Consolas, Courier New, monospace\"><font>return funcImpl(ite, *ite);</font></font></font>\r\n<font color=\"#333333\"><font face=\"Monaco, Menlo, Consolas, Courier New, monospace\"><font>}</font></font></font></font></pre><p><font color=\"#393939\"><font face=\"WenQuanYi Zen Hei\"><font><span lang=\"zh-CN\"><font face=\"Comic Sans MS\"><font size=\"3\">　　有注释的部分概念上如此正确，不过所有的编译器都会让你失望。这个问题解决起来也不难，只要做一个</font></font></span></font></font><font face=\"Comic Sans MS\"><font size=\"3\">iterator</font></font><font face=\"WenQuanYi Zen Hei\"><font><span lang=\"zh-CN\"><font face=\"Comic Sans MS\"><font size=\"3\">，然后在定义的时候为其指向的对象类型制定一个别名，就好了，像下面这样：</font></font></span></font></font></font></p><pre class=\"western\" style=\"padding: 0.09in; margin-bottom: 0.1in; line-height: 18.459999084472656px;\"><font size=\"3\"><font color=\"#333333\"><font face=\"Monaco, Menlo, Consolas, Courier New, monospace\"><font>template &lt;class Type&gt;</font></font></font>\r\n<font color=\"#333333\"><font face=\"Monaco, Menlo, Consolas, Courier New, monospace\"><font>struct MyIterator {</font></font></font>\r\n<font color=\"#333333\">    <font face=\"Monaco, Menlo, Consolas, Courier New, monospace\"><font>typedef Type value_type; // A nested type declaration, important!!!</font></font></font>\r\n<font color=\"#333333\">    <font face=\"Monaco, Menlo, Consolas, Courier New, monospace\"><font>Type* ptr;</font></font></font>\r\n<font color=\"#333333\">    <font face=\"Monaco, Menlo, Consolas, Courier New, monospace\"><font>MyIterator(Type *p = 0) : ptr(p) {}</font></font></font>\r\n<font color=\"#333333\">    <font face=\"Monaco, Menlo, Consolas, Courier New, monospace\"><font>Type&amp; operator*() const { return *ptr; }</font></font></font>\r\n<font color=\"#333333\"><font face=\"Monaco, Menlo, Consolas, Courier New, monospace\"><font>};</font></font></font>\r\n\r\n\r\n<font color=\"#333333\"><font face=\"Monaco, Menlo, Consolas, Courier New, monospace\"><font>template &lt;class Iterator&gt;</font></font></font>\r\n<font color=\"#333333\"><font face=\"Monaco, Menlo, Consolas, Courier New, monospace\"><font>typename Iterator::value_type func(Iterator ite) { return *ite; }</font></font></font>\r\n\r\n\r\n<font color=\"#333333\"><font face=\"Monaco, Menlo, Consolas, Courier New, monospace\"><font>int main(){</font></font></font>\r\n<font color=\"#333333\">    <font face=\"Monaco, Menlo, Consolas, Courier New, monospace\"><font>MyIterator&lt;int&gt; ite = new int(100);</font></font></font>\r\n<font color=\"#333333\">    <font face=\"Monaco, Menlo, Consolas, Courier New, monospace\"><font>std::cout &lt;&lt; func(ite);</font></font></font>\r\n<font color=\"#333333\">    <font face=\"Monaco, Menlo, Consolas, Courier New, monospace\"><font>return 0;</font></font></font>\r\n<font color=\"#333333\"><font face=\"Monaco, Menlo, Consolas, Courier New, monospace\"><font>}</font></font></font></font></pre><p><font color=\"#393939\"><font face=\"WenQuanYi Zen Hei\"><font><span lang=\"zh-CN\"><font face=\"Comic Sans MS\"><font size=\"3\">　　看上去不错，可是我要是传入一个原生指针作为跌代器呢？因为</font></font></span></font></font><font face=\"Comic Sans MS\"><font size=\"3\">func</font></font><font face=\"WenQuanYi Zen Hei\"><font><span lang=\"zh-CN\"><font face=\"Comic Sans MS\"><font size=\"3\">如果是一个泛型算法，那么它也绝对要接受一个原生指针作为迭代器，但是显然，你无法让下面的代码编译通过：</font></font></span></font></font></font></p><pre class=\"western\" style=\"padding: 0.09in; margin-bottom: 0.1in; line-height: 18.459999084472656px;\"><font size=\"3\"><font color=\"#333333\">    <font face=\"Monaco, Menlo, Consolas, Courier New, monospace\"><font>int *p = new int(55);</font></font></font>\r\n<font color=\"#333333\">    <font face=\"Monaco, Menlo, Consolas, Courier New, monospace\"><font>std::cout &lt;&lt; func(p);</font></font></font></font></pre><p><font color=\"#393939\"><font face=\"WenQuanYi Zen Hei\"><font><span lang=\"zh-CN\"><font face=\"Comic Sans MS\"><font size=\"3\">　　我们的</font></font></span></font></font><font face=\"Comic Sans MS\"><font size=\"3\">func</font></font><font face=\"WenQuanYi Zen Hei\"><font><span lang=\"zh-CN\"><font face=\"Comic Sans MS\"><font size=\"3\">无法支持原生指针，这显然是不能接受的。此时，</font></font></span></font></font><font face=\"Comic Sans MS\"><font size=\"3\">template partial specialization</font></font><font face=\"WenQuanYi Zen Hei\"><font><span lang=\"zh-CN\"><font face=\"Comic Sans MS\"><font size=\"3\">就派上了用场。</font></font></span></font></font></font></p><ul><li><p style=\"margin-bottom: 0.1in; border: none; padding: 0in; line-height: 0.2in;\"><font color=\"#393939\"><font face=\"WenQuanYi Zen Hei\"><font><span lang=\"zh-CN\"><font face=\"Comic Sans MS\"><font size=\"3\"><b>解决方案：</b></font></font></span></font></font><font face=\"Comic Sans MS\"><font size=\"3\"><b>template partial specialization</b></font></font><font face=\"WenQuanYi Zen Hei\"><font><span lang=\"zh-CN\"><font face=\"Comic Sans MS\"><font size=\"3\"><b>是救世主</b></font></font></span></font></font></font></p></li></ul><p style=\"margin-bottom: 0in; line-height: 0.2in;\"><font color=\"#393939\"><font face=\"WenQuanYi Zen Hei\"><font><span lang=\"zh-CN\"><font face=\"Comic Sans MS\"><font size=\"3\">　　既然刚才的设计方案仍不完美，那我们就再加一个间接层，把智能指针和原生指针统统的封装起来。在讨论之前，先要澄清一下</font></font></span></font></font><font face=\"Comic Sans MS\"><font size=\"3\">template partial specialization</font></font><font face=\"WenQuanYi Zen Hei\"><font><span lang=\"zh-CN\"><font face=\"Comic Sans MS\"><font size=\"3\">的含义。所谓的</font></font></span></font></font><font face=\"Comic Sans MS\"><font size=\"3\">partial specialization</font></font><font face=\"WenQuanYi Zen Hei\"><font><span lang=\"zh-CN\"><font face=\"Comic Sans MS\"><font size=\"3\">和模板的默认参数是完全不同的两件事情，前者指的是当参数为某一类特定类型的时候，采用特殊的设计，也就是说是“针对</font></font></span></font></font><font face=\"Comic Sans MS\"><font size=\"3\">template</font></font><font face=\"WenQuanYi Zen Hei\"><font><span lang=\"zh-CN\"><font face=\"Comic Sans MS\"><font size=\"3\">参数更进一步的条件限制所设计出来的一个特化版本”；而默认参数则是当不提供某些参数的时候，使用的一个缺省。</font></font></span></font></font><font face=\"Comic Sans MS\"><font size=\"3\">(</font></font><font face=\"WenQuanYi Zen Hei\"><font><span lang=\"zh-CN\"><font face=\"Comic Sans MS\"><font size=\"3\">详情请看</font></font></span></font></font><font face=\"Comic Sans MS\"><font size=\"3\">C++</font></font><font face=\"WenQuanYi Zen Hei\"><font><span lang=\"zh-CN\"><font face=\"Comic Sans MS\"><font size=\"3\">语法书，作为一本</font></font></span></font></font><font face=\"Comic Sans MS\"><font size=\"3\">C++</font></font><font face=\"WenQuanYi Zen Hei\"><font><span lang=\"zh-CN\"><font face=\"Comic Sans MS\"><font size=\"3\">语法书，一定会有</font></font></span></font></font><font face=\"Comic Sans MS\"><font size=\"3\">template partial specialization</font></font><font face=\"WenQuanYi Zen Hei\"><font><span lang=\"zh-CN\"><font face=\"Comic Sans MS\"><font size=\"3\">，没有那就扔掉吧）</font></font></span></font></font></font></p><p style=\"line-height: 0.2in;\"><font color=\"#393939\"><font face=\"WenQuanYi Zen Hei\"><font><span lang=\"zh-CN\"><font face=\"Comic Sans MS\"><font size=\"3\"><i>　　参考：</i></font></font></span></font></font><font face=\"Comic Sans MS\"><font size=\"3\"><i>partial specialization</i></font></font><font face=\"WenQuanYi Zen Hei\"><font><span lang=\"zh-CN\"><font face=\"Comic Sans MS\"><font size=\"3\"><i>的语法</i></font></font></span></font></font></font></p><pre class=\"western\" style=\"padding: 0.09in; margin-bottom: 0.1in; line-height: 18.459999084472656px;\"><font color=\"#333333\" size=\"3\"><font face=\"Monaco, Menlo, Consolas, Courier New, monospace\"><font>template &lt;typename T&gt; class C&lt;T*&gt; {}; // </font></font><font face=\"WenQuanYi Zen Hei Mono, monospace\"><span lang=\"zh-CN\"><font face=\"Monaco, Menlo, Consolas, Courier New, monospace\"><font>为所有类型为</font></font></span></font><font face=\"Monaco, Menlo, Consolas, Courier New, monospace\"><font>T*</font></font><font face=\"WenQuanYi Zen Hei Mono, monospace\"><span lang=\"zh-CN\"><font face=\"Monaco, Menlo, Consolas, Courier New, monospace\"><font>的参数而准备的特殊版本</font></font></span></font></font></pre><p><font face=\"WenQuanYi Zen Hei\"><font><span lang=\"zh-CN\"><font color=\"#393939\"><font face=\"Comic Sans MS\"><font size=\"3\">　　好了，我们有一个专职的负责人</font></font></font></span></font></font><font color=\"#393939\"><font face=\"Comic Sans MS\"><font size=\"3\">(iterator_traits)</font></font></font><font face=\"WenQuanYi Zen Hei\"><font><span lang=\"zh-CN\"><font color=\"#393939\"><font face=\"Comic Sans MS\"><font size=\"3\">，用来封装迭代器封装的对象类型。再写一个对原生指针的特例化：</font></font></font></span></font></font></p><pre class=\"western\" style=\"padding: 0.09in; margin-bottom: 0.1in; line-height: 18.459999084472656px;\"><font size=\"3\"><font color=\"#333333\"><font face=\"Monaco, Menlo, Consolas, Courier New, monospace\"><font>template &lt;class Iterator&gt;</font></font></font>\r\n<font color=\"#333333\"><font face=\"Monaco, Menlo, Consolas, Courier New, monospace\"><font>struct iterator_traits {</font></font></font>\r\n<font color=\"#333333\">    <font face=\"Monaco, Menlo, Consolas, Courier New, monospace\"><font>typedef typename Iterator::value_type value_type;</font></font></font>\r\n<font color=\"#333333\"><font face=\"Monaco, Menlo, Consolas, Courier New, monospace\"><font>};</font></font></font></font></pre><p><font color=\"#393939\"><font face=\"WenQuanYi Zen Hei\"><font size=\"3\"><span lang=\"zh-CN\">　　再写一个对原生指针的特例化：</span></font></font></font></p><pre class=\"western\" style=\"padding: 0.09in; margin-bottom: 0.1in; line-height: 18.459999084472656px;\"><font size=\"3\"><font color=\"#333333\"><font face=\"Monaco, Menlo, Consolas, Courier New, monospace\"><font>//</font></font><font face=\"WenQuanYi Zen Hei Mono, monospace\"><span lang=\"zh-CN\"><font face=\"Monaco, Menlo, Consolas, Courier New, monospace\"><font>原生指针的特例化</font></font></span></font></font>\r\n<font color=\"#333333\"><font face=\"Monaco, Menlo, Consolas, Courier New, monospace\"><font>template &lt;class Iterator&gt;</font></font></font>\r\n<font color=\"#333333\"><font face=\"Monaco, Menlo, Consolas, Courier New, monospace\"><font>struct iterator_traits&lt;Iterator *&gt; {</font></font></font>\r\n<font color=\"#333333\">    <font face=\"Monaco, Menlo, Consolas, Courier New, monospace\"><font>typedef Iterator value_type;</font></font></font>\r\n<font color=\"#333333\"><font face=\"Monaco, Menlo, Consolas, Courier New, monospace\"><font>};</font></font></font></font></pre><p><font size=\"3\"><font face=\"WenQuanYi Zen Hei\"><font><span lang=\"zh-CN\"><font color=\"#393939\"><font face=\"Comic Sans MS\">　　现在，我们的</font></font></span></font></font><font color=\"#393939\"><font face=\"Comic Sans MS\">func</font></font><font face=\"WenQuanYi Zen Hei\"><font><span lang=\"zh-CN\"><font color=\"#393939\"><font face=\"Comic Sans MS\">又有了新的面貌，</font></font><font color=\"#393939\">尽管这次我们的函数返回值的长度有些吓人，但是，我们的确为原生指针找到了好的解决方案。</font></span></font></font></font></p><pre class=\"western\" style=\"padding: 0.09in; margin-bottom: 0.1in; line-height: 18.459999084472656px;\"><font size=\"3\"><font color=\"#333333\"><font face=\"Monaco, Menlo, Consolas, Courier New, monospace\"><font>template &lt;class Iterator&gt;</font></font></font>\r\n<font color=\"#333333\"><font face=\"Monaco, Menlo, Consolas, Courier New, monospace\"><font>typename iterator_traits&lt;Iterator&gt;::value_type func(Iterator ite) {</font></font></font>\r\n<font color=\"#333333\">    <font face=\"Monaco, Menlo, Consolas, Courier New, monospace\"><font>return *ite;</font></font></font>\r\n<font color=\"#333333\"><font face=\"Monaco, Menlo, Consolas, Courier New, monospace\"><font>}</font></font></font></font></pre><p style=\"margin-bottom: 0in;\"><font color=\"#393939\"><font face=\"WenQuanYi Zen Hei\"><font><span lang=\"zh-CN\"><font face=\"Comic Sans MS\"><font size=\"3\">　　下面，我们终于可以让</font></font></span></font></font><font face=\"Comic Sans MS\"><font size=\"3\">func</font></font><font face=\"WenQuanYi Zen Hei\"><font><span lang=\"zh-CN\"><font face=\"Comic Sans MS\"><font size=\"3\">同时支持</font></font></span></font></font><font face=\"Comic Sans MS\"><font size=\"3\">Iterator</font></font><font face=\"WenQuanYi Zen Hei\"><font><span lang=\"zh-CN\"><font face=\"Comic Sans MS\"><font size=\"3\">和原生指针了：</font></font></span></font></font></font></p><pre class=\"western\" style=\"padding: 0.09in; margin-bottom: 0.1in; line-height: 18.459999084472656px;\"><font size=\"3\"><font color=\"#333333\"><font face=\"Monaco, Menlo, Consolas, Courier New, monospace\"><font>template &lt;class Type&gt;</font></font></font>\r\n<font color=\"#333333\"><font face=\"Monaco, Menlo, Consolas, Courier New, monospace\"><font>struct MyIterator {</font></font></font>\r\n<font color=\"#333333\">    <font face=\"Monaco, Menlo, Consolas, Courier New, monospace\"><font>typedef Type value_type; // A nested type declaration, important!!!</font></font></font>\r\n<font color=\"#333333\">    <font face=\"Monaco, Menlo, Consolas, Courier New, monospace\"><font>Type* ptr;</font></font></font>\r\n<font color=\"#333333\">    <font face=\"Monaco, Menlo, Consolas, Courier New, monospace\"><font>MyIterator(Type *p = 0) : ptr(p) {}</font></font></font>\r\n<font color=\"#333333\">    <font face=\"Monaco, Menlo, Consolas, Courier New, monospace\"><font>Type&amp; operator*() const { return *ptr; }</font></font></font>\r\n<font color=\"#333333\"><font face=\"Monaco, Menlo, Consolas, Courier New, monospace\"><font>};</font></font></font>\r\n\r\n<font color=\"#333333\"><font face=\"Monaco, Menlo, Consolas, Courier New, monospace\"><font>template &lt;class Iterator&gt;</font></font></font>\r\n<font color=\"#333333\"><font face=\"Monaco, Menlo, Consolas, Courier New, monospace\"><font>struct iterator_traits {</font></font></font>\r\n<font color=\"#333333\">    <font face=\"Monaco, Menlo, Consolas, Courier New, monospace\"><font>typedef typename Iterator::value_type value_type;</font></font></font>\r\n<font color=\"#333333\"><font face=\"Monaco, Menlo, Consolas, Courier New, monospace\"><font>};</font></font></font>\r\n\r\n<font color=\"#333333\"><font face=\"Monaco, Menlo, Consolas, Courier New, monospace\"><font>//</font></font><font face=\"WenQuanYi Zen Hei Mono, monospace\"><span lang=\"zh-CN\"><font face=\"Monaco, Menlo, Consolas, Courier New, monospace\"><font>原生指针的特例化</font></font></span></font></font>\r\n<font color=\"#333333\"><font face=\"Monaco, Menlo, Consolas, Courier New, monospace\"><font>template &lt;class Iterator&gt;</font></font></font>\r\n<font color=\"#333333\"><font face=\"Monaco, Menlo, Consolas, Courier New, monospace\"><font>struct iterator_traits&lt;Iterator *&gt; {</font></font></font>\r\n<font color=\"#333333\">    <font face=\"Monaco, Menlo, Consolas, Courier New, monospace\"><font>typedef Iterator value_type;</font></font></font>\r\n<font color=\"#333333\"><font face=\"Monaco, Menlo, Consolas, Courier New, monospace\"><font>};</font></font></font>\r\n\r\n<font color=\"#333333\"><font face=\"Monaco, Menlo, Consolas, Courier New, monospace\"><font>template &lt;class Iterator&gt;</font></font></font>\r\n<font color=\"#333333\"><font face=\"Monaco, Menlo, Consolas, Courier New, monospace\"><font>typename iterator_traits&lt;Iterator&gt;::value_type func(Iterator ite) {</font></font></font>\r\n<font color=\"#333333\">    <font face=\"Monaco, Menlo, Consolas, Courier New, monospace\"><font>return *ite;</font></font></font>\r\n<font color=\"#333333\"><font face=\"Monaco, Menlo, Consolas, Courier New, monospace\"><font>}</font></font></font>\r\n<font color=\"#333333\"><font face=\"Monaco, Menlo, Consolas, Courier New, monospace\"><font>#include &lt;iostream&gt;</font></font></font>\r\n<font color=\"#333333\"><font face=\"Monaco, Menlo, Consolas, Courier New, monospace\"><font>int main(){</font></font></font>\r\n<font color=\"#333333\">    <font face=\"Monaco, Menlo, Consolas, Courier New, monospace\"><font>MyIterator&lt;int&gt; ite = new int(100);</font></font></font>\r\n<font color=\"#333333\">    <font face=\"Monaco, Menlo, Consolas, Courier New, monospace\"><font>std::cout &lt;&lt; func(ite);</font></font></font>\r\n<font color=\"#333333\">    <font face=\"Monaco, Menlo, Consolas, Courier New, monospace\"><font>int *p = new int(55);</font></font></font>\r\n<font color=\"#333333\">    <font face=\"Monaco, Menlo, Consolas, Courier New, monospace\"><font>std::cout &lt;&lt; func(p);</font></font></font>\r\n<font color=\"#333333\">    </font>\r\n<font color=\"#333333\">    <font face=\"Monaco, Menlo, Consolas, Courier New, monospace\"><font>return 0;</font></font></font>\r\n<font color=\"#333333\"><font face=\"Monaco, Menlo, Consolas, Courier New, monospace\"><font>}</font></font></font></font></pre><p><font color=\"#393939\"><font face=\"WenQuanYi Zen Hei\"><font><span lang=\"zh-CN\"><font face=\"Comic Sans MS\"><font size=\"3\">　　但是，我们离最后的成功还有最后一步，如果，我们需要声明一个</font></font></span></font></font><font face=\"Comic Sans MS\"><font size=\"3\">value_type</font></font><font face=\"WenQuanYi Zen Hei\"><font><span lang=\"zh-CN\"><font face=\"Comic Sans MS\"><font size=\"3\">类型的左值，但是却给</font></font></span></font></font><font face=\"Comic Sans MS\"><font size=\"3\">iterator_traits</font></font><font face=\"WenQuanYi Zen Hei\"><font><span lang=\"zh-CN\"><font face=\"Comic Sans MS\"><font size=\"3\">传递了一个</font></font></span></font></font><font face=\"Comic Sans MS\"><font size=\"3\">const Iterator*</font></font><font face=\"WenQuanYi Zen Hei\"><font><span lang=\"zh-CN\"><font face=\"Comic Sans MS\"><font size=\"3\">，此时我们声明的自然就是</font></font></span></font></font><font face=\"Comic Sans MS\"><font size=\"3\">const Iterator</font></font><font face=\"WenQuanYi Zen Hei\"><font><span lang=\"zh-CN\"><font face=\"Comic Sans MS\"><font size=\"3\">类型，如下：</font></font></span></font></font></font></p><pre class=\"western\" style=\"padding: 0.09in; margin-bottom: 0.1in; line-height: 18.459999084472656px;\"><font size=\"3\"><font color=\"#333333\"><font face=\"Monaco, Menlo, Consolas, Courier New, monospace\"><font>template &lt;class Iterator&gt;</font></font></font>\r\n<font color=\"#333333\"><font face=\"Monaco, Menlo, Consolas, Courier New, monospace\"><font>typename iterator_traits&lt;Iterator&gt;::value_type func(Iterator ite) {</font></font></font>\r\n<font color=\"#333333\">    <font face=\"Monaco, Menlo, Consolas, Courier New, monospace\"><font>typename iterator_traits&lt;Iterator&gt;::value_type key;</font></font></font>\r\n<font color=\"#333333\">    <font face=\"Monaco, Menlo, Consolas, Courier New, monospace\"><font>key = *ite;</font></font></font>\r\n<font color=\"#333333\">    <font face=\"Monaco, Menlo, Consolas, Courier New, monospace\"><font>return *ite;</font></font></font>\r\n<font color=\"#333333\"><font face=\"Monaco, Menlo, Consolas, Courier New, monospace\"><font>}</font></font></font>\r\n<font color=\"#333333\">    <font face=\"Monaco, Menlo, Consolas, Courier New, monospace\"><font>const int * pp = new int(155);</font></font></font>\r\n<font color=\"#333333\">    <font face=\"Monaco, Menlo, Consolas, Courier New, monospace\"><font>std::cout &lt;&lt; func(pp);</font></font></font></font></pre><p><font size=\"3\"><font face=\"WenQuanYi Zen Hei\"><font><span lang=\"zh-CN\"><font color=\"#393939\"><font face=\"Comic Sans MS\">　　当传入</font></font></span></font></font><font color=\"#393939\"><font face=\"Comic Sans MS\">const int*</font></font><font face=\"WenQuanYi Zen Hei\"><font><span lang=\"zh-CN\"><font color=\"#393939\"><font face=\"Comic Sans MS\">时，使用</font></font></span></font></font><font color=\"#393939\"><font face=\"Comic Sans MS\">iterator_traits</font></font><font face=\"WenQuanYi Zen Hei\"><font><span lang=\"zh-CN\"><font color=\"#393939\"><font face=\"Comic Sans MS\">萃取出来的就是</font></font></span></font></font><font color=\"#393939\"><font face=\"Comic Sans MS\">const int&nbsp;</font></font><font face=\"WenQuanYi Zen Hei\"><font><span lang=\"zh-CN\"><font color=\"#393939\"><font face=\"Comic Sans MS\">一个不可以改变的变量对我们没有用。</font></font><font color=\"#393939\">于是，为</font></span></font></font><font color=\"#393939\">const Iteraot*</font><font face=\"WenQuanYi Zen Hei\"><font><span lang=\"zh-CN\"><font color=\"#393939\">也另起炉灶，准备一份小炒：</font></span></font></font></font></p><pre class=\"western\" style=\"padding: 0.09in; margin-bottom: 0.1in; line-height: 18.459999084472656px;\"><font size=\"3\"><font color=\"#333333\"><font face=\"Monaco, Menlo, Consolas, Courier New, monospace\"><font>template &lt;class Iterator&gt;</font></font></font>\r\n<font color=\"#333333\"><font face=\"Monaco, Menlo, Consolas, Courier New, monospace\"><font>struct iterator_traits&lt;const Iterator *&gt; {</font></font></font>\r\n<font color=\"#333333\">    <font face=\"Monaco, Menlo, Consolas, Courier New, monospace\"><font>typedef Iterator value_type;</font></font></font>\r\n<font color=\"#333333\"><font face=\"Monaco, Menlo, Consolas, Courier New, monospace\"><font>};</font></font></font></font></pre><p><font face=\"WenQuanYi Zen Hei\"><font><span lang=\"zh-CN\"><font color=\"#393939\"><font face=\"Comic Sans MS\"><font size=\"3\">　　现在所有的问题都解决了。</font></font></font></span></font></font></p><p><font face=\"Comic Sans MS\" size=\"5\"><span style=\"line-height: 24px;\"><b>总结</b></span></font></p><p><font size=\"3\">　　记得当时看stl源码剖析的时候，看了好几遍这几章，但是还是不是很了解，感觉就像看天书一样。STL中已经定好一些iterator的规则，我们只需要使用std::中的iterator_traits就可以达到目地，这样所有符合stl规范的container都可以使用我们的泛型函数。（更多请看stl源码剖析)。</font></p><pre class=\"highlight\"><font size=\"3\">template &lt;class Iterator&gt; class iterator_traits;\r\ntemplate &lt;class T&gt; class iterator_traits&lt;T*&gt;;\r\ntemplate &lt;class T&gt; class iterator_traits&lt;const T*&gt;;</font></pre><div class=\"ui-wrapper\" style=\"overflow: hidden; position: static; width: 750px; height: 420px; top: auto; left: auto; margin: 0px;\"><img class=\"view-image ui-resizable\" src=\"/Uploads/Article/image/20140410/ablg_1397135185.jpg\" style=\"resize: none; position: static; zoom: 1; display: block; margin: 0px; height: 418px; width: 748px;\"><div class=\"ui-resizable-handle ui-resizable-e\" style=\"z-index: 90;\"></div><div class=\"ui-resizable-handle ui-resizable-s\" style=\"z-index: 90;\"></div><div class=\"ui-resizable-handle ui-resizable-se ui-icon ui-icon-gripsmall-diagonal-se\" style=\"z-index: 90;\"></div></div><div><br></div><div><font size=\"3\"><b>　　iterator_traits的作用如上图。</b></font></div>',1,0,'',3,'',1419941396,1397102312),(60,5,'','C++对象成员的效率测试','效率 C++ 对象　成员',257,'<font size=\"3\"><font size=\"5\"><b>前言</b></font><br>　　最近一直在看深度探索C++对象模型，真是越看越觉得自己对C++了解太少。来点轻松的，来测试一下C++对聚合、封装、继承所引发的额外负担程度。<br></font><ul><li><b><font size=\"3\">测试普通变量、数组、struct、class的效率。</font></b></li></ul><font size=\"3\">　　思路：全部使用全局变量，对其进行加法、减法、赋值等操作。每个执行30000万次（根据自己的硬件来设施，<br></font><pre class=\"highlight\"><font size=\"3\">float pA_x = 1.725, pA_y = 0.875, pA_z = 0.478;\r\nfloat pB_x = 0.315, pB_y = 0.317, pB_z = 0.478;\r\n\r\nenum fussy { x, y, z };\r\nfloat pAarray[3] = { 1.725, 0.875, 0.478 };\r\nfloat pBarray[3] = { 0.315, 0.317, 0.487 };\r\n\r\nstruct Point {\r\n    Point( float xx = 0.0, float yy = 0.0, float zz = 0.0 )\r\n        : x( xx ), y( yy ), z( zz ) { }\r\n    float x, y, z;\r\n};\r\nPoint pA( 1.725, 0.875, 0.478 ), pB( 0.315, 0.317, 0.478 );\r\n\r\nclass Point3d {\r\n    public:\r\n        Point3d( float xx = 0.0, float yy = 0.0, float zz = 0.0)\r\n            : _x( xx ), _y( yy ), _z( zz ) { }\r\n        float&amp; x() { return _x; }\r\n        float&amp; y() { return _y; }\r\n        float&amp; z() { return _z; }\r\n    private:\r\n        float _x, _y, _z;\r\n};\r\nPoint3d pAc( 1.725, 0.875, 0.478 ), pBc( 0.315, 0.317, 0.478 );\r\n\r\nclass Point3d2 {\r\n    public:\r\n        Point3d2( float xx = 0.0, float yy = 0.0, float zz = 0.0)\r\n            : _x( xx ), _y( yy ), _z( zz ) { }\r\n        float x() { return _x; }\r\n        float y() { return _y; }\r\n        float z() { return _z; }\r\n        void x( float newx ) { _x = newx; }\r\n        void y( float newy ) { _y = newy; }\r\n        void z( float newz ) { _z = newz; }\r\n    private:\r\n        float _x, _y, _z;\r\n};\r\nPoint3d2 pAc2( 1.725, 0.875, 0.478 ), pBc2( 0.315, 0.317, 0.478 );\r\n\r\n</font></pre><font face=\"Comic Sans MS\" size=\"3\">　　class Point3d2使用get和set函数分别获取和设置成员变量。<br>　　主函数：<br></font><pre class=\"highlight\"> <font size=\"3\">int main(){\r\n    printf( \"using global float\\n\" );\r\n    printLocalTime();\r\n    for ( int i = 0; i &lt; n; i++ ) {\r\n        pB_x = pA_x - pB_z;\r\n        pB_y = pA_y + pB_x;\r\n        pB_z = pA_z + pB_y;\r\n    }\r\n    printLocalTime();\r\n\r\n    printf( \"using float array\\n\" );\r\n    printLocalTime();\r\n    for ( int i = 0; i &lt; n; i++ ) {\r\n        pBarray[x] = pAarray[x] - pBarray[z];\r\n        pBarray[y] = pAarray[y] + pBarray[x];\r\n        pBarray[z] = pAarray[z] + pBarray[y];\r\n    }\r\n    printLocalTime();\r\n\r\n    printf( \"using struct point\\n\" );\r\n    printLocalTime();\r\n    for ( int i = 0; i &lt; n; i++ ) {\r\n        pB.x = pA.x - pB.z;\r\n        pB.y = pA.y + pB.x;\r\n        pB.z = pA.z + pB.y;\r\n    }\r\n    printLocalTime();\r\n\r\n    printf( \"using class point\\n\" );\r\n    printLocalTime();\r\n    for ( int i = 0; i &lt; n; i++ ) {\r\n        pBc.x() = pAc.x() - pBc.z();\r\n        pBc.y() = pAc.y() + pBc.x();\r\n        pBc.z() = pAc.z() + pBc.y();\r\n    }\r\n    printLocalTime();\r\n\r\n    printf( \"using class 2  point\\n\" );\r\n    printLocalTime();\r\n    for ( int i = 0; i &lt; n; i++ ) {\r\n        pBc2.x( pAc2.x() - pBc2.z() );\r\n        pBc2.y( pAc2.y() + pBc2.x() );\r\n        pBc2.z( pAc2.z() + pBc2.y() );\r\n    }\r\n    printLocalTime();\r\n    return 0;\r\n}\r\n</font></pre><font face=\"Comic Sans MS\" size=\"3\">　　关于测试时间使用下面方法：在前后分别调用printLocalTime()<br></font><pre class=\"highlight\"><font size=\"3\">#include &lt;stdio.h&gt;\r\n#include &lt;time.h&gt;\r\nvoid printLocalTime(void) {\r\n    struct tm *timeptr;\r\n    time_t secsnow;\r\n    time(&amp;secsnow);\r\n    timeptr = localtime(&amp;secsnow);\r\n    printf(\"Local time is %02d:%02d:%02d\\n\",\r\n            timeptr-&gt;tm_hour,\r\n            timeptr-&gt;tm_min,\r\n            timeptr-&gt;tm_sec);\r\n}\r\n</font></pre><font face=\"Comic Sans MS\" size=\"3\">　　没有使用优化，使用struct和数组的效率基本是一样的，使用class由于频繁调用函数，效率明显降低。</font><pre class=\"highlight\"><font size=\"3\">using global float\r\nLocal time is 14:34:29\r\nLocal time is 14:34:31\r\nusing float array\r\nLocal time is 14:34:31\r\nLocal time is 14:34:34\r\nusing struct point\r\nLocal time is 14:34:34\r\nLocal time is 14:34:37\r\nusing class point\r\nLocal time is 14:34:37\r\nLocal time is 14:34:43\r\nusing class 2  point\r\nLocal time is 14:34:43\r\nLocal time is 14:34:50</font></pre><font face=\"Comic Sans MS\" size=\"3\">　　使用-O2优化，对于Point3d2的函数调用也有显著的优化。<br></font><pre class=\"highlight\"><font size=\"3\">using global float\r\nLocal time is 14:34:15\r\nLocal time is 14:34:16\r\nusing float array\r\nLocal time is 14:34:16\r\nLocal time is 14:34:17\r\nusing struct point\r\nLocal time is 14:34:17\r\nLocal time is 14:34:18\r\nusing class point\r\nLocal time is 14:34:18\r\nLocal time is 14:34:19\r\nusing class 2  point\r\nLocal time is 14:34:19\r\nLocal time is 14:34:21</font></pre><ul><li><b><font face=\"Comic Sans MS\" size=\"3\">单继承和多层继承以及虚拟继承　</font></b></li></ul><b><font face=\"Comic Sans MS\" size=\"3\">　　</font></b><font face=\"Comic Sans MS\" size=\"3\">单继承，x, y, z逐步添加</font><br><font face=\"Comic Sans MS\" size=\"3\">　　一个小实验，继续学习Inside the c++ Object Model。。。。。<br></font><pre class=\"highlight\"> <font size=\"3\">class Point1d {\r\n    public:\r\n        Point1d( float xx ) : x( xx ) { }\r\n        virtual float &amp; xx() { return x; }\r\n        virtual void xx( float newx ) { x = newx; }\r\n        float x;\r\n};\r\nclass Point2d : public Point1d {\r\n    public:\r\n        Point2d( float xx, float yy ) : Point1d( xx ), y( yy ) { }\r\n        virtual float &amp; yy() { return y; }\r\n        virtual void yy( float newy ) { y = newy; }\r\n        float y;\r\n};\r\nclass Point3d : public Point2d {\r\n    public:\r\n        Point3d( float xx = 0, float yy = 0, float zz = 0)\r\n            : Point2d( xx, yy ), z( zz ) { }\r\n        virtual float &amp; zz() { return z; }\r\n        virtual void zz( float newz ) { z = newz; }\r\n        float z;\r\n};\r\nPoint3d pAc( 1.725, 0.875, 0.478 ), pBc( 0.315, 0.317, 0.478 );\r\n\r\n</font></pre><font face=\"Comic Sans MS\" size=\"3\">　　多重虚拟继承：<br></font><pre class=\"highlight\"><font size=\"3\">class Pointdv{\r\n    public:\r\n        Pointdv( float xx )  : x( xx ) { }\r\n        Pointdv() { }\r\n        virtual float &amp; xx() { return x; }\r\n        virtual void xx( float newx ) { x = newx; }\r\n        float x;\r\n};\r\nclass Point2dvy : public virtual Pointdv {\r\n    public:\r\n        Point2dvy( float xx = 0.0, float yy = 0.0 ) : Pointdv( xx ), y( yy ) { }\r\n        virtual float &amp; yy() { return y; }\r\n        virtual void yy( float newy ) { y = newy; }\r\n        float y;\r\n};\r\nclass Point2dvz : public virtual Pointdv {\r\n    public:\r\n        Point2dvz ( float xx = 0.0, float zz = 0.0 ) : Pointdv( xx ), z( zz ) { }\r\n        virtual float &amp; zz() { return z; }\r\n        virtual void zz( float newz ) { z = newz; }\r\n        float z;\r\n};\r\nclass Point3dv : \r\n        public Point2dvz, public Point2dvy{\r\n    public:\r\n        Point3dv( float xx = 0, float yy = 0, float zz = 0)\r\n            : Point2dvy( xx, yy ), Point2dvz ( xx, zz ){ }\r\n};\r\n</font></pre><font face=\"Comic Sans MS\" size=\"3\">　　测试主函数</font><pre class=\"highlight\"> <font size=\"3\">int main(){\r\n    printf( \"using struct point\\n\" );\r\n    printLocalTime();\r\n    for ( long long i = 0; i &lt; n; i++ ) {\r\n        pB.x = pA.x - pB.z;\r\n        pB.y = pA.y + pB.x;\r\n        pB.z = pA.z + pB.y;\r\n    }\r\n    printLocalTime();\r\n\r\n    \r\n    printf( \"单一继承，使用点运算符， \\n\" );\r\n    printLocalTime();\r\n    for ( long long i = 0; i &lt; n; i++ ) {\r\n        pBc.x = pAc.x - pBc.z;\r\n        pBc.y = pAc.y + pBc.x;\r\n        pBc.z = pAc.z + pBc.y;\r\n    }\r\n    printLocalTime();\r\n    printf( \"单一继承，使用虚函数\\n\" );\r\n    printLocalTime();\r\n    for ( long long i = 0; i &lt; n; i++ ) {\r\n        pBc.xx() = pAc.xx() - pBc.zz();\r\n        pBc.yy() = pAc.yy() + pBc.xx();\r\n        pBc.zz() = pAc.zz() + pBc.yy();\r\n    }\r\n    printLocalTime();\r\n\r\n    printf( \"多重继承，使用点运算\\n\" );\r\n    printLocalTime();\r\n    for ( long long i = 0; i &lt; n; i++ ) {\r\n        pBc2.x = pAc2.x - pBc2.z;\r\n        pBc2.y = pAc2.y + pBc2.x;\r\n        pBc2.z = pAc2.z + pBc2.y;\r\n    }\r\n    printLocalTime();\r\n\r\n    printf( \"多重继承，使用虚函数\\n\" );\r\n    printLocalTime();\r\n    for ( long long i = 0; i &lt; n; i++ ) {\r\n        pBc2.xx( pAc2.xx() - pBc2.zz() );\r\n        pBc2.yy( pAc2.yy() + pBc2.xx() );\r\n        pBc2.zz( pAc2.zz() + pBc2.yy() );\r\n    }\r\n    printLocalTime();\r\n    return 0;\r\n}\r\n</font></pre><font face=\"Comic Sans MS\" size=\"3\">　　不使用O2优化，重结果来看，不管是虚拟继承还是单一继承，都是直接访问到成员，值得一提的是，多重虚拟继承时，对Point3dv::x并没有间接访问，好像并没有经过Pointv的指针间接访问。嗨又是一个问题。<br></font><pre class=\"highlight\"><font size=\"3\">using struct point\r\nLocal time is 17:03:17\r\nLocal time is 17:03:19\r\n单一继承，使用点运算符，\r\nLocal time is 17:03:19\r\nLocal time is 17:03:22\r\n单一继承，使用虚函数\r\nLocal time is 17:03:22\r\nLocal time is 17:03:28\r\n多重继承，使用点运算\r\nLocal time is 17:03:28\r\nLocal time is 17:03:30\r\n多重继承，使用虚函数\r\nLocal time is 17:03:30\r\nLocal time is 17:03:36</font></pre><font face=\"Comic Sans MS\" size=\"3\"> 　　使用O2优化，明显提高效率。<br></font><pre class=\"highlight\"><font size=\"3\">using struct point\r\nLocal time is 17:27:44\r\nLocal time is 17:27:46\r\n单一继承，使用点运算符， \r\nLocal time is 17:27:46\r\nLocal time is 17:27:47\r\n单一继承，使用虚函数\r\nLocal time is 17:27:47\r\nLocal time is 17:27:48\r\n多重继承，使用点运算\r\nLocal time is 17:27:48\r\nLocal time is 17:27:49\r\n多重继承，使用虚函数\r\nLocal time is 17:27:49\r\nLocal time is 17:27:50\r\n</font></pre><font face=\"Comic Sans MS\" size=\"3\">　　</font><font face=\"Comic Sans MS\" size=\"3\">一个小实验，继续学习Inside the c++ Object Model。。。。。</font>',1,0,'',3,'',1397998578,1397976655),(61,5,'','Iterator失效总结','Iterator, 迭代器，失效',297,'<font face=\"Comic Sans MS\" size=\"3\"><b><font size=\"5\">前言</font></b><br>　　Iterator是泛型编程中很重要的一部分，也是C++STL中经常使用到的，在使用STL中的vector,deque,string等如果没有很好的认识迭代器失效，可能会导致巨大灾难。<br><b><font size=\"5\">正文</font></b><br></font><ul><li><b><font face=\"Comic Sans MS\" size=\"3\">什么是迭代器失效</font></b></li></ul><font face=\"Comic Sans MS\" size=\"3\">　　迭代器失效是指在向容器中添加或删除原素的操作可能会使指向容器元素的指针，引用，迭代器失效，一个失效的迭代器（指针，引用）<font color=\"#f83a22\">不再表示任何元素</font>，使用失效的迭代器类似使用未初始化的指针一样。</font><font face=\"Comic Sans MS\" size=\"3\">（比如我们把vector最前面的插入一个元素，还使用之前保存的begin()作为vector的开始判断－－此时它是第二个元素了）<br></font><ul><li><b><font face=\"Comic Sans MS\" size=\"3\">什么时候迭代器会失效</font></b></li><ul><li><b><font face=\"Comic Sans MS\" size=\"3\">添加一个元素</font></b></li><ul><li><font face=\"Comic Sans MS\" size=\"3\">对于vector,string,如果储存空间已满，重新分配则全部迭代器（指针，引用）失效，如果没有重新分配，则insert之前的不失效，之后的失效</font></li><li><font face=\"Comic Sans MS\" size=\"3\">对于deque，除了在首尾insert，其他位置会是全部迭代器（指针，引用失效），若在首尾则insert位置失效，其他指向存在的不失效</font></li><li><font face=\"Comic Sans MS\" size=\"3\">对于list和forward_list不失效。</font></li></ul><li><b><font face=\"Comic Sans MS\" size=\"3\">删除一个元素，指向该元素的失效（已经销毁）</font></b></li><ul><li><font face=\"Comic Sans MS\" size=\"3\">对于vector,string，删除之后的失效，其他不失效。<br></font></li><li><font face=\"Comic Sans MS\" size=\"3\">对于list和forward_list，指向其他位置的不失效</font></li><li><font face=\"Comic Sans MS\" size=\"3\">对于deque，在首尾之外删除，除了指向被删除的元素外其他失效。在尾删除，则只有尾后的失效，在首删除，不受影响。</font></li></ul></ul></ul><blockquote><font face=\"Comic Sans MS\" size=\"3\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 测试：</font><br></blockquote><hr><pre class=\"highlight\"> <font size=\"3\">#include &lt;iostream&gt;\r\n#include &lt;vector&gt;\r\n#include &lt;list&gt;\r\n#include &lt;deque&gt;\r\n\r\nusing namespace std;\r\nint main(){\r\n    vector&lt;int&gt; v = {0, 1, 2, 3, 4, 5, 6, 7, 8, 9};\r\n    list&lt;int&gt; l = {0, 1, 2, 3};\r\n    deque&lt;int&gt; q = {0, 1, 2, 3, 4, 5};\r\n    auto ite = v.begin();\r\n    cout &lt;&lt; *ite &lt;&lt; endl;\r\n    v.erase( ite );\r\n    cout &lt;&lt; *ite &lt;&lt; endl;\r\n    auto ite2 = l.begin();\r\n    cout &lt;&lt; *ite2 &lt;&lt; endl;\r\n    l.insert( ite2, 10 );\r\n    cout &lt;&lt; *ite2 &lt;&lt; endl;\r\n    auto ite3 = q.end() - 1;\r\n    cout &lt;&lt; *ite3 &lt;&lt; endl;\r\n    q.erase( q.begin() );\r\n    cout &lt;&lt; *ite3 &lt;&lt; endl;\r\n    auto qbegin = q.begin();\r\n    auto erase = q.end() - 3;\r\n    cout &lt;&lt; *erase &lt;&lt; \'\\t\';\r\n    cout &lt;&lt; *qbegin &lt;&lt; \'\\t\';\r\n    q.erase( erase );\r\n    cout &lt;&lt; *qbegin &lt;&lt; \'\\n\';\r\n    cout &lt;&lt; *erase &lt;&lt; \'\\n\';\r\n    cout &lt;&lt; *ite3 &lt;&lt; endl;\r\n\r\n    return 0;\r\n}\r\n</font></pre><blockquote><blockquote><font size=\"3\"><b>进过测试，发现在deque中删除，不管是那里删除，都只有当前迭代器失效。</b></font><br></blockquote></blockquote><ul><li><font size=\"3\"><b>建议</b></font></li><ul><li><font size=\"3\">使用迭代器时，尽量保持在一小段代码中，这样就比较清晰的知道自己是否对容器进行一些会使迭代器失效的操作</font></li><li><font size=\"3\">不要保存end()返回的迭代器，特别是对insert和erase操作时，尽量使用实时的，在STL中，end()的效率很高，也是有这方面的考虑。</font></li></ul></ul><font size=\"3\"><b>&nbsp;&nbsp;&nbsp;&nbsp; 考虑下面例子，一般会是Segmentation fault (core dumped)</b></font><br><font size=\"3\"><b><br></b></font><pre class=\"highlight\"><font size=\"3\">#include &lt;iostream&gt;\r\n#include &lt;vector&gt;\r\nusing namespace std;\r\n\r\nint main(){\r\n    vector&lt;int&gt; v = {0, 1, 2, 3};\r\n    auto begin = v.begin(), end = v.end();\r\n    int i = 0;\r\n    cout &lt;&lt; i++ &lt;&lt; \'\\t\';\r\n    //while ( begin != v.end() ) {\r\n    while ( begin != end ) {\r\n        cout &lt;&lt; i++ &lt;&lt; \'\\t\';\r\n        ++begin;\r\n        begin = v.insert( begin, 44 );\r\n        ++begin;\r\n    }\r\n    return 0;\r\n}\r\n</font></pre><b><font face=\"Comic Sans MS\" size=\"3\"><font size=\"5\">总结</font><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 我认为迭代器失效应该分为两种，一种是严格上的所指向的对象不存在，一种是指向对象存在，但不是开发者想要的。比如我们在vector首insert元素，还用之前cache的begin作为头部，那没就不是我们想要的结果，并且这种错误也是最难找的（它现在是第二个元素）<br></font></b>',1,0,'',3,'',1419941368,1398529979),(62,6,'','CGI  FastCGI  PHP-CGI  PHP-FPM  和  SpawnCGI','CGI FastCGI NGINX C',248,'<font face=\"Comic Sans MS\" size=\"3\"><b><font size=\"5\">前言</font><br></b>　　配置apache和nginx支持php脚本时，从apache的spawn到nginx的php-fpm，当时配置时只是按照网上的一步一步下去做，完全没有了解到其中的含义．有幸这个学期学习了网络编程也更想了解WEB的运行机制，其中CGI是做动态网站的基础．<br><b>CGI</b><br>　　CGI全称是＂公共网关借口＂（Common Gateway Interface)，HTTP服务器与你的或其它机器上的程序进行＂交谈＂的一种工具，其程序运行在网络服务器上．<br>　　CGI可以使用任何一种语言编写，只要这种语言具有标准输入，输出和环境变量．如php，perl,c,c++等．CGI是干嘛的，CGI是一个标准，它保证了web server传递给CGI程序的数据是标准格式的．<br>　　webserver(比如说nginx)只是内容的发布者，比如当用户请求/index.html时，那么webserver就会去文件系统找这个文件，找到就把这个文件发送给浏览器，这里发送的是静态数据．如果我们请求/index.php，根据webserver的配置文件，nginx知道这是一个动态文件，需要去找php解释器来处理，那么它会将这个请求简单处理后交给php解释其，有一个问题是webserver(nginx)会传那些数据给php解释器呢？url需要吧，查询字符串需要吧，HTTP header需要吧，CGI就是规定要传那些数据，以何种格式传递．<br>　　当webserver 收到/index.php这个请求后，会启动对应的CGI程序，这里就是php解释器，接下来php解释器会解释php.ini文件．初始化环境，然后处理请求，再以CGI规定的格式返回处理后的结果，退出进程，webserver再将从CGI程序返回的结果发送个浏览器．<br></font><hr><font face=\"Comic Sans MS\" size=\"3\"><b>FastCGI</b><br>&nbsp;&nbsp;&nbsp; 标准的CGI程序会对每个请求执行初始化环境变量，启动进程等等步骤，（比如php解释器会解释php.ini文件，初始化环境变量，再执行php脚本），这样处理每个请求的时间会很长，即使是静态语言也是，需要初始化环境变量，启动进程．<br>&nbsp;&nbsp;&nbsp; FastCGI像是一个常驻（long-live）型的CGI，它可以一直执行着，只要激活,不会每次都要会费时间去fork一次（这是CGI最为人垢病的fork-and-execute模式）．它还支持分布式的运算，即FastCGI程序可以在网站服务器以外的主机执行并接受来自其它网站服务器来的请求．<br>　 FastCGI是语言无关的，可以伸缩构架的CGI开放扩展，其主要行为是将CGI解释器进程保存在内存中并因此获得较高的性能．众所周知，CGI解释器的的反复加载是CGI性能底下的主要原因，如果CGI解释器保持在内存中并接受FastCGI进程管理器调度，则可以提供良好的性能，伸缩性，FailOver特性等等．可以说FastCGI和CGI一样是协议，定义了一些标准，具体内容依赖于其实现，比如c的fastCGI库，php-fpm,spawn-FCGI.<br>FastCGI的特点<br>　　1.FastCGI是与语言无关的．<br>　　2.FastCGI在进程中的应用程序，独立与核心web服务器运行，提供一个比API更安全的环境，APIS把应用程序的代码与核心的web服务器链接在一起，这意味着在一个错误的API的应用程序可能会损坏其它应用程序或核心服务器．恶意的API应用程序代码甚至可以窃取另一个应用程序或核心服务器的密钥．<br>　　3.FastCGI技术目前支持的语言有：C/C++,Java,Perl,Tcl,Python,SmallTalk,Ruby等等，相关模块在Apache,IIS,Ligtttpd等流行的服务器上也是可用的．<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 4.FastCGI的不依赖于任何Web服务器的内部架构，因此即使服务器技术的改变，FastCGI依然稳定不变．<br>FastCGI的工作原理<br>　　1.Web Server启动时载入FastCGI进程管理器(php-fpm或Apache Module)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 2.FastCGI管理器自身初始化，启动多个CGI解释器进程(可见多个php-cgi或者php-fpm)并等待来自Web Server的连接.<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 3.当客户端请求到达Web Server时，FastCGI进程管理器选择并连接到一个CGI解释器，Web Server将CGI环境变量和标准输入发送到CGI解释器（如php-cgi）．<br>　　4.FastCGI的解释器完成处理后将标准输出和错误日志从同一连接返回给Web Server，当FastCGI的解释器关闭连接时，请求便处理完毕．FastCGI的解释器接着等待来自FastCGI管理器的下一个连接．如果是在CGI模式中，CGI解释器(CGI程序)就推出．<br>&nbsp;&nbsp;&nbsp; 对于CGI来说可以想象CGI通常运行有都慢，每一个Web请求（如果是php的话）,都必须解析php.ini，从新载入全部扩展并初始化全部数据结构，使用FastCGI,所有这些都只是在进程启动时发生一次，一个额外的好处是，持续数据库连接(Persistent database connection)可以工作.即使是静态型语言C/C++编译后的，也需要初始化环境变量，在产生新的进程．<br><br><b>PHP-CGI</b><br>　　PHP-CGI是解释php的解释器<br>　　PHP-CGI的不足<br>　　1.php-cgi变更php.ini配置后需要重新启动php-cgi才能让php.ini生效，不可以平滑重启．<br>　　2.直接杀死php-cgi进程，php就不能运行．<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 由于php-cgi只是个php解释器，不能进行进程管理，所以就有了php-fpm和spawn-fcgi来管理cgi.可以说php-fpm和spawn就是fastcgi的实现．<br><b>PHP-FPM</b><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; PHP-FPM是一个PHP FastCGI管理器，是只能用于PHP的，从PHP5.3开始，PHP-FPM已经成为php的一部分，它可以提供更好的PHP进程管理方式．可以有效控制内存和进程，可以平滑载入php配置．<br><br><b>Spawn-FCGI</b><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Spawn-CGI是一个通用的FastCGI管理器，它是lighttpd中的一部分,可以用Spawn-CGI来管理各种FastCGI的实现，比如php解释器php-cgi普通的c/c++程序．<br><br></font>',1,0,'',3,'',1419941344,1401262298),(63,6,'','Jenkins实练之Linux服务器快速搭建','Jenkins、敏捷开发、持续集成服务器、CI Server',221,'<font size=\"3\"><font size=\"5\"><b>前言</b></font><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 公司的项目想要弄一个持续集成服务器，就叫我这个小白先去开头阵，去了解，因为重构代码，每次发布版本的时候都太痛苦了，又在次当了小老鼠。经过半天的学习，终于还算比较了解了。先搭建一个持续集成开发服务器试试。<br><font size=\"5\"><b>正文</b></font><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 正式搭建前，先了解一下基本概念。<br></font><b><font size=\"3\">CI 服务器</font><br></b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <font size=\"3\">CI服务器:持续集成服务器，CI \r\nServer自动完成软件代码的编译和测试过程。大多数开发人员是通过手工来完成这个工作。有的甚至不做。CI服务器可以根据您设定的频率自动地去完成编\r\n译和测试过程。      CI \r\nServer会使您的工作变得容易简单。持续，自动编译过程帮助软件开发团队减少项目风险，提高工作效率和软件产品质量。CI \r\nServer能够帮助您缩短软件开发，集成和测试的时间，从而缩短交货时间。<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 为什么要使用CI服务器？1、发现bug更加容易；2、 提供快速的反馈；3、 隔离问题；4、 确保一个持续可靠的build<br></font><h4><font size=\"3\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 个人的理解就是当团队提交修改后的代码(比如使用SVN，GIT等等）</font>，CI服务器会自动编译源代码（需要编译的话），并进行测试（使用各种测试插件），然后生成软件版本，期间如果发现问题会发邮件提醒开发人员，及时解决问题。</h4><b><font size=\"3\">Jenkins </font></b><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <font size=\"3\">Jenkins是一个开源软件项目，旨在提供一个开放易用的软件平台，使持续集成变成可能。Jenkins，之前叫做Hudson，是基于Java开发的一种持续集成工具，用于监控秩序重复的工作。<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 关于选择Jenkins的原因：它是开源软件，并且支持php的插件较多。<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 关于CI 服务器的选择可以看<a href=\"http://blog.csdn.net/carolzhang8406/article/details/7174989\">http://blog.csdn.net/carolzhang8406/article/details/7174989</a><br></font><hr><font size=\"3\"><b>服务器环境</b><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </font><font size=\"3\">操作系统： Ubuntu 12.04.4 LTS Linux apacal.cn 3.2.0-60-generic #91-Ubuntu SMP Wed Feb 19 03:54:44 UTC 2014 x86_64 x86_64 x86_64 GNU/Linux<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; JAVA版本：jdk-7u60-linux-x64.tar.gz\r\n</font><p><font size=\"3\">&nbsp;&nbsp;&nbsp; &nbsp; Jenkins版本：jenkins.war（v1.566）</font></p><p><font size=\"3\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Jenkins是java程序，所以需要java JDK，这里采用Stand-Alone方式运行Jenkins服务器，该方法使用灵活方便，不需要系统安装JDK。</font></p><p><font size=\"3\">所有文件放在~/CIServer文件夹下。<br></font></p><pre class=\"highlight\"><font size=\"3\">apacal@apacal:~/CIServer$ ls\r\njdk1.7.0_60              jenkins.war                  run.sh\r\n</font></pre><font size=\"3\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 主要步骤是如何编写快速启动Jenkins的脚本，run.sh<br></font><pre class=\"highlight\"><font size=\"3\">#!/bin/sh\r\n# Startup script for the Jenkins Continuous Integration server\r\n# Set Jenkins environment.\r\nexport JENKINS_BASE=$PWD/.jenkins\r\nexport JAVA_HOME=$PWD/jdk1.7.0_60\r\nexport PATH=$PATH:$JAVA_HOME/bin\r\nexport LOGFILE=jenkins.log\r\n\r\njava -DJENKINS_HOME=$JENKINS_BASE -Xmx512m -jar jenkins.war --httpPort=8080 --lo\r\ngfile=$LOGFILE\r\n</font></pre><font size=\"3\"><font face=\"Comic Sans MS\">看到如下信息说明Jenkins运行成功，后面可以使用 nohup ./run.sh &amp; 运行。</font></font><br><pre class=\"highlight\"><font size=\"3\">apacal@apacal:~/CIServer$ ./run.sh\r\nJun 06, 2014 9:44:22 AM winstone.Logger logInternal\r\nINFO: Beginning extraction from war file\r\nJun 06, 2014 9:44:22 AM org.eclipse.jetty.util.log.JavaUtilLog info\r\nINFO: jetty-8.y.z-SNAPSHOT\r\nJun 06, 2014 9:44:25 AM org.eclipse.jetty.util.log.JavaUtilLog info\r\nINFO: NO JSP Support for , did not find org.apache.jasper.servlet.JspServlet\r\nJun 06, 2014 9:44:27 AM org.eclipse.jetty.util.log.JavaUtilLog info\r\nINFO: Started SelectChannelConnector@0.0.0.0:8080\r\nJun 06, 2014 9:44:27 AM winstone.Logger logInternal\r\nINFO: Winstone Servlet Engine v2.0 running: controlPort=disabled\r\nJun 06, 2014 9:44:27 AM jenkins.InitReactorRunner$1 onAttained\r\nINFO: Started initialization\r\nJun 06, 2014 9:44:28 AM jenkins.InitReactorRunner$1 onAttained\r\nINFO: Listed all plugins\r\nJun 06, 2014 9:44:28 AM jenkins.InitReactorRunner$1 onAttained\r\nINFO: Prepared all plugins\r\nJun 06, 2014 9:44:28 AM jenkins.InitReactorRunner$1 onAttained\r\nINFO: Started all plugins\r\nJun 06, 2014 9:44:31 AM jenkins.InitReactorRunner$1 onAttained\r\nINFO: Augmented all extensions\r\nJun 06, 2014 9:44:31 AM jenkins.InitReactorRunner$1 onAttained\r\nINFO: Loaded all jobs\r\nJun 06, 2014 9:44:35 AM org.jenkinsci.main.modules.sshd.SSHD start\r\nINFO: Started SSHD at port 35346\r\nJun 06, 2014 9:44:35 AM jenkins.InitReactorRunner$1 onAttained\r\nINFO: Completed initialization\r\nJun 06, 2014 9:44:35 AM hudson.TcpSlaveAgentListener &lt;init&gt;\r\nINFO: JNLP slave agent listener started on TCP port 33972\r\nJun 06, 2014 9:44:35 AM hudson.WebAppMain$3 run\r\nINFO: Jenkins is fully up and running\r\n</font></pre><font face=\"Comic Sans MS\" size=\"3\">在浏览器输入你的ip:8080就可以看到Jenkins，继续学习。。。。</font><br><img class=\"view-image\" src=\"/Uploads/Article/image/20140606/ablg_1402019250.PNG\">',1,0,'',3,'',1419941323,1401954756),(64,1,'','SSH原理与运用：远程登录 &amp; 远程操作 &amp; 端口转发','ssh,linux主机',288,'<div><font size=\"3\" face=\"Comic Sans MS\">SSH是每一台Linux电脑的标准配置。</font></div><div><font size=\"3\" face=\"Comic Sans MS\">随着Linux设备从电脑逐渐扩展到手机、外设和家用电器，SSH的使用范围也越来越广。不仅程序员离不开它，很多普通用户也每天使用。</font></div><div><font size=\"3\" face=\"Comic Sans MS\">SSH具备多种功能，可以用于很多场合。有些事情，没有它就是办不成。本文是我的学习笔记，总结和解释了SSH的常见用法，希望对大家有用。</font></div><div><p class=\"MsoNormal\"><font size=\"3\" face=\"Comic Sans MS\"><span style=\"color: rgb(17, 17, 17);\">虽然本文内容只涉及初级应用，较为简单，但是需要读者具备最基本的</span><span lang=\"EN-US\" style=\"color: rgb(17, 17, 17);\">\"Shell</span><span style=\"color: rgb(17, 17, 17);\">知识</span><span lang=\"EN-US\" style=\"color: rgb(17, 17, 17);\">\"</span><span style=\"color: rgb(17, 17, 17);\">和了解</span><span lang=\"EN-US\" style=\"color: rgb(17, 17, 17);\">\"</span><span style=\"color: rgb(17, 17, 17);\">公钥加密</span><span lang=\"EN-US\" style=\"color: rgb(17, 17, 17);\">\"</span><span style=\"color: rgb(17, 17, 17);\">的概念。如果你对它们不熟悉，我推荐先阅读</span><span lang=\"EN-US\"><a href=\"http://www.ee.surrey.ac.uk/Teaching/Unix/\" target=\"_blank\" style=\"word-spacing: 2px;\"><span lang=\"EN-US\" style=\"color: rgb(17, 34, 51); border: 1pt none windowtext; padding: 0cm;\"><span lang=\"EN-US\">《</span></span><span style=\"color: rgb(17, 34, 51); border: 1pt none windowtext; padding: 0cm;\">UNIX / Linux </span><span lang=\"EN-US\" style=\"color: rgb(17, 34, 51); border: 1pt none windowtext; padding: 0cm;\"><span lang=\"EN-US\">初学者教程》</span></span></a></span><span style=\"color: rgb(17, 17, 17);\"><span style=\"word-spacing: 2px;\">和</span></span><span lang=\"EN-US\"><a href=\"http://www.ruanyifeng.com/blog/2011/08/what_is_a_digital_signature.html\" target=\"_blank\" style=\"word-spacing: 2px;\"><span lang=\"EN-US\" style=\"color: rgb(17, 34, 51); border: 1pt none windowtext; padding: 0cm;\"><span lang=\"EN-US\">《数字签名是什么？》</span></span></a></span><span style=\"color: rgb(17, 17, 17);\"><span style=\"word-spacing: 2px;\">。</span></span></font></p></div><div><br></div><div><font size=\"3\" face=\"Comic Sans MS\"><b>一、什么是SSH？</b></font></div><div><font size=\"3\" face=\"Comic Sans MS\">简单说，SSH是一种网络协议，用于计算机之间的加密登录。</font></div><div><font size=\"3\" face=\"Comic Sans MS\">如果一个用户从本地计算机，使用SSH协议登录另一台远程计算机，我们就可以认为，这种登录是安全的，即使被中途截获，密码也不会泄露。</font></div><div><font size=\"3\" face=\"Comic Sans MS\">最早的时候，互联网通信都是明文通信，一旦被截获，内容就暴露无疑。1995年，芬兰学者Tatu Ylonen设计了SSH协议，将登录信息全部加密，成为互联网安全的一个基本解决方案，迅速在全世界获得推广，目前已经成为Linux系统的标准配置。</font></div><div><font size=\"3\" face=\"Comic Sans MS\">需要指出的是，SSH只是一种协议，存在多种实现，既有商业实现，也有开源实现。本文针对的实现是OpenSSH，它是自由软件，应用非常广泛。</font></div><div><font size=\"3\" face=\"Comic Sans MS\">此外，本文只讨论SSH在Linux Shell中的用法。如果要在Windows系统中使用SSH，会用到另一种软件PuTTY，这需要另文介绍。</font></div><div><font size=\"3\" face=\"Comic Sans MS\"><b>二、最基本的用法</b></font></div><div><font size=\"3\" face=\"Comic Sans MS\">SSH主要用于远程登录。假定你要以用户名user，登录远程主机host，只要一条简单命令就可以了。</font></div><div><pre class=\"highlight\"> <font size=\"3\">$ ssh user@host</font></pre></div><div><font size=\"3\" face=\"Comic Sans MS\">如果本地用户名与远程用户名一致，登录时可以省略用户名。</font></div><div><pre class=\"highlight\"> <font size=\"3\"> $ ssh host</font></pre><font face=\"Comic Sans MS\" size=\"3\"></font></div><div><font size=\"3\" face=\"Comic Sans MS\">SSH的默认端口是22，也就是说，你的登录请求会送进远程主机的22端口。使用p参数，可以修改这个端口。</font></div><div><br></div><div><pre class=\"highlight\"> <font size=\"3\">$ ssh -p 2222 user@host</font></pre><font face=\"Comic Sans MS\" size=\"3\"></font></div><div><font size=\"3\" face=\"Comic Sans MS\">上面这条命令表示，ssh直接连接远程主机的2222端口。</font></div><hr><div><font size=\"3\" face=\"Comic Sans MS\"><b>三、中间人攻击</b></font></div><div><font size=\"3\" face=\"Comic Sans MS\">SSH之所以能够保证安全，原因在于它采用了公钥加密。</font></div><div><font size=\"3\" face=\"Comic Sans MS\">整个过程是这样的：（1）远程主机收到用户的登录请求，把自己的公钥发给用户。（2）用户使用这个公钥，将登录密码加密后，发送回来。（3）远程主机用自己的私钥，解密登录密码，如果密码正确，就同意用户登录。</font></div><div><font size=\"3\" face=\"Comic Sans MS\">这个过程本身是安全的，但是实施的时候存在一个风险：如果有人截获了登录请求，然后冒充远程主机，将伪造的公钥发给用户，那么用户很难辨别真伪。因为不像https协议，SSH协议的公钥是没有证书中心（CA）公证的，也就是说，都是自己签发的。</font></div><div><font size=\"3\" face=\"Comic Sans MS\">可以设想，如果攻击者插在用户与远程主机之间（比如在公共的wifi区域），用伪造的公钥，获取用户的登录密码。再用这个密码登录远程主机，那么SSH的安全机制就荡然无存了。这种风险就是著名的\"中间人攻击\"（Man-in-the-middle attack）。</font></div><div><font size=\"3\" face=\"Comic Sans MS\">SSH协议是如何应对的呢？</font></div><div><font size=\"3\" face=\"Comic Sans MS\"><b>四、口令登录</b></font></div><div><font size=\"3\" face=\"Comic Sans MS\">如果你是第一次登录对方主机，系统会出现下面的提示：</font><span style=\"font-family: \'Comic Sans MS\'; font-size: medium; line-height: 1.5;\">　</span></div><pre class=\"highlight\"> <font size=\"3\">   $ ssh user@host\r\n　　The authenticity of host \'host (12.18.429.21)\' can\'t be established.\r\n　　RSA key fingerprint is 98:2e:d7:e0:de:9f:ac:67:28:c2:42:2d:37:16:58:4d.\r\n　　Are you sure you want to continue connecting (yes/no)?</font></pre><font face=\"Comic Sans MS\" size=\"3\"></font><div><font size=\"3\" face=\"Comic Sans MS\">这段话的意思是，无法确认host主机的真实性，只知道它的公钥指纹，问你还想继续连接吗？</font></div><div><font size=\"3\" face=\"Comic Sans MS\">所谓\"公钥指纹\"，是指公钥长度较长（这里采用RSA算法，长达1024位），很难比对，所以对其进行MD5计算，将它变成一个128位的指纹。上例中是98:2e:d7:e0:de:9f:ac:67:28:c2:42:2d:37:16:58:4d，再进行比较，就容易多了。</font></div><div><font size=\"3\" face=\"Comic Sans MS\">很自然的一个问题就是，用户怎么知道远程主机的公钥指纹应该是多少？回答是没有好办法，远程主机必须在自己的网站上贴出公钥指纹，以便用户自行核对。</font></div><div><font size=\"3\" face=\"Comic Sans MS\">假定经过风险衡量以后，用户决定接受这个远程主机的公钥。</font></div><pre class=\"highlight\"> <font size=\"3\">Are you sure you want to continue connecting (yes/no)? yes</font></pre><div><font size=\"3\" face=\"Comic Sans MS\">系统会出现一句提示，表示host主机已经得到认可。</font></div><pre class=\"highlight\"> <font size=\"3\">　Warning: Permanently added \'host,12.18.429.21\' (RSA) to the list of known hosts.</font></pre><font face=\"Comic Sans MS\" size=\"3\"></font><div><font size=\"3\" face=\"Comic Sans MS\">然后，会要求输入密码。</font></div><pre class=\"highlight\"> <font size=\"3\">Password: (enter password)</font></pre><font face=\"Comic Sans MS\" size=\"3\"></font><div><font size=\"3\" face=\"Comic Sans MS\">如果密码正确，就可以登录了。</font></div><div><font size=\"3\" face=\"Comic Sans MS\">当远程主机的公钥被接受以后，它就会被保存在文件$HOME/.ssh/known_hosts之中。下次再连接这台主机，系统就会认出它的公钥已经保存在本地了，从而跳过警告部分，直接提示输入密码。</font></div><div><font size=\"3\" face=\"Comic Sans MS\">每个SSH用户都有自己的known_hosts文件，此外系统也有一个这样的文件，通常是/etc/ssh/ssh_known_hosts，保存一些对所有用户都可信赖的远程主机的公钥。</font></div><div><font size=\"3\" face=\"Comic Sans MS\"><b>五、公钥登录</b></font></div><div><font size=\"3\" face=\"Comic Sans MS\">使用密码登录，每次都必须输入密码，非常麻烦。好在SSH还提供了公钥登录，可以省去输入密码的步骤。</font></div><div><font size=\"3\" face=\"Comic Sans MS\">所谓\"公钥登录\"，原理很简单，就是用户将自己的公钥储存在远程主机上。登录的时候，远程主机会向用户发送一段随机字符串，用户用自己的私钥加密后，再发回来。远程主机用事先储存的公钥进行解密，如果成功，就证明用户是可信的，直接允许登录shell，不再要求密码。</font></div><div><font size=\"3\" face=\"Comic Sans MS\">这种方法要求用户必须提供自己的公钥。如果没有现成的，可以直接用ssh-keygen生成一个：</font></div><div><pre class=\"highlight\"> <font size=\"3\">$ ssh-keygen</font></pre><font face=\"Comic Sans MS\" size=\"3\"></font></div><div><font size=\"3\" face=\"Comic Sans MS\">运行上面的命令以后，系统会出现一系列提示，可以一路回车。其中有一个问题是，要不要对私钥设置口令（passphrase），如果担心私钥的安全，这里可以设置一个。</font></div><div><font size=\"3\" face=\"Comic Sans MS\">运行结束以后，在$HOME/.ssh/目录下，会新生成两个文件：id_rsa.pub和id_rsa。前者是你的公钥，后者是你的私钥。</font></div><div><font size=\"3\" face=\"Comic Sans MS\">这时再输入下面的命令，将公钥传送到远程主机host上面：</font></div><pre class=\"highlight\"> <font size=\"3\">$ ssh-copy-id user@host</font></pre><font face=\"Comic Sans MS\" size=\"3\"></font><div><font size=\"3\" face=\"Comic Sans MS\">好了，从此你再登录，就不需要输入密码了。</font></div><div><font size=\"3\" face=\"Comic Sans MS\">如果还是不行，就打开远程主机的/etc/ssh/sshd_config这个文件，检查下面几行前面\"#\"注释是否取掉。</font></div><div><pre class=\"highlight\"><font size=\"3\">RSAAuthentication yes\r\nPubkeyAuthentication yes\r\nAuthorizedKeysFile .ssh/authorized_keys</font></pre><font face=\"Comic Sans MS\" size=\"3\"></font></div><div><font size=\"3\" face=\"Comic Sans MS\">然后，重启远程主机的ssh服务。</font></div><pre class=\"highlight\"> <font size=\"3\">    // ubuntu系统\r\n　　service ssh restart\r\n　　// debian系统\r\n　　/etc/init.d/ssh restart</font></pre><font face=\"Comic Sans MS\" size=\"3\"></font><div><font size=\"3\" face=\"Comic Sans MS\"><b>六、authorized_keys文件</b></font></div><div><font size=\"3\" face=\"Comic Sans MS\">远程主机将用户的公钥，保存在登录后的用户主目录的$HOME/.ssh/authorized_keys文件中。公钥就是一段字符串，只要把它追加在authorized_keys文件的末尾就行了。</font></div><div><font size=\"3\" face=\"Comic Sans MS\">这里不使用上面的ssh-copy-id命令，改用下面的命令，解释公钥的保存过程：</font></div><pre class=\"highlight\"> <font size=\"3\">$ ssh user@host \'mkdir -p .ssh &amp;&amp; cat &gt;&gt; .ssh/authorized_keys\' &lt; ~/.ssh/id_rsa.pub</font></pre><font face=\"Comic Sans MS\" size=\"3\"></font><div><font size=\"3\" face=\"Comic Sans MS\">这条命令由多个语句组成，依次分解开来看：（1）\"$ ssh user@host\"，表示登录远程主机；（2）单引号中的mkdir .ssh &amp;&amp; cat &gt;&gt; .ssh/authorized_keys，表示登录后在远程shell上执行的命令：（3）\"$ mkdir -p .ssh\"的作用是，如果用户主目录中的.ssh目录不存在，就创建一个；（4）\'cat &gt;&gt; .ssh/authorized_keys\' &lt; ~/.ssh/id_rsa.pub的作用是，将本地的公钥文件~/.ssh/id_rsa.pub，重定向追加到远程文件authorized_keys的末尾。</font></div><div><font size=\"3\" face=\"Comic Sans MS\">写入authorized_keys文件后，公钥登录的设置就完成了。</font></div><div><font size=\"3\" face=\"Comic Sans MS\"><div><b>七、远程操作</b></div><div>SSH不仅可以用于远程主机登录，还可以直接在远程主机上执行操作。</div></font><pre class=\"highlight\"> <font size=\"3\">$ ssh user@host \'mkdir -p .ssh &amp;&amp; cat &gt;&gt; .ssh/authorized_keys\' &lt; ~/.ssh/id_rsa.pub</font></pre><font face=\"Comic Sans MS\" size=\"3\"></font><font size=\"3\" face=\"Comic Sans MS\"><div>单引号中间的部分，表示在远程主机上执行的操作；后面的输入重定向，表示数据通过SSH传向远程主机。</div><div>这就是说，SSH可以在用户和远程主机之间，建立命令和数据的传输通道，因此很多事情都可以通过SSH来完成。</div><div>下面看几个例子。</div><div>【例1】</div><div>将$HOME/src/目录下面的所有文件，复制到远程主机的$HOME/src/目录。</div></font><pre class=\"highlight\"> <font size=\"3\">$ cd &amp;&amp; tar czv src | ssh user@host \'tar xz\'</font></pre><font face=\"Comic Sans MS\" size=\"3\"></font><font size=\"3\" face=\"Comic Sans MS\"><div>【例2】</div><div>将远程主机$HOME/src/目录下面的所有文件，复制到用户的当前目录。</div></font><pre class=\"highlight\"> <font size=\"3\">$ ssh user@host \'ps ax | grep [h]ttpd\'</font></pre><font face=\"Comic Sans MS\" size=\"3\"></font><font size=\"3\" face=\"Comic Sans MS\"><div>【例3】</div><div>查看远程主机是否运行进程httpd。</div></font><pre class=\"highlight\"> <font size=\"3\">　$ ssh user@host \'tar cz src\' | tar xzv</font></pre><font face=\"Comic Sans MS\" size=\"3\"></font><font size=\"3\" face=\"Comic Sans MS\"><div><b>八、绑定本地端口</b></div><div>既然SSH可以传送数据，那么我们可以让那些不加密的网络连接，全部改走SSH连接，从而提高安全性。</div><div>假定我们要让8080端口的数据，都通过SSH传向远程主机，命令就这样写：</div></font><pre class=\"highlight\"> <font size=\"3\">$ ssh -D 8080 user@host</font></pre><font face=\"Comic Sans MS\" size=\"3\"></font><font size=\"3\" face=\"Comic Sans MS\"><div>SSH会建立一个socket，去监听本地的8080端口。一旦有数据传向那个端口，就自动把它转移到SSH连接上面，发往远程主机。可以想象，如果8080端口原来是一个不加密端口，现在将变成一个加密端口。</div><div><b>九、本地端口转发</b></div><div>有时，绑定本地端口还不够，还必须指定数据传送的目标主机，从而形成点对点的\"端口转发\"。为了区别后文的\"远程端口转发\"，我们把这种情况称为\"本地端口转发\"（Local forwarding）。</div><div>假定host1是本地主机，host2是远程主机。由于种种原因，这两台主机之间无法连通。但是，另外还有一台host3，可以同时连通前面两台主机。因此，很自然的想法就是，通过host3，将host1连上host2。</div><div>我们在host1执行下面的命令：</div></font><pre class=\"highlight\"> <font size=\"3\">$ ssh -L 2121:host2:21 host3</font></pre><font face=\"Comic Sans MS\" size=\"3\"></font><font size=\"3\" face=\"Comic Sans MS\"><div>命令中的L参数一共接受三个值，分别是\"本地端口:目标主机:目标主机端口\"，它们之间用冒号分隔。这条命令的意思，就是指定SSH绑定本地端口2121，然后指定host3将所有的数据，转发到目标主机host2的21端口（假定host2运行FTP，默认端口为21）。</div><div>这样一来，我们只要连接host1的2121端口，就等于连上了host2的21端口。</div></font><pre class=\"highlight\"> <font size=\"3\">$ ftp localhost:2121</font></pre><font face=\"Comic Sans MS\" size=\"3\"></font><font size=\"3\" face=\"Comic Sans MS\"><div>\"本地端口转发\"使得host1和host3之间仿佛形成一个数据传输的秘密隧道，因此又被称为\"SSH隧道\"。</div><div><b>十、远程端口转发</b></div><div>既然\"本地端口转发\"是指绑定本地端口的转发，那么\"远程端口转发\"（remote forwarding）当然是指绑定远程端口的转发。</div><div>还是接着看上面那个例子，host1与host2之间无法连通，必须借助host3转发。但是，特殊情况出现了，host3是一台内网机器，它可以连接外网的host1，但是反过来就不行，外网的host1连不上内网的host3。这时，\"本地端口转发\"就不能用了，怎么办？</div><div>解决办法是，既然host3可以连host1，那么就从host3上建立与host1的SSH连接，然后在host1上使用这条连接就可以了。</div><div>我们在host3执行下面的命令：</div></font><pre class=\"highlight\"> <font size=\"3\">$ ssh -R 2121:host2:21 host1</font></pre><font face=\"Comic Sans MS\" size=\"3\"></font><font size=\"3\" face=\"Comic Sans MS\"><div>R参数也是接受三个值，分别是\"远程主机端口:目标主机:目标主机端口\"。这条命令的意思，就是让host1监听它自己的2121端口，然后将所有数据经由host3，转发到host2的21端口。由于对于host3来说，host1是远程主机，所以这种情况就被称为\"远程端口绑定\"。</div><div>绑定之后，我们在host1就可以连接host2了：<span style=\"line-height: 1.5;\">　</span></div></font><pre class=\"highlight\"> <font size=\"3\">$ ftp localhost:2121</font></pre><font face=\"Comic Sans MS\" size=\"3\"></font><font size=\"3\" face=\"Comic Sans MS\"><div>这里必须指出，\"远程端口转发\"的前提条件是，host1和host3两台主机都有sshD和ssh客户端。</div><div><b>十一、SSH的其他参数</b></div><div>SSH还有一些别的参数，也值得介绍。</div><div>N参数，表示只连接远程主机，不打开远程shell；T参数，表示不为这个连接分配TTY。这个两个参数可以放在一起用，代表这个SSH连接只用来传数据，不执行远程操作。</div></font><pre class=\"highlight\"> <font size=\"3\">$ ssh -NT -D 8080 host</font></pre><font face=\"Comic Sans MS\" size=\"3\"></font><font size=\"3\" face=\"Comic Sans MS\"><div>f参数，表示SSH连接成功后，转入后台运行。这样一来，你就可以在不中断SSH连接的情况下，在本地shell中执行其他操作。</div><div><pre class=\"highlight\"> <font size=\"3\">$ ssh -f -D 8080 host</font></pre><font face=\"Comic Sans MS\" size=\"3\"></font></div><div>要关闭这个后台连接，就只有用kill命令去杀掉进程。</div></font></div>',1,0,'',3,'',1419941267,1403082825),(65,8,'','PHP 5.5 on CentOS/RHEL 6.5 and 5.10 via Yum','YUM, CENTOS, PHP 5.5',191,'<p style=\"border: 0px; margin-bottom: 24px; padding: 0px; vertical-align: baseline; color: rgb(51, 51, 51); font-family: Georgia, \'Bitstream Charter\', serif; font-size: 16px; line-height: 24px;\">PHP 5.5.14 has been released on PHP.net on 26th June 2014, and is also available for CentOS/RHEL 5.10 and 6.5 at Webtatic via Yum.</p><p style=\"border: 0px; margin-bottom: 24px; padding: 0px; vertical-align: baseline; color: rgb(51, 51, 51); font-family: Georgia, \'Bitstream Charter\', serif; font-size: 16px; line-height: 24px;\"><span id=\"more-336\" style=\"background-color: transparent; border: 0px; margin: 0px; padding: 0px; vertical-align: baseline; background-position: initial initial; background-repeat: initial initial;\"></span></p><p style=\"border: 0px; margin-bottom: 24px; padding: 0px; vertical-align: baseline; color: rgb(51, 51, 51); font-family: Georgia, \'Bitstream Charter\', serif; font-size: 16px; line-height: 24px;\">PHP 5.5 adds new features such as:</p><ul style=\"border: 0px; margin-bottom: 24px; margin-left: 1.5em; vertical-align: baseline; list-style: square; color: rgb(51, 51, 51); font-family: Georgia, \'Bitstream Charter\', serif; font-size: 16px; line-height: 24px;\"><li style=\"background-color: transparent; border: 0px; margin: 0px; padding: 0px; vertical-align: baseline; background-position: initial initial; background-repeat: initial initial;\">Zend Optimizer+ opcode cache included, now known as opcache extension</li><li style=\"background-color: transparent; border: 0px; margin: 0px; padding: 0px; vertical-align: baseline; background-position: initial initial; background-repeat: initial initial;\">Generators</li><li style=\"background-color: transparent; border: 0px; margin: 0px; padding: 0px; vertical-align: baseline; background-position: initial initial; background-repeat: initial initial;\">try { } finally { }</li><li style=\"background-color: transparent; border: 0px; margin: 0px; padding: 0px; vertical-align: baseline; background-position: initial initial; background-repeat: initial initial;\">Literal dereferencing for arrays and strings</li><li style=\"background-color: transparent; border: 0px; margin: 0px; padding: 0px; vertical-align: baseline; background-position: initial initial; background-repeat: initial initial;\">Array return value de-referencing</li><li style=\"background-color: transparent; border: 0px; margin: 0px; padding: 0px; vertical-align: baseline; background-position: initial initial; background-repeat: initial initial;\">Class name resolution</li><li style=\"background-color: transparent; border: 0px; margin: 0px; padding: 0px; vertical-align: baseline; background-position: initial initial; background-repeat: initial initial;\">Password hashing API</li><li style=\"background-color: transparent; border: 0px; margin: 0px; padding: 0px; vertical-align: baseline; background-position: initial initial; background-repeat: initial initial;\">and much more</li></ul><p style=\"border: 0px; margin-bottom: 24px; padding: 0px; vertical-align: baseline; color: rgb(51, 51, 51); font-family: Georgia, \'Bitstream Charter\', serif; font-size: 16px; line-height: 24px;\">To see what else has been added, check out the&nbsp;<a href=\"http://php.net/manual/en/migration55.changes.php\" style=\"background-color: transparent; border: 0px; margin: 0px; padding: 0px; vertical-align: baseline; color: rgb(116, 51, 153); background-position: initial initial; background-repeat: initial initial;\">What has changed in PHP 5.5.x</a>.</p><p style=\"border: 0px; margin-bottom: 24px; padding: 0px; vertical-align: baseline; color: rgb(51, 51, 51); font-family: Georgia, \'Bitstream Charter\', serif; font-size: 16px; line-height: 24px;\">To install, first you must add the Webtatic EL yum repository information corresponding to your CentOS/RHEL version to yum:</p><p style=\"border: 0px; margin-bottom: 24px; padding: 0px; vertical-align: baseline; color: rgb(51, 51, 51); font-family: Georgia, \'Bitstream Charter\', serif; font-size: 16px; line-height: 24px;\">CentOS/RHEL 6.x:</p><hr><pre class=\"highlight\"> <font size=\"3\">rpm -Uvh http://mirror.webtatic.com/yum/el6/latest.rpm</font></pre><p style=\"border: 0px; margin-bottom: 24px; padding: 0px; vertical-align: baseline; color: rgb(51, 51, 51); font-family: Georgia, \'Bitstream Charter\', serif; font-size: 16px; line-height: 24px;\">CentOS/RHEL 5.x:</p><pre class=\"highlight\"> <font size=\"3\">rpm -Uvh http://mirror.webtatic.com/yum/el5/latest.rpm</font></pre><p style=\"border: 0px; margin-bottom: 24px; padding: 0px; vertical-align: baseline; color: rgb(51, 51, 51); font-family: Georgia, \'Bitstream Charter\', serif; font-size: 16px; line-height: 24px;\">Now you can install PHP 5.5 (along with an opcode cache) by doing:</p><pre class=\"highlight\"> <font size=\"3\">yum install php55w php55w-opcache</font></pre><p style=\"margin-bottom: 24px; border: 0px; padding: 0px; vertical-align: baseline; color: rgb(51, 51, 51); font-family: Georgia, \'Bitstream Charter\', serif; font-size: 16px; line-height: 24px;\">If you would like to upgrade php to this version it is recommended that you first check that your system will support the upgrade, e.g. making sure any CPanel-like software can run after the upgrade.<br></p><p style=\"border: 0px; margin-bottom: 24px; padding: 0px; vertical-align: baseline; color: rgb(51, 51, 51); font-family: Georgia, \'Bitstream Charter\', serif; font-size: 16px; line-height: 24px;\">Unless you know what you are doing, it is risky upgrading an existing system. It’s much safer to do this by provisioning a separate server to perform the upgrade as a fresh install instead.</p><p style=\"border: 0px; margin-bottom: 24px; padding: 0px; vertical-align: baseline; color: rgb(51, 51, 51); font-family: Georgia, \'Bitstream Charter\', serif; font-size: 16px; line-height: 24px;\">If you know what you are doing, you can upgrade PHP by:</p><p style=\"border: 0px; margin-bottom: 24px; padding: 0px; vertical-align: baseline; color: rgb(51, 51, 51); font-family: Georgia, \'Bitstream Charter\', serif; font-size: 16px; line-height: 24px;\"><br></p><pre class=\"highlight\"><font size=\"3\">yum install yum-plugin-replace\r\n \r\nyum replace php-common --replace-with=php55w-common</font></pre><p style=\"border: 0px; margin-bottom: 24px; padding: 0px; vertical-align: baseline; color: rgb(51, 51, 51); font-family: Georgia, \'Bitstream Charter\', serif; font-size: 16px; line-height: 24px;\"><br></p><p style=\"border: 0px; margin-bottom: 24px; padding: 0px; vertical-align: baseline; color: rgb(51, 51, 51); font-family: Georgia, \'Bitstream Charter\', serif; font-size: 16px; line-height: 24px;\">It will likely give you a message “WARNING: Unable to resolve all providers …”. This is normal, and you can continue by tying “y<enter>“. You will be given a chance to see what packages will be installed and removed before again being given a chance to confirm.</enter></p><h3 style=\"border: 0px; margin: 0px 0px 20px; padding: 0px; vertical-align: baseline; clear: both; color: rgb(0, 0, 0); line-height: 1.5em; font-family: Georgia, \'Bitstream Charter\', serif;\">Packages</h3><table style=\"background-color: rgb(255, 255, 255); border: 1px solid rgb(231, 231, 231); margin: 0px -1px 24px 0px; padding: 0px; vertical-align: baseline; width: 639px; color: rgb(51, 51, 51); font-family: Georgia, \'Bitstream Charter\', serif; font-size: 16px; line-height: 24px;\"><tbody style=\"background-color: transparent; border: 0px; margin: 0px; padding: 0px; vertical-align: baseline; background-position: initial initial; background-repeat: initial initial;\"><tr style=\"background-color: transparent; border: 0px; margin: 0px; padding: 0px; vertical-align: baseline; background-position: initial initial; background-repeat: initial initial;\"><th style=\"background-color: transparent; border: 0px; margin: 0px; padding: 9px 24px; vertical-align: baseline; font-family: \'Helvetica Neue\', Arial, Helvetica, \'Nimbus Sans L\', sans-serif; color: rgb(119, 119, 119); font-size: 12px; line-height: 18px;\">Package</th><th style=\"background-color: transparent; border: 0px; margin: 0px; padding: 9px 24px; vertical-align: baseline; font-family: \'Helvetica Neue\', Arial, Helvetica, \'Nimbus Sans L\', sans-serif; color: rgb(119, 119, 119); font-size: 12px; line-height: 18px;\">Provides</th></tr><tr style=\"background-color: transparent; border: 0px; margin: 0px; padding: 0px; vertical-align: baseline; background-position: initial initial; background-repeat: initial initial;\"><td style=\"background-color: transparent; border-width: 1px 0px 0px; border-top-style: solid; border-top-color: rgb(231, 231, 231); margin: 0px; padding: 6px 24px; vertical-align: baseline; background-position: initial initial; background-repeat: initial initial;\">php55w</td><td style=\"background-color: transparent; border-width: 1px 0px 0px; border-top-style: solid; border-top-color: rgb(231, 231, 231); margin: 0px; padding: 6px 24px; vertical-align: baseline; background-position: initial initial; background-repeat: initial initial;\">mod_php, php55w-zts</td></tr><tr style=\"background-color: transparent; border: 0px; margin: 0px; padding: 0px; vertical-align: baseline; background-position: initial initial; background-repeat: initial initial;\"><td style=\"background-color: transparent; border-width: 1px 0px 0px; border-top-style: solid; border-top-color: rgb(231, 231, 231); margin: 0px; padding: 6px 24px; vertical-align: baseline; background-position: initial initial; background-repeat: initial initial;\">php55w-bcmath</td><td style=\"background-color: transparent; border-width: 1px 0px 0px; border-top-style: solid; border-top-color: rgb(231, 231, 231); margin: 0px; padding: 6px 24px; vertical-align: baseline; background-position: initial initial; background-repeat: initial initial;\"></td></tr><tr style=\"background-color: transparent; border: 0px; margin: 0px; padding: 0px; vertical-align: baseline; background-position: initial initial; background-repeat: initial initial;\"><td style=\"background-color: transparent; border-width: 1px 0px 0px; border-top-style: solid; border-top-color: rgb(231, 231, 231); margin: 0px; padding: 6px 24px; vertical-align: baseline; background-position: initial initial; background-repeat: initial initial;\">php55w-cli</td><td style=\"background-color: transparent; border-width: 1px 0px 0px; border-top-style: solid; border-top-color: rgb(231, 231, 231); margin: 0px; padding: 6px 24px; vertical-align: baseline; background-position: initial initial; background-repeat: initial initial;\">php-cgi, php-pcntl, php-readline</td></tr><tr style=\"background-color: transparent; border: 0px; margin: 0px; padding: 0px; vertical-align: baseline; background-position: initial initial; background-repeat: initial initial;\"><td style=\"background-color: transparent; border-width: 1px 0px 0px; border-top-style: solid; border-top-color: rgb(231, 231, 231); margin: 0px; padding: 6px 24px; vertical-align: baseline; background-position: initial initial; background-repeat: initial initial;\">php55w-common</td><td style=\"background-color: transparent; border-width: 1px 0px 0px; border-top-style: solid; border-top-color: rgb(231, 231, 231); margin: 0px; padding: 6px 24px; vertical-align: baseline; background-position: initial initial; background-repeat: initial initial;\">php-api, php-bz2, php-calendar, php-ctype, php-curl, php-date, php-exif, php-fileinfo, php-ftp, php-gettext, php-gmp, php-hash, php-iconv, php-json, php-libxml, php-openssl, php-pcre, php-pecl-Fileinfo, php-pecl-phar, php-pecl-zip, php-reflection, php-session, php-shmop, php-simplexml, php-sockets, php-spl, php-tokenizer, php-zend-abi, php-zip, php-zlib</td></tr><tr style=\"background-color: transparent; border: 0px; margin: 0px; padding: 0px; vertical-align: baseline; background-position: initial initial; background-repeat: initial initial;\"><td style=\"background-color: transparent; border-width: 1px 0px 0px; border-top-style: solid; border-top-color: rgb(231, 231, 231); margin: 0px; padding: 6px 24px; vertical-align: baseline; background-position: initial initial; background-repeat: initial initial;\">php55w-dba</td><td style=\"background-color: transparent; border-width: 1px 0px 0px; border-top-style: solid; border-top-color: rgb(231, 231, 231); margin: 0px; padding: 6px 24px; vertical-align: baseline; background-position: initial initial; background-repeat: initial initial;\"></td></tr><tr style=\"background-color: transparent; border: 0px; margin: 0px; padding: 0px; vertical-align: baseline; background-position: initial initial; background-repeat: initial initial;\"><td style=\"background-color: transparent; border-width: 1px 0px 0px; border-top-style: solid; border-top-color: rgb(231, 231, 231); margin: 0px; padding: 6px 24px; vertical-align: baseline; background-position: initial initial; background-repeat: initial initial;\">php55w-devel</td><td style=\"background-color: transparent; border-width: 1px 0px 0px; border-top-style: solid; border-top-color: rgb(231, 231, 231); margin: 0px; padding: 6px 24px; vertical-align: baseline; background-position: initial initial; background-repeat: initial initial;\"></td></tr><tr style=\"background-color: transparent; border: 0px; margin: 0px; padding: 0px; vertical-align: baseline; background-position: initial initial; background-repeat: initial initial;\"><td style=\"background-color: transparent; border-width: 1px 0px 0px; border-top-style: solid; border-top-color: rgb(231, 231, 231); margin: 0px; padding: 6px 24px; vertical-align: baseline; background-position: initial initial; background-repeat: initial initial;\">php55w-embedded</td><td style=\"background-color: transparent; border-width: 1px 0px 0px; border-top-style: solid; border-top-color: rgb(231, 231, 231); margin: 0px; padding: 6px 24px; vertical-align: baseline; background-position: initial initial; background-repeat: initial initial;\">php-embedded-devel</td></tr><tr style=\"background-color: transparent; border: 0px; margin: 0px; padding: 0px; vertical-align: baseline; background-position: initial initial; background-repeat: initial initial;\"><td style=\"background-color: transparent; border-width: 1px 0px 0px; border-top-style: solid; border-top-color: rgb(231, 231, 231); margin: 0px; padding: 6px 24px; vertical-align: baseline; background-position: initial initial; background-repeat: initial initial;\">php55w-enchant</td><td style=\"background-color: transparent; border-width: 1px 0px 0px; border-top-style: solid; border-top-color: rgb(231, 231, 231); margin: 0px; padding: 6px 24px; vertical-align: baseline; background-position: initial initial; background-repeat: initial initial;\"></td></tr><tr style=\"background-color: transparent; border: 0px; margin: 0px; padding: 0px; vertical-align: baseline; background-position: initial initial; background-repeat: initial initial;\"><td style=\"background-color: transparent; border-width: 1px 0px 0px; border-top-style: solid; border-top-color: rgb(231, 231, 231); margin: 0px; padding: 6px 24px; vertical-align: baseline; background-position: initial initial; background-repeat: initial initial;\">php55w-fpm</td><td style=\"background-color: transparent; border-width: 1px 0px 0px; border-top-style: solid; border-top-color: rgb(231, 231, 231); margin: 0px; padding: 6px 24px; vertical-align: baseline; background-position: initial initial; background-repeat: initial initial;\"></td></tr><tr style=\"background-color: transparent; border: 0px; margin: 0px; padding: 0px; vertical-align: baseline; background-position: initial initial; background-repeat: initial initial;\"><td style=\"background-color: transparent; border-width: 1px 0px 0px; border-top-style: solid; border-top-color: rgb(231, 231, 231); margin: 0px; padding: 6px 24px; vertical-align: baseline; background-position: initial initial; background-repeat: initial initial;\">php55w-gd</td><td style=\"background-color: transparent; border-width: 1px 0px 0px; border-top-style: solid; border-top-color: rgb(231, 231, 231); margin: 0px; padding: 6px 24px; vertical-align: baseline; background-position: initial initial; background-repeat: initial initial;\"></td></tr><tr style=\"background-color: transparent; border: 0px; margin: 0px; padding: 0px; vertical-align: baseline; background-position: initial initial; background-repeat: initial initial;\"><td style=\"background-color: transparent; border-width: 1px 0px 0px; border-top-style: solid; border-top-color: rgb(231, 231, 231); margin: 0px; padding: 6px 24px; vertical-align: baseline; background-position: initial initial; background-repeat: initial initial;\">php55w-imap</td><td style=\"background-color: transparent; border-width: 1px 0px 0px; border-top-style: solid; border-top-color: rgb(231, 231, 231); margin: 0px; padding: 6px 24px; vertical-align: baseline; background-position: initial initial; background-repeat: initial initial;\"></td></tr><tr style=\"background-color: transparent; border: 0px; margin: 0px; padding: 0px; vertical-align: baseline; background-position: initial initial; background-repeat: initial initial;\"><td style=\"background-color: transparent; border-width: 1px 0px 0px; border-top-style: solid; border-top-color: rgb(231, 231, 231); margin: 0px; padding: 6px 24px; vertical-align: baseline; background-position: initial initial; background-repeat: initial initial;\">php55w-interbase</td><td style=\"background-color: transparent; border-width: 1px 0px 0px; border-top-style: solid; border-top-color: rgb(231, 231, 231); margin: 0px; padding: 6px 24px; vertical-align: baseline; background-position: initial initial; background-repeat: initial initial;\">php_database, php-firebird</td></tr><tr style=\"background-color: transparent; border: 0px; margin: 0px; padding: 0px; vertical-align: baseline; background-position: initial initial; background-repeat: initial initial;\"><td style=\"background-color: transparent; border-width: 1px 0px 0px; border-top-style: solid; border-top-color: rgb(231, 231, 231); margin: 0px; padding: 6px 24px; vertical-align: baseline; background-position: initial initial; background-repeat: initial initial;\">php55w-intl</td><td style=\"background-color: transparent; border-width: 1px 0px 0px; border-top-style: solid; border-top-color: rgb(231, 231, 231); margin: 0px; padding: 6px 24px; vertical-align: baseline; background-position: initial initial; background-repeat: initial initial;\"></td></tr><tr style=\"background-color: transparent; border: 0px; margin: 0px; padding: 0px; vertical-align: baseline; background-position: initial initial; background-repeat: initial initial;\"><td style=\"background-color: transparent; border-width: 1px 0px 0px; border-top-style: solid; border-top-color: rgb(231, 231, 231); margin: 0px; padding: 6px 24px; vertical-align: baseline; background-position: initial initial; background-repeat: initial initial;\">php55w-ldap</td><td style=\"background-color: transparent; border-width: 1px 0px 0px; border-top-style: solid; border-top-color: rgb(231, 231, 231); margin: 0px; padding: 6px 24px; vertical-align: baseline; background-position: initial initial; background-repeat: initial initial;\"></td></tr><tr style=\"background-color: transparent; border: 0px; margin: 0px; padding: 0px; vertical-align: baseline; background-position: initial initial; background-repeat: initial initial;\"><td style=\"background-color: transparent; border-width: 1px 0px 0px; border-top-style: solid; border-top-color: rgb(231, 231, 231); margin: 0px; padding: 6px 24px; vertical-align: baseline; background-position: initial initial; background-repeat: initial initial;\">php55w-mbstring</td><td style=\"background-color: transparent; border-width: 1px 0px 0px; border-top-style: solid; border-top-color: rgb(231, 231, 231); margin: 0px; padding: 6px 24px; vertical-align: baseline; background-position: initial initial; background-repeat: initial initial;\"></td></tr><tr style=\"background-color: transparent; border: 0px; margin: 0px; padding: 0px; vertical-align: baseline; background-position: initial initial; background-repeat: initial initial;\"><td style=\"background-color: transparent; border-width: 1px 0px 0px; border-top-style: solid; border-top-color: rgb(231, 231, 231); margin: 0px; padding: 6px 24px; vertical-align: baseline; background-position: initial initial; background-repeat: initial initial;\">php55w-mcrypt</td><td style=\"background-color: transparent; border-width: 1px 0px 0px; border-top-style: solid; border-top-color: rgb(231, 231, 231); margin: 0px; padding: 6px 24px; vertical-align: baseline; background-position: initial initial; background-repeat: initial initial;\"></td></tr><tr style=\"background-color: transparent; border: 0px; margin: 0px; padding: 0px; vertical-align: baseline; background-position: initial initial; background-repeat: initial initial;\"><td style=\"background-color: transparent; border-width: 1px 0px 0px; border-top-style: solid; border-top-color: rgb(231, 231, 231); margin: 0px; padding: 6px 24px; vertical-align: baseline; background-position: initial initial; background-repeat: initial initial;\">php55w-mssql</td><td style=\"background-color: transparent; border-width: 1px 0px 0px; border-top-style: solid; border-top-color: rgb(231, 231, 231); margin: 0px; padding: 6px 24px; vertical-align: baseline; background-position: initial initial; background-repeat: initial initial;\"></td></tr><tr style=\"background-color: transparent; border: 0px; margin: 0px; padding: 0px; vertical-align: baseline; background-position: initial initial; background-repeat: initial initial;\"><td style=\"background-color: transparent; border-width: 1px 0px 0px; border-top-style: solid; border-top-color: rgb(231, 231, 231); margin: 0px; padding: 6px 24px; vertical-align: baseline; background-position: initial initial; background-repeat: initial initial;\">php55w-mysql</td><td style=\"background-color: transparent; border-width: 1px 0px 0px; border-top-style: solid; border-top-color: rgb(231, 231, 231); margin: 0px; padding: 6px 24px; vertical-align: baseline; background-position: initial initial; background-repeat: initial initial;\">php-mysqli, php_database</td></tr><tr style=\"background-color: transparent; border: 0px; margin: 0px; padding: 0px; vertical-align: baseline; background-position: initial initial; background-repeat: initial initial;\"><td style=\"background-color: transparent; border-width: 1px 0px 0px; border-top-style: solid; border-top-color: rgb(231, 231, 231); margin: 0px; padding: 6px 24px; vertical-align: baseline; background-position: initial initial; background-repeat: initial initial;\">php55w-mysqlnd</td><td style=\"background-color: transparent; border-width: 1px 0px 0px; border-top-style: solid; border-top-color: rgb(231, 231, 231); margin: 0px; padding: 6px 24px; vertical-align: baseline; background-position: initial initial; background-repeat: initial initial;\">php-mysqli, php_database</td></tr><tr style=\"background-color: transparent; border: 0px; margin: 0px; padding: 0px; vertical-align: baseline; background-position: initial initial; background-repeat: initial initial;\"><td style=\"background-color: transparent; border-width: 1px 0px 0px; border-top-style: solid; border-top-color: rgb(231, 231, 231); margin: 0px; padding: 6px 24px; vertical-align: baseline; background-position: initial initial; background-repeat: initial initial;\">php55w-odbc</td><td style=\"background-color: transparent; border-width: 1px 0px 0px; border-top-style: solid; border-top-color: rgb(231, 231, 231); margin: 0px; padding: 6px 24px; vertical-align: baseline; background-position: initial initial; background-repeat: initial initial;\">php-pdo_odbc, php_database</td></tr><tr style=\"background-color: transparent; border: 0px; margin: 0px; padding: 0px; vertical-align: baseline; background-position: initial initial; background-repeat: initial initial;\"><td style=\"background-color: transparent; border-width: 1px 0px 0px; border-top-style: solid; border-top-color: rgb(231, 231, 231); margin: 0px; padding: 6px 24px; vertical-align: baseline; background-position: initial initial; background-repeat: initial initial;\">php55w-opcache</td><td style=\"background-color: transparent; border-width: 1px 0px 0px; border-top-style: solid; border-top-color: rgb(231, 231, 231); margin: 0px; padding: 6px 24px; vertical-align: baseline; background-position: initial initial; background-repeat: initial initial;\">php55w-pecl-zendopcache</td></tr><tr style=\"background-color: transparent; border: 0px; margin: 0px; padding: 0px; vertical-align: baseline; background-position: initial initial; background-repeat: initial initial;\"><td style=\"background-color: transparent; border-width: 1px 0px 0px; border-top-style: solid; border-top-color: rgb(231, 231, 231); margin: 0px; padding: 6px 24px; vertical-align: baseline; background-position: initial initial; background-repeat: initial initial;\">php55w-pdo</td><td style=\"background-color: transparent; border-width: 1px 0px 0px; border-top-style: solid; border-top-color: rgb(231, 231, 231); margin: 0px; padding: 6px 24px; vertical-align: baseline; background-position: initial initial; background-repeat: initial initial;\"></td></tr><tr style=\"background-color: transparent; border: 0px; margin: 0px; padding: 0px; vertical-align: baseline; background-position: initial initial; background-repeat: initial initial;\"><td style=\"background-color: transparent; border-width: 1px 0px 0px; border-top-style: solid; border-top-color: rgb(231, 231, 231); margin: 0px; padding: 6px 24px; vertical-align: baseline; background-position: initial initial; background-repeat: initial initial;\">php55w-pecl-memcache</td><td style=\"background-color: transparent; border-width: 1px 0px 0px; border-top-style: solid; border-top-color: rgb(231, 231, 231); margin: 0px; padding: 6px 24px; vertical-align: baseline; background-position: initial initial; background-repeat: initial initial;\"></td></tr><tr style=\"background-color: transparent; border: 0px; margin: 0px; padding: 0px; vertical-align: baseline; background-position: initial initial; background-repeat: initial initial;\"><td style=\"background-color: transparent; border-width: 1px 0px 0px; border-top-style: solid; border-top-color: rgb(231, 231, 231); margin: 0px; padding: 6px 24px; vertical-align: baseline; background-position: initial initial; background-repeat: initial initial;\">php55w-pecl-xdebug</td><td style=\"background-color: transparent; border-width: 1px 0px 0px; border-top-style: solid; border-top-color: rgb(231, 231, 231); margin: 0px; padding: 6px 24px; vertical-align: baseline; background-position: initial initial; background-repeat: initial initial;\"></td></tr><tr style=\"background-color: transparent; border: 0px; margin: 0px; padding: 0px; vertical-align: baseline; background-position: initial initial; background-repeat: initial initial;\"><td style=\"background-color: transparent; border-width: 1px 0px 0px; border-top-style: solid; border-top-color: rgb(231, 231, 231); margin: 0px; padding: 6px 24px; vertical-align: baseline; background-position: initial initial; background-repeat: initial initial;\">php55w-pgsql</td><td style=\"background-color: transparent; border-width: 1px 0px 0px; border-top-style: solid; border-top-color: rgb(231, 231, 231); margin: 0px; padding: 6px 24px; vertical-align: baseline; background-position: initial initial; background-repeat: initial initial;\">php-pdo_pgsql, php_database</td></tr><tr style=\"background-color: transparent; border: 0px; margin: 0px; padding: 0px; vertical-align: baseline; background-position: initial initial; background-repeat: initial initial;\"><td style=\"background-color: transparent; border-width: 1px 0px 0px; border-top-style: solid; border-top-color: rgb(231, 231, 231); margin: 0px; padding: 6px 24px; vertical-align: baseline; background-position: initial initial; background-repeat: initial initial;\">php55w-process</td><td style=\"background-color: transparent; border-width: 1px 0px 0px; border-top-style: solid; border-top-color: rgb(231, 231, 231); margin: 0px; padding: 6px 24px; vertical-align: baseline; background-position: initial initial; background-repeat: initial initial;\">php-posix, php-sysvmsg, php-sysvsem, php-sysvshm</td></tr><tr style=\"background-color: transparent; border: 0px; margin: 0px; padding: 0px; vertical-align: baseline; background-position: initial initial; background-repeat: initial initial;\"><td style=\"background-color: transparent; border-width: 1px 0px 0px; border-top-style: solid; border-top-color: rgb(231, 231, 231); margin: 0px; padding: 6px 24px; vertical-align: baseline; background-position: initial initial; background-repeat: initial initial;\">php55w-pspell</td><td style=\"background-color: transparent; border-width: 1px 0px 0px; border-top-style: solid; border-top-color: rgb(231, 231, 231); margin: 0px; padding: 6px 24px; vertical-align: baseline; background-position: initial initial; background-repeat: initial initial;\"></td></tr><tr style=\"background-color: transparent; border: 0px; margin: 0px; padding: 0px; vertical-align: baseline; background-position: initial initial; background-repeat: initial initial;\"><td style=\"background-color: transparent; border-width: 1px 0px 0px; border-top-style: solid; border-top-color: rgb(231, 231, 231); margin: 0px; padding: 6px 24px; vertical-align: baseline; background-position: initial initial; background-repeat: initial initial;\">php55w-recode</td><td style=\"background-color: transparent; border-width: 1px 0px 0px; border-top-style: solid; border-top-color: rgb(231, 231, 231); margin: 0px; padding: 6px 24px; vertical-align: baseline; background-position: initial initial; background-repeat: initial initial;\"></td></tr><tr style=\"background-color: transparent; border: 0px; margin: 0px; padding: 0px; vertical-align: baseline; background-position: initial initial; background-repeat: initial initial;\"><td style=\"background-color: transparent; border-width: 1px 0px 0px; border-top-style: solid; border-top-color: rgb(231, 231, 231); margin: 0px; padding: 6px 24px; vertical-align: baseline; background-position: initial initial; background-repeat: initial initial;\">php55w-snmp</td><td style=\"background-color: transparent; border-width: 1px 0px 0px; border-top-style: solid; border-top-color: rgb(231, 231, 231); margin: 0px; padding: 6px 24px; vertical-align: baseline; background-position: initial initial; background-repeat: initial initial;\"></td></tr><tr style=\"background-color: transparent; border: 0px; margin: 0px; padding: 0px; vertical-align: baseline; background-position: initial initial; background-repeat: initial initial;\"><td style=\"background-color: transparent; border-width: 1px 0px 0px; border-top-style: solid; border-top-color: rgb(231, 231, 231); margin: 0px; padding: 6px 24px; vertical-align: baseline; background-position: initial initial; background-repeat: initial initial;\">php55w-soap</td><td style=\"background-color: transparent; border-width: 1px 0px 0px; border-top-style: solid; border-top-color: rgb(231, 231, 231); margin: 0px; padding: 6px 24px; vertical-align: baseline; background-position: initial initial; background-repeat: initial initial;\"></td></tr><tr style=\"background-color: transparent; border: 0px; margin: 0px; padding: 0px; vertical-align: baseline; background-position: initial initial; background-repeat: initial initial;\"><td style=\"background-color: transparent; border-width: 1px 0px 0px; border-top-style: solid; border-top-color: rgb(231, 231, 231); margin: 0px; padding: 6px 24px; vertical-align: baseline; background-position: initial initial; background-repeat: initial initial;\">php55w-tidy</td><td style=\"background-color: transparent; border-width: 1px 0px 0px; border-top-style: solid; border-top-color: rgb(231, 231, 231); margin: 0px; padding: 6px 24px; vertical-align: baseline; background-position: initial initial; background-repeat: initial initial;\"></td></tr><tr style=\"background-color: transparent; border: 0px; margin: 0px; padding: 0px; vertical-align: baseline; background-position: initial initial; background-repeat: initial initial;\"><td style=\"background-color: transparent; border-width: 1px 0px 0px; border-top-style: solid; border-top-color: rgb(231, 231, 231); margin: 0px; padding: 6px 24px; vertical-align: baseline; background-position: initial initial; background-repeat: initial initial;\">php55w-xml</td><td style=\"background-color: transparent; border-width: 1px 0px 0px; border-top-style: solid; border-top-color: rgb(231, 231, 231); margin: 0px; padding: 6px 24px; vertical-align: baseline; background-position: initial initial; background-repeat: initial initial;\">php-dom, php-domxml, php-wddx, php-xsl</td></tr><tr style=\"background-color: transparent; border: 0px; margin: 0px; padding: 0px; vertical-align: baseline; background-position: initial initial; background-repeat: initial initial;\"><td style=\"background-color: transparent; border-width: 1px 0px 0px; border-top-style: solid; border-top-color: rgb(231, 231, 231); margin: 0px; padding: 6px 24px; vertical-align: baseline; background-position: initial initial; background-repeat: initial initial;\">php55w-xmlrpc</td><td style=\"background-color: transparent; border-width: 1px 0px 0px; border-top-style: solid; border-top-color: rgb(231, 231, 231); margin: 0px; padding: 6px 24px; vertical-align: baseline; background-position: initial initial; background-repeat: initial initial;\"></td></tr></tbody></table><h3 style=\"border: 0px; margin: 0px 0px 20px; padding: 0px; vertical-align: baseline; clear: both; color: rgb(0, 0, 0); line-height: 1.5em; font-family: Georgia, \'Bitstream Charter\', serif;\">Opcode Caches</h3><p style=\"border: 0px; margin-bottom: 24px; padding: 0px; vertical-align: baseline; color: rgb(51, 51, 51); font-family: Georgia, \'Bitstream Charter\', serif; font-size: 16px; line-height: 24px;\">The PHP distribution now comes with an opcode cache. This is the Zend Optimizer+ opcode cache, now known as the Zend OPcache extension. This extension is optional, so does not preclude you from using an alternate one. APC has been less maintained in recent years, so not as suitable (however it did also have a very convenient in-process user-cache which will be missed).</p><p style=\"border: 0px; margin-bottom: 24px; padding: 0px; vertical-align: baseline; color: rgb(51, 51, 51); font-family: Georgia, \'Bitstream Charter\', serif; font-size: 16px; line-height: 24px;\">Due to it being included in the PHP source distribution, it will be well maintained and more suitable for use while other Opcode cache’s are being updated over the coming months.</p><p style=\"border: 0px; margin-bottom: 24px; padding: 0px; vertical-align: baseline; color: rgb(51, 51, 51); font-family: Georgia, \'Bitstream Charter\', serif; font-size: 16px; line-height: 24px;\"><font face=\"Comic Sans MS\" size=\"3\" style=\"box-sizing: border-box; color: rgb(57, 57, 57); font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px;\"></font></p><pre class=\"highlight\" style=\"box-sizing: border-box; font-family: Monaco, Menlo, Consolas, \'Courier New\', monospace; font-size: 13px; white-space: pre-wrap; display: block; padding: 9.5px; margin: 0px 0px 10px; line-height: 1.428571429; color: rgb(51, 51, 51); word-break: break-all; word-wrap: break-word; background-color: rgb(245, 245, 245); border: 1px solid rgb(204, 204, 204); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px;\"> <font size=\"3\" style=\"box-sizing: border-box;\">yum install php55w-opcache</font></pre><p style=\"border: 0px; margin-bottom: 24px; padding: 0px; vertical-align: baseline; color: rgb(51, 51, 51); font-family: Georgia, \'Bitstream Charter\', serif; font-size: 16px; line-height: 24px;\">Webtatic will investigate the stability of APC for PHP 5.5, but cannot guarantee it stable enough to be included in the Yum repository.</p><h3 style=\"border: 0px; margin: 0px 0px 20px; padding: 0px; vertical-align: baseline; clear: both; color: rgb(0, 0, 0); line-height: 1.5em; font-family: Georgia, \'Bitstream Charter\', serif;\">error_reporting E_ALL now includes E_STRICT</h3><p style=\"border: 0px; margin-bottom: 24px; padding: 0px; vertical-align: baseline; color: rgb(51, 51, 51); font-family: Georgia, \'Bitstream Charter\', serif; font-size: 16px; line-height: 24px;\">As mentioned in the PHP 5.4 guide:</p><p style=\"border: 0px; margin-bottom: 24px; padding: 0px; vertical-align: baseline; color: rgb(51, 51, 51); font-family: Georgia, \'Bitstream Charter\', serif; font-size: 16px; line-height: 24px;\">You may get a lot more errors coming out of your error logs if by default your error_reporting is set to E_ALL now without explicitly turning off E_STRICT. The default php.ini that comes with the PHP package turns this off by default, but if you are upgrading from an existing installation, your php.ini may not be updated, meaning this will likely be turned on.</p>',1,0,'',3,'',1419941212,1404757043),(66,8,'','ubuntu安装启动redis','redis',248,'<font face=\"Comic Sans MS\" size=\"3\"><font size=\"5\"><b>前言</b></font><br>　　　linux下安装一个软件有很多种方法，源码编译安装是一直很简单易用的方法。但是要把编译后的程序作为一个系统服务，按照统一的惯例弄好启动脚本和开机启动就有一定难度，本文将如何在ubuntu下编译redis并且弄好启动脚本。<br><br><b><font size=\"5\">正文</font></b><br></font><h3><font face=\"Comic Sans MS\" size=\"3\"><b>1、下载安装</b></font></h3><pre class=\"highlight\"><font face=\"Comic Sans MS\" size=\"3\">wget download.redis.io/releases/redis-2.8.11.tar.gz\r\ntar zxvf redis-2.8.11.tar.gz\r\ncd redis-2.8.11\r\nmake &amp;&amp; sudo make install</font></pre><font face=\"Comic Sans MS\" size=\"3\">　　这时Redis 的可执行文件被放到了/usr/local/bin</font><hr><h3><b><font face=\"Comic Sans MS\" size=\"3\">2、下载配置文件和init启动脚本</font></b></h3><pre class=\"highlight\"><font face=\"Comic Sans MS\" size=\"3\">wget https://github.com/ijonas/dotfiles/raw/master/etc/init.d/redis-server\r\nwget https://github.com/ijonas/dotfiles/raw/master/etc/redis.conf\r\nsudo mv redis-server /etc/init.d/redis-server\r\nsudo chmod +x /etc/init.d/redis-server\r\nsudo mv redis.conf /etc/redis.conf</font></pre><h3><b><font face=\"Comic Sans MS\" size=\"3\">3、初始化用户和日志路径</font></b></h3><p><font face=\"Comic Sans MS\" size=\"3\">第一次启动Redis前，建议为Redis单独建立一个用户，并新建data和日志文件夹</font></p><font face=\"Comic Sans MS\" size=\"3\">\r\n</font><pre class=\"highlight\"><font face=\"Comic Sans MS\" size=\"3\"> sudo useradd redis\r\nsudo mkdir -p /var/lib/redis\r\nsudo mkdir -p /var/log/redis\r\nsudo chown redis.redis /var/lib/redis\r\nsudo chown redis.redis /var/log/redis</font></pre><h3><b><font face=\"Comic Sans MS\" size=\"3\">4、设置开机自动启动，关机自动关闭</font></b></h3><pre class=\"highlight\"><font face=\"Comic Sans MS\" size=\"3\"> sudo update-rc.d redis-server defaults</font></pre><h3><b><font face=\"Comic Sans MS\" size=\"3\">5、启动Redis：</font></b></h3><pre class=\"highlight\"><font face=\"Comic Sans MS\" size=\"3\"> sudo /etc/init.d/redis-server start</font></pre><h3><b><font face=\"Comic Sans MS\" size=\"3\">6、启动client客户端连接:</font></b></h3><pre class=\"highlight\"><font face=\"Comic Sans MS\" size=\"3\"> $ redis-cli\r\nredis&gt; set foo test\r\nOK\r\nredis&gt; get foo\r\n\"test\"</font></pre><font face=\"Comic Sans MS\" size=\"3\">好好享受一下redis带来的牛叉，附安装php redis</font><br><br><pre class=\"highlight\"><font size=\"3\">apacal@apacal:~/src/redis-2.8.11$ sudo apt-cache search redis | grep php\r\n[sudo] password for apacal: \r\nphp5-redis - PHP extension for interfacing with Redis\r\napacal@apacal:~/src/redis-2.8.11$ sudo apt-get install php5-redis<font face=\"Comic Sans MS\"><br></font></font></pre><font face=\"Comic Sans MS\" size=\"3\">安装完重启一下php，我的重启方法是，kill php进程，在/etc/init.d/php-fpm start<br><br></font>',1,0,'',3,'',1419941178,1404796207),(67,1,'','Linux中Latex中文完美教程','Latex，中文',306,'<font face=\"Comic Sans MS\" size=\"5\"><b>前言</b></font><br><font size=\"3\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Latex是一个很Perfect的排版软件，特别是对于数学符号和程序代码语法高亮的支持更是让人欲罢不能，但是它对中文的支持不是很好，特别是中文的目录，比较好的方案是使用xelatex,如果不需要中文目录，可以使用CJK包，具体可以参照我的另外一篇博客<font face=\"Comic Sans MS\"><a href=\"http://apacal.cn/article/29.html\">ubuntu LaTeX中文</a><br></font><font face=\"Comic Sans MS\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 这里我们主要要使用到Latex的自动目录，但是一般来说中文目录都会乱码，网上一般有两种解决方案，</font>一种是使用gbk2uni交叉编译，因为我们编写中文使用gbk，但是目录必须要utf8的，所以使用gbk2uni交错编译，具体就是使用latex 编译，再使用gbk2uni处理，再使用latex编译，最后使用dvipdfm 处理．还有一种方法是使用Xelatex<br><br><font size=\"5\"><b>正文</b></font><br>先来介绍一点Latex的知识．．．<br><b>1、latex、tex、xelatex、xetex的关系</b></font><font size=\"3\">　</font><hr><font size=\"3\"><br>　　<font face=\"Comic Sans MS\">ΤΕΧ（TeX）是由著名的计算机科学家Donald E. Knuth（高德纳）发明的排版系统，利用TeX可以很容易地生成高质量的dvi文件，打印输出。基于宏的流行的文本格式化程序 （它是包括LaTeX和teTeX在内的其它此类格式化程序的基础）</font></font><br><br><font size=\"3\">&nbsp; 　LaTeX 是TeX 中的一种格式(format) ，是建立在TeX 基础上的宏语言，也就是说，每一个LaTeX 命令实际上最后都会被转换解释成几个甚至上百个TeX 命令。但是，普通用户可以无需知道这中间的复杂联系。就象编程的时候如果使用一些已经编译好的函数库和模板可以使我们仅仅用几个命令就实现很多功能一样，LaTeX 根据人们排版文章的习惯，定义了许多命令和模板，通过这些命令和模板，我们可以很快的得到漂亮的排版结果。<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; XeTeX（/ˈziːtɛx/或/ˈziːtɛk/[1]）是一种使用Unicode的TeX排版引擎，并支持一些现代字体技术，例如OpenType。其作者和维护者是Jonathan Kew，并以X11自由软件许可证发布。它原生的支持Unicode，并默认其输入文件为UTF-8编码。XeTeX可以在不进行额外配置的情况下直接使用操作系统中安装的字体，因此可以直接利用OpenType，Graphite中的高级特性，例如额外的字形，花体，合字，可变的文本粗细等等。<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; XeLaTeX是使用LaTeX的排版引擎，也有上述XeTeX的优点，命令下直接使用xelatex ***.tex就会产生对应的PDF文件。<br><br><br><b>2、LaTeX和＂所见即所得＂排版工具的比较：</b><br><br>优点：<br><font color=\"#4986e7\">*提供专业级的排版设计,使你的文档开起来如同印刷好的一样。<br>*可以更方便地排版数学公式。<br>*用户仅仅需要掌握少数容易理解的,用来说明文档之逻辑结构的命令,而无须对实际的页面设计做胡乱的修补。<br>*可以很容易的生成脚注、索引、目录和参考文献等复杂的结构。<br>&nbsp;*有大量免费地可添加宏集,协助你完成许多基本的 LATEX 未直接支持的排版任务。例如,支持在文档中插入 PostScript 图形的宏集和排版符合各类标准的参考文献的宏集,www.linuxidc.com 等等。The LATEX Companion [3]中给出了大量的宏集说明。<br>*LATEX 鼓励作者写作具有良好结构的文章,因为 L TEX就是通过详细地说明文章的结构来进行其排版工作的。<br>*TEX 作为 LATEX 的格式化引擎是免费软件,且具有极高的可移植性。因此,他几乎可以在任何硬件平台上运行。</font><br><br>缺点：<br><br><font color=\"#9fc6e7\"><font color=\"#a47ae2\">*对于出卖其灵魂的人来说,LATEX 不能很好的工作。<br>* 尽管在预先定义好的版面中可以调节一些参数,设计全新的版面还是很困难的,需要耗费大量的时间 。<br>*LATEX 不适合于排版非结构化的、无序的文档。<br>*即使有一个令人振奋的开始,但你也有可能无法完全掌握其精髓。</font><br></font><br>下面讲如何在ubuntu下安装Xelatex<br></font><br><ul><li><span style=\"font-size: 18px;\">安装texlive（如果空间足够，最好装完整版）之后安装xelatex</span></li></ul>\r\n<div class=\"cnblogs_code\">\r\n<pre><span style=\"font-size: 18px;\"><span style=\"color: #0000ff;\">sudo</span> apt-get <span style=\"color: #0000ff;\">install</span> texlive-xetex</span></pre>\r\n</div><br><ul><li><span style=\"font-size: 18px;\">apt-cache search cjk，找到相关宏包，安装</span></li></ul>\r\n<div class=\"cnblogs_code\">\r\n<pre><span style=\"font-size: 18px;\"><span style=\"color: #0000ff;\">sudo</span> apt-get <span style=\"color: #0000ff;\">install</span> latex-cjk-xcjk cjk-latex latex-cjk-chinese</span></pre>\r\n</div>\r\n<ul><li><span style=\"font-size: 18px;\">安装喜欢的中文字体</span></li></ul>\r\n<div class=\"cnblogs_code\">\r\n<pre><span style=\"font-size: 18px;\"><span style=\"color: #0000ff;\">sudo</span> apt-get <span style=\"color: #0000ff;\">install</span> xfonts-wqy ttf-wqy-microhei ttf-wqy-zenhei</span></pre>\r\n</div>\r\n<ul><li><span style=\"font-size: 18px;\">安装英文字体</span></li></ul>\r\n<div class=\"cnblogs_code\">\r\n<pre><span style=\"font-size: 18px;\">#~ sudo apt-cache search <span style=\"color: #800000;\">\'</span><span style=\"color: #800000;\">courier new</span><span style=\"color: #800000;\">\'</span><span style=\"color: #000000;\">\r\nttf</span>-mscorefonts-installer - Installer <span style=\"color: #0000ff;\">for</span><span style=\"color: #000000;\"> Microsoft TrueType core fonts\r\n</span></span><span style=\"font-size: 18px;\"><span style=\"color: #000000;\"><span style=\"font-size: 18px;\">fonts-croscore - width-compatible fonts for improved on-screen readability<span style=\"color: #800000;\"></span></span>\r\n#</span>~ <span style=\"color: #0000ff;\">sudo</span> apt-get <span style=\"color: #0000ff;\">install</span> ttf-mscorefonts-installer </span><span style=\"font-size: 18px;\"><span style=\"color: #000000;\"><span style=\"font-size: 18px;\">fonts-croscore</span></span></span></pre>\r\n</div>\r\n<p><span style=\"font-size: 18px;\">用fc-list查看已安装的所有字体，用fc-cache刷新字体缓存,可以看看<a href=\"http://linux-wiki.cn/wiki/zh-hans/LaTeX%E4%B8%AD%E6%96%87%E6%8E%92%E7%89%88%EF%BC%88%E4%BD%BF%E7%94%A8XeTeX%EF%BC%89\">LINUX-wiki</a></span></p><font size=\"3\">安装好可以使用下面的例子来使用LATEX,使用xelatex编译．生成的目录也是中文的．</font><font face=\"Comic Sans MS\" size=\"3\">                </font><pre class=\"highlight\"><font size=\"3\">\\documentclass[14pt,a4paper,oneside]{book}\r\n\\usepackage[BoldFont,SlantFont,CJKchecksingle]{xeCJK}\r\n\\setCJKmainfont{WenQuanYi Micro Hei} % 设置缺省中文字体\r\n\\XeTeXlinebreaklocale \"zh\"\r\n\\XeTeXlinebreakskip = 0pt plus 1pt minus 0.1pt\r\n\\setcounter{secnumdepth}{4}\r\n\r\n\\usepackage{times}\r\n\\usepackage{datetime}\r\n\\usepackage{graphicx}\r\n\\usepackage{float}\r\n\\usepackage{xcolor}\r\n\\usepackage{color}\r\n\\usepackage[top=0.8in,bottom=0.8in,left=1.2in,right=0.6in]{geometry}\r\n\r\n\r\n\\usepackage{listings}\r\n\\lstset{\r\n  escapeinside=``,\r\n  language=[ANSI]c++,\r\n  showspaces=false,  % 显示空格\r\n  showstringspaces=false,  % 字符串中显示空格\r\n  basicstyle=\\small,\r\n  numbers=left,\r\n  keywordstyle=\\color{blue},\r\n  numberstyle={\\tiny\\color{lightgray}},\r\n  stepnumber=1, %行号会逐行往上递增\r\n  numbersep=5pt,\r\n  commentstyle=\\small\\color{red},\r\n  backgroundcolor=\\color[rgb]{0.95,1.0,1.0},\r\n  showspaces=false,\r\n  showtabs=false,\r\n  frame=shadowbox, framexleftmargin=5mm, rulesepcolor=\\color{red!20!green!20!blue!20!},\r\n% frame=single,\r\n%  TABframe=single,\r\n  tabsize=4,\r\n  breaklines=tr,\r\n  extendedchars=false %这一条命令可以解决代码跨页时，章节标题，页眉等汉字不显示的问题\r\n}\r\n\r\n\r\n\r\n\\usepackage[\r\n        pdfstartview=FitH,\r\n        CJKbookmarks,\r\n        bookmarksnumbered,\r\n        bookmarksopen]{hyperref}\r\n\\hypersetup{colorlinks,\r\n        linkcolor=black,\r\n        filecolor=black,\r\n        urlcolor=blue,\r\n        citecolor=black,\r\n        pdfproducer={ps2pdf} }  \r\n%如果没有这行将显示当前时间\r\n\r\n%如果不想显示时间则使用 \\date{}\r\n\r\n%以上部分叫做\"导言区\",下面才开始写正文\r\n\r\n\\begin{document}\r\n\r\n\r\n\\title{网络编程实验报告书}\r\n\r\n\\author{钟庆柱@Apacal}\r\n\r\n\r\n\\renewcommand{\\contentsname}{目录}&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%&nbsp;将Contents改为目录&nbsp;\r\n\r\n\\maketitle % 生成标题\r\n\\thispagestyle{empty} % 页眉页脚\r\n\\tableofcontents % 插入目录\r\n\\thispagestyle{empty} % 无页眉页脚\r\n\r\n\r\n%******************************\r\n% section1\r\n%******************************\r\n\\newpage\r\n\\setcounter{page}{1}    % 页码从新开始\r\n\r\n\r\n\\chapter{正文}\r\n\\section{实验环境}\r\n\r\n\r\n1.操作系统:Ubuntu 12.04 \r\n\\begin{lstlisting}\r\nLinux apacal.cn 3.2.0-60-generic #91-Ubuntu SMP Wed Feb 19 03:54:44 UTC 2014 x86_64 x86_64 x86_64 GNU/Linux\r\nUbuntu 12.04.4 LTS \\n \\l\r\n\\end{lstlisting}\r\n\r\n2.系统环境:PHP 5.5.12, PHP REDIS,  NGINX 1.1.19, REDIS 2.8.11\r\n\r\nPHP:\r\n\\begin{lstlisting}\r\nPHP 5.5.12-2+deb.sury.org~precise+1 (cli) (built: May 12 2014 13:46:35) \r\nCopyright (c) 1997-2014 The PHP Group\r\n\r\n\\end{lstlisting}\r\n\r\nPHP REDIS:\r\n\\begin{lstlisting}\r\nPHP Redis Version 	2.2.5 \r\n\\end{lstlisting}\r\n\r\nNGINX:\r\n\\begin{lstlisting}\r\nnginx version: nginx/1.1.19\r\n\\end{lstlisting}\r\n\r\nREDIS:\r\n\\begin{lstlisting}\r\nRedis server v=2.8.11 sha=00000000:0 malloc=jemalloc-3.2.0 bits=64 build=105d88e60cddd697\r\n\\end{lstlisting}\r\n\r\nNGINX, PHP, PHP REDIS, REDIS是必须的，REDIS作为数据库，PHP详细的环境信息可以看\\href{http://ex.apacal.cn/info.php}{http://ex.apacal.cn/info.php}\r\n\\section{实验目标}\r\n\r\n本实验通过对一个投票系统的投票过程数据的传递的分析，了解http协议的传输过程，其传输了那些内容，并学会使用CURL去伪装一个HTTP链接，使服务器分辨不出来，进而对投票系统进行程序投票。\r\n\r\n\r\n\\section{实验设计}\r\n\r\n1.准备一个投票系统（本实验的投票系统地址为\\href{http://ex.apacal.cn/ex2}{http://ex.apacal.cn/ex2}）\r\n\r\n2.使用wireshark抓取投票过程的数据包传递，分析投票是传递了那些数据给服务器。\r\n\r\n3.根据wireshark的结果，使用CURL(PHP CURL)伪装http连接，进行投票。\r\n\r\n\r\n\\section{实验步骤}\r\n\r\n\\subsection{准备投票系统}\r\n使用REDIS储存投票的票数，在inc.php初始化redis连接，在index.php中处理投票逻辑和显示结果\r\n\r\ninc.php:\r\n\\begin{lstlisting}\r\n&lt;?php\r\n$redis = new Redis();\r\nif (!$redis-&gt;connect(\'127.0.0.1\', 6379)) {\r\n    die(\"can not connect redis!\");\r\n}\r\n\r\n\\end{lstlisting}\r\nindex.php:\r\n\\begin{lstlisting}\r\n&lt;?php\r\nrequire_once(\"../inc.php\");\r\nif (isset($_GET[\'vote\']) &amp;&amp; !empty($vote = $_GET[\'vote\'])) {\r\n    $tag = \'ex2\\_vote\' .$vote .\'_count\';\r\n    $redis-&gt;incr($tag);\r\n    header(\"location:./\");\r\n}\r\n\r\n$vote1Count = $redis-&gt;get(\'ex2_vote1_count\');\r\n$vote2Count = $redis-&gt;get(\'ex2_vote2_count\');\r\n\r\n?&gt;\r\n&lt;/html&gt;\r\n    &lt;head&gt;\r\n        &lt;title&gt;TCP_IP ex2&lt;/title&gt;\r\n    &lt;/head&gt;\r\n    &lt;body&gt;\r\n    \r\n        &lt;form name=\"input\" method=\"get\" action=\"\"&gt;\r\n            apacal is a bad  man: &amp;nbsp; &lt;b&gt;&lt;?php echo $vote1Count ?&gt;&lt;/b&gt;\r\n            &lt;input type=\"radio\" name=\"vote\" value=\"1\"&gt;\r\n            &lt;br /&gt;\r\n            apacal is a  good man: &lt;b&gt;&lt;?php echo $vote2Count ?&gt;&lt;/b&gt;\r\n            &lt;input type=\"radio\" name=\"vote\" value=\"2\"&gt;\r\n            &lt;br /&gt;\r\n            &lt;input type =\"submit\" value =\"Submit\" /&gt;\r\n        &lt;/form&gt;\r\n    &lt;/body&gt;\r\n\r\n&lt;/html&gt;\r\n\r\n\\end{lstlisting}\r\n\r\n用浏览器访问\\href{http://ex.apacal.cn/ex2/}{http://ex.apacal.cn/ex2/}就可以投票了.\r\n\r\n\r\n\\subsection{wireshark分析数据}\r\n使用wireshark对投票过程的数据进行抓包。主要对http头部进行分析\r\n\\newline\r\n\\newline\r\n\\includegraphics[width=\\textwidth]{./image/ex2.png}\r\n\\newline\r\n从wiresharke中找到，浏览器发送给服务器的数据包，进而进行分析http头部\r\n\\newline\r\n\\newline\r\n请求的http头部为：\r\n\\begin{lstlisting}\r\nGET /ex2/?vote=1 HTTP/1.1\r\nHost: ex.apacal.cn\r\nUser-Agent: Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:28.0) Gecko/20100101 Firefox/28.0\r\nAccept: text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8\r\nAccept-Language: en-US,en;q=0.5\r\nAccept-Encoding: gzip, deflate\r\nReferer: http://ex.apacal.cn/ex2/\r\nConnection: keep-alive\r\n\r\n\\end{lstlisting}\r\n从http头部可以看到，浏览器使用GET的方式去请求\\href{http://ex.apacal.cn/ex2/?vote=1}{http://ex.apacal.cn/ex2/?vote=1}，这样就完成了一个投票过成。\r\n\r\n\\section{使用PHP CURL伪装投票}\r\n\r\n\r\n\r\n\r\n\\begin{flushright}\r\n@author Apacal\\\\\r\n\\today\r\n\\end{flushright}\r\n\r\n\r\n\\end{document}\r\n</font></pre><font size=\"3\"><font face=\"Comic Sans MS\">也可以使用CJK宏包，但是中文目录是乱码了，如下：<br><br></font></font><pre class=\"highlight\"><font size=\"3\">\\documentclass[14pt,a4paper,oneside]{book}\r\n\\usepackage{shorttoc}\r\n\\usepackage{CJKutf8}\r\n\\usepackage{indentfirst}\r\n\r\n\\setcounter{secnumdepth}{4}\r\n\\usepackage{float}\r\n\\usepackage{xcolor}\r\n\\usepackage{color}\r\n\\usepackage[top=0.8in,bottom=0.8in,left=1.2in,right=0.6in]{geometry}\r\n\\usepackage{listings}\r\n\\lstset{\r\n  escapeinside=``,\r\n  language=[ANSI]c++,\r\n  showspaces=false,  % 显示空格\r\n  showstringspaces=false,  % 字符串中显示空格\r\n  basicstyle=\\small,\r\n  numbers=left,\r\n  keywordstyle=\\color{blue},\r\n  numberstyle={\\tiny\\color{lightgray}},\r\n  stepnumber=1, %行号会逐行往上递增\r\n  numbersep=5pt,\r\n  commentstyle=\\small\\color{red},\r\n  backgroundcolor=\\color[rgb]{0.95,1.0,1.0},\r\n  showspaces=false,\r\n  showtabs=false,\r\n  frame=shadowbox, framexleftmargin=5mm, rulesepcolor=\\color{red!20!green!20!blue!20!},\r\n% frame=single,\r\n%  TABframe=single,\r\n  tabsize=4,\r\n  breaklines=tr,\r\n  extendedchars=false %这一条命令可以解决代码跨页时，章节标题，页眉等汉字不显示的问题\r\n}\r\n\r\n\r\n\\usepackage[\r\n            pdftex,\r\n            pdfstartview=FitH,\r\n            CJKbookmarks=true,\r\n            bookmarksnumbered=true,\r\n            bookmarksopen=true,\r\n            unicode=true,\r\n            colorlinks=true, %注释掉此项则交叉引用为彩色边框(将colorlinks和pdfborder同时注释掉)\r\n            %pdfborder=001,   %注释掉此项则交叉引用为彩色边框\r\n            citecolor=magenta,% magenta , cyan\r\n            linkcolor=blue,\r\n            linktocpage=true,\r\n            ]{hyperref}       % hyperref 宏包通常要求放在导言区的最后!!!\r\n\\hypersetup{colorlinks,\r\n        linkcolor=black,\r\n        filecolor=black,\r\n        urlcolor=blue,\r\n        citecolor=black,\r\n        pdfproducer={ps2pdf}}  \r\n%如果没有这行将显示当前时间\r\n\r\n%如果不想显示时间则使用 \\date{}\r\n\r\n%以上部分叫做\"导言区\",下面才开始写正文\r\n\r\n\r\n\\begin{document}\r\n\r\n\\begin{CJK}{UTF8}{gkai}　\r\n\r\n\\title{网络编程实验报告书}\r\n\r\n\\author{钟庆柱@Apacal}\r\n\r\n\r\n\r\n\r\n\\maketitle % 生成标题\r\n\\thispagestyle{empty} % 页眉页脚\r\n\r\n\\shorttableofcontents{目录}{4}\r\n\r\n%******************************\r\n% section1\r\n%******************************\r\n\\newpage\r\n\\setcounter{page}{1}    % 页码从新开始\r\n\\chapter{实验概述}\r\n\\section{实验说明}\r\n%原格式输出\r\n\\begin{verbatim}  \r\n实验目的： \r\n本实验通过阅读给定C++代码，完成以下任务：\r\n1. 查找出其中的错误并予以改正\r\n2. 对于正确的代码，分析其时间复杂度\r\n3. 对于各个类及其公开函数给出使用的规格说明 4. 设法改进各个类及其公开函数的实现的可能的改进\r\n\r\n实验目标：\r\n1. 编制阅读计划，包括进度表、参考资料等\r\n2. 编制测试计划，包括测试方法、测试数据准备等\r\n3. 编制勘误表\r\n4. 编制功能说明书和时间复杂度分析\r\n5. 改写代码使之自文档化\r\n6. 编制各个类的使用说明书，包括各个类及其公开函数的规格说明、测试例程、测试数据和输出结果\r\n7. 总结\r\n\r\n要求：\r\n1. 最终必须提交包含上述各项要求的《实验报告书》一册\r\n2. 《实验报告书》必须使用 LaTeX 编制脚本并编译成 PDF 格式 \r\n\r\n最后完成日期：\r\n2014年1月6日\r\n\r\n\\end{verbatim}\r\n\r\n\\section{任务计划}\r\n\r\n\r\n\\begin{tabular}{|p{150pt}|p{150pt}|}\r\n\\hline\r\n时间    &amp;   任务 \\\\\r\n\\hline\r\n2013.12.1-2013.1.2      &amp;   阅读代码和测试 \\\\\r\n\\hline\r\n2013.1.3-2013.1.6       &amp;   编写报告书\\\\\r\n\\hline\r\n\\end{tabular}\r\n\r\n\r\n\\begin{flushright}\r\n@author Apacal\r\n\r\nSun Dec 29 21:02:06 HKT 2013\r\n\\end{flushright}\r\n\\pagebreak[4]\r\n\r\n\\clearpage\r\n\r\n\\newpage\r\n\r\n\\newpage\r\n\\end{CJK}\r\n\r\n\r\n\\end{document}\r\n</font></pre><br><font size=\"3\"><font face=\"Comic Sans MS\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 总的来说，还是使用xelatex比较方便．</font></font><br>',1,0,'',3,'',1419941155,1404921867),(69,2,'','九个PHP中很有用的功能','PHP',219,'\r\n<font face=\"Comic Sans MS\" size=\"3\">下面是九个PHP中很有用的功能，不知道你用过了吗？<br><b>&nbsp;1. 函数的任意数目的参数\r\n</b><br>&nbsp;　　你可能知道PHP允许你定义一个默认参数的函数。但你可能并不知道PHP还允许你定义一个完全任意的参数的函数\r\n\r\n下面是一个示例向你展示了默认参数的函数：\r\n</font><pre><font face=\"Comic Sans MS\" size=\"3\">// 两个默认参数的函数\r\nfunction foo($arg1 = \'\', $arg2 = \'\') {\r\n \r\n    echo \"arg1: $arg1\\n\";\r\n    echo \"arg2: $arg2\\n\";\r\n \r\n}\r\n \r\nfoo(\'hello\',\'world\');\r\n/* 输出:\r\narg1: hello\r\narg2: world\r\n*/\r\n \r\nfoo();\r\n/* 输出:\r\narg1:\r\narg2:\r\n*/\r\n</font></pre><font face=\"Comic Sans MS\" size=\"3\">\r\n现在我们来看一看一个不定参数的函数，其使用到了?func_get_args()方法：</font><hr><pre><font face=\"Comic Sans MS\" size=\"3\">// 是的，形参列表为空\r\nfunction foo() {\r\n \r\n    // 取得所有的传入参数的数组\r\n    $args = func_get_args();\r\n \r\n    foreach ($args as $k =&gt; $v) {\r\n        echo \"arg\".($k+1).\": $v\\n\";\r\n    }\r\n \r\n}\r\n \r\nfoo();\r\n/* 什么也不会输出 */\r\n \r\nfoo(\'hello\');\r\n/* 输出\r\narg1: hello\r\n*/\r\n \r\nfoo(\'hello\', \'world\', \'again\');\r\n/* 输出\r\narg1: hello\r\narg2: world\r\narg3: again\r\n*/\r\n</font></pre><font face=\"Comic Sans MS\" size=\"3\">\r\n<b>2. 使用 Glob() 查找文件</b>\r\n\r\n<br>　　很多PHP的函数都有一个比较长的自解释的函数名，但是，当你看到glob() 的时候，你可能并不知道这个函数是用来干什么的，除非你对它已经很熟悉了。\r\n\r\n你可以认为这个函数就好scandir() 一样，其可以用来查找文件。\r\n</font><pre><font face=\"Comic Sans MS\" size=\"3\">// 取得所有的后缀为PHP的文件\r\n$files = glob(\'*.php\');\r\n \r\nprint_r($files);\r\n/* 输出:\r\nArray\r\n(\r\n    [0] =&gt; phptest.php\r\n    [1] =&gt; pi.php\r\n    [2] =&gt; post_output.php\r\n    [3] =&gt; test.php\r\n)\r\n*/\r\n</font></pre><font face=\"Comic Sans MS\" size=\"3\">\r\n你还可以查找多种后缀名\r\n</font><pre><font face=\"Comic Sans MS\" size=\"3\">// 取PHP文件和TXT文件\r\n$files = glob(\'*.{php,txt}\', GLOB_BRACE);\r\n \r\nprint_r($files);\r\n/* 输出:\r\nArray\r\n(\r\n    [0] =&gt; phptest.php\r\n    [1] =&gt; pi.php\r\n    [2] =&gt; post_output.php\r\n    [3] =&gt; test.php\r\n    [4] =&gt; log.txt\r\n    [5] =&gt; test.txt\r\n)\r\n*/\r\n</font></pre><font face=\"Comic Sans MS\" size=\"3\">\r\n你还可以加上路径：\r\n</font><pre><font face=\"Comic Sans MS\" size=\"3\">$files = glob(\'../images/a*.jpg\');\r\n \r\nprint_r($files);\r\n/* 输出:\r\nArray\r\n(\r\n    [0] =&gt; ../images/apple.jpg\r\n    [1] =&gt; ../images/art.jpg\r\n)\r\n*/\r\n</font></pre><font face=\"Comic Sans MS\" size=\"3\">\r\n如果你想得到绝对路径，你可以调用?realpath() 函数：\r\n</font><pre><font face=\"Comic Sans MS\" size=\"3\">$files = glob(\'../images/a*.jpg\');\r\n \r\n// applies the function to each array element\r\n$files = array_map(\'realpath\',$files);\r\n \r\nprint_r($files);\r\n/* output looks like:\r\nArray\r\n(\r\n    [0] =&gt; C:\\wamp\\www\\images\\apple.jpg\r\n    [1] =&gt; C:\\wamp\\www\\images\\art.jpg\r\n)\r\n*/\r\n</font></pre><font face=\"Comic Sans MS\" size=\"3\">\r\n<b>3. 内存使用信息</b>\r\n\r\n<br>　　观察你程序的内存使用能够让你更好的优化你的代码。\r\n\r\nPHP 是有垃圾回收机制的，而且有一套很复杂的内存管理机制。你可以知道你的脚本所使用的内存情况。要知道当前内存使用情况，你可以使用memory_get_usage() 函数，如果你想知道使用内存的峰值，你可以调用memory_get_peak_usage() 函数。\r\n</font><pre><font face=\"Comic Sans MS\" size=\"3\">echo \"Initial: \".memory_get_usage().\" bytes \\n\";\r\n/* 输出\r\nInitial: 361400 bytes\r\n*/\r\n \r\n// 使用内存\r\nfor ($i = 0; $i &lt; 100000; $i++) {\r\n    $array []= md5($i);\r\n}\r\n \r\n// 删除一半的内存\r\nfor ($i = 0; $i &lt; 100000; $i++) {\r\n    unset($array[$i]);\r\n}\r\n \r\necho \"Final: \".memory_get_usage().\" bytes \\n\";\r\n/* prints\r\nFinal: 885912 bytes\r\n*/\r\n \r\necho \"Peak: \".memory_get_peak_usage().\" bytes \\n\";\r\n/* 输出峰值\r\nPeak: 13687072 bytes\r\n*/\r\n</font></pre><font face=\"Comic Sans MS\" size=\"3\">\r\n<b>4. CPU使用信息</b>\r\n\r\n<br>　　使用getrusage() 函数可以让你知道CPU的使用情况。注意，这个功能在Windows下不可用。\r\n</font><pre><font face=\"Comic Sans MS\" size=\"3\">	\r\nprint_r(getrusage());\r\n/* 输出\r\nArray\r\n(\r\n    [ru_oublock] =&gt; 0\r\n    [ru_inblock] =&gt; 0\r\n    [ru_msgsnd] =&gt; 2\r\n    [ru_msgrcv] =&gt; 3\r\n    [ru_maxrss] =&gt; 12692\r\n    [ru_ixrss] =&gt; 764\r\n    [ru_idrss] =&gt; 3864\r\n    [ru_minflt] =&gt; 94\r\n    [ru_majflt] =&gt; 0\r\n    [ru_nsignals] =&gt; 1\r\n    [ru_nvcsw] =&gt; 67\r\n    [ru_nivcsw] =&gt; 4\r\n    [ru_nswap] =&gt; 0\r\n    [ru_utime.tv_usec] =&gt; 0\r\n    [ru_utime.tv_sec] =&gt; 0\r\n    [ru_stime.tv_usec] =&gt; 6269\r\n    [ru_stime.tv_sec] =&gt; 0\r\n)\r\n \r\n*/\r\n</font></pre><font face=\"Comic Sans MS\" size=\"3\">\r\n这个结构看上出很晦涩，除非你对CPU很了解。下面一些解释：\r\n\r\n    <br>ru_oublock: 块输出操作\r\n<br>    ru_inblock: 块输入操作\r\n    <br>ru_msgsnd: 发送的message\r\n    <br>ru_msgrcv: 收到的message\r\n    <br>ru_maxrss: 最大驻留集大小\r\n    <br>ru_ixrss: 全部共享内存大小\r\n    <br>ru_idrss:全部非共享内存大小<br>ru_minflt: 页回收\r\n    <br>ru_majflt: 页失效\r\n    <br>ru_nsignals: 收到的信号\r\n    <br>ru_nvcsw: 主动上下文切换\r\n<br>ru_nivcsw: 被动上下文切换\r\n    <br>ru_nswap: 交换区\r\n    <br>ru_utime.tv_usec: 用户态时间 (microseconds)<br>ru_utime.tv_sec: 用户态时间(seconds)\r\n<br>    ru_stime.tv_usec: 系统内核时间 (microseconds)\r\n    <br>ru_stime.tv_sec: 系统内核时间(seconds)\r\n\r\n<br>要看到你的脚本消耗了多少CPU，我们需要看看“用户态的时间”和“系统内核时间”的值。秒和微秒部分是分别提供的，您可以把微秒值除以100万，并把它添加到秒的值后，可以得到有小数部分的秒数。\r\n</font><pre><font face=\"Comic Sans MS\" size=\"3\">	\r\n// sleep for 3 seconds (non-busy)\r\nsleep(3);\r\n \r\n$data = getrusage();\r\necho \"User time: \".\r\n    ($data[\'ru_utime.tv_sec\'] +\r\n    $data[\'ru_utime.tv_usec\'] / 1000000);\r\necho \"System time: \".\r\n    ($data[\'ru_stime.tv_sec\'] +\r\n    $data[\'ru_stime.tv_usec\'] / 1000000);\r\n \r\n/* 输出\r\nUser time: 0.011552\r\nSystem time: 0\r\n*/\r\n\r\n</font></pre><font face=\"Comic Sans MS\" size=\"3\">\r\nsleep是不占用系统时间的，我们可以来看下面的一个例子：\r\n</font><pre><font face=\"Comic Sans MS\" size=\"3\">	\r\n// loop 10 million times (busy)\r\nfor($i=0;$i&lt;10000000;$i++) {\r\n \r\n}\r\n \r\n$data = getrusage();\r\necho \"User time: \".\r\n    ($data[\'ru_utime.tv_sec\'] +\r\n    $data[\'ru_utime.tv_usec\'] / 1000000);\r\necho \"System time: \".\r\n    ($data[\'ru_stime.tv_sec\'] +\r\n    $data[\'ru_stime.tv_usec\'] / 1000000);\r\n \r\n/* 输出\r\nUser time: 1.424592\r\nSystem time: 0.004204\r\n*/\r\n</font></pre><font face=\"Comic Sans MS\" size=\"3\">\r\n这花了大约14秒的CPU时间，几乎所有的都是用户的时间，因为没有系统调用。\r\n\r\n系统时间是CPU花费在系统调用上的上执行内核指令的时间。下面是一个例子：\r\n	\r\n</font><pre><font face=\"Comic Sans MS\" size=\"3\">$start = microtime(true);\r\n// keep calling microtime for about 3 seconds\r\nwhile(microtime(true) - $start &lt; 3) {\r\n \r\n}\r\n \r\n$data = getrusage();\r\necho \"User time: \".\r\n    ($data[\'ru_utime.tv_sec\'] +\r\n    $data[\'ru_utime.tv_usec\'] / 1000000);\r\necho \"System time: \".\r\n    ($data[\'ru_stime.tv_sec\'] +\r\n    $data[\'ru_stime.tv_usec\'] / 1000000);\r\n \r\n/* prints\r\nUser time: 1.088171\r\nSystem time: 1.675315\r\n*/\r\n</font></pre><font face=\"Comic Sans MS\" size=\"3\">\r\n我们可以看到上面这个例子更耗CPU。\r\n<br><br><b>5. 系统常量\r\n\r\nPHP</b> <br>提供非常有用的系统常量 可以让你得到当前的行号 (__LINE__)，文件 (__FILE__)，目录 (__DIR__)，函数名 (__FUNCTION__)，类名(__CLASS__)，方法名(__METHOD__) 和名字空间 (__NAMESPACE__)，很像C语言。\r\n\r\n我们可以以为这些东西主要是用于调试，当也不一定，比如我们可以在include其它文件的时候使用?__FILE__ (当然，你也可以在 PHP 5.3以后使用 __DIR__ )，下面是一个例子。\r\n</font><pre><font face=\"Comic Sans MS\" size=\"3\">	\r\n// this is relative to the loaded script\'s path\r\n// it may cause problems when running scripts from different directories\r\nrequire_once(\'config/database.php\');\r\n \r\n// this is always relative to this file\'s path\r\n// no matter where it was included from\r\nrequire_once(dirname(__FILE__) . \'/config/database.php\');\r\n</font></pre><font face=\"Comic Sans MS\" size=\"3\">\r\n下面是使用 __LINE__ 来输出一些debug的信息，这样有助于你调试程序：\r\n\r\n</font><pre><font face=\"Comic Sans MS\" size=\"3\">// some code\r\n// ...\r\nmy_debug(\"some debug message\", __LINE__);\r\n/* 输出\r\nLine 4: some debug message\r\n*/\r\n \r\n// some more code\r\n// ...\r\nmy_debug(\"another debug message\", __LINE__);\r\n/* 输出\r\nLine 11: another debug message\r\n*/\r\n \r\nfunction my_debug($msg, $line) {\r\n    echo \"Line $line: $msg\\n\";\r\n}\r\n</font></pre><font face=\"Comic Sans MS\" size=\"3\">\r\n     \r\n<b>6.生成唯一的ID\r\n\r\n</b><br>有很多人使用 md5() 来生成一个唯一的ID，如下所示：\r\n</font><pre><font face=\"Comic Sans MS\" size=\"3\">	\r\n// generate unique string\r\necho md5(time() . mt_rand(1,1000000));\r\n\r\n</font></pre><font face=\"Comic Sans MS\" size=\"3\">\r\n其实，PHP中有一个叫?uniqid() 的函数是专门用来干这个的：\r\n</font><pre><font face=\"Comic Sans MS\" size=\"3\">// generate unique string\r\necho uniqid();\r\n/* 输出\r\n4bd67c947233e\r\n*/\r\n \r\n// generate another unique string\r\necho uniqid();\r\n/* 输出\r\n4bd67c9472340\r\n*/\r\n</font></pre><font face=\"Comic Sans MS\" size=\"3\">\r\n可能你会注意到生成出来的ID前几位是一样的，这是因为生成器依赖于系统的时间，这其实是一个非常不错的功能，因为你是很容易为你的这些ID排序的。这点MD5是做不到的。\r\n\r\n你还可以加上前缀避免重名：\r\n</font><pre><font face=\"Comic Sans MS\" size=\"3\">// 前缀\r\necho uniqid(\'foo_\');\r\n/* 输出\r\nfoo_4bd67d6cd8b8f\r\n*/\r\n \r\n// 有更多的熵\r\necho uniqid(\'\',true);\r\n/* 输出\r\n4bd67d6cd8b926.12135106\r\n*/\r\n \r\n// 都有\r\necho uniqid(\'bar_\',true);\r\n/* 输出\r\nbar_4bd67da367b650.43684647\r\n*/\r\n</font></pre><font face=\"Comic Sans MS\" size=\"3\">\r\n而且，生成出来的ID会比MD5生成的要短，这会让你节省很多空间。\r\n<br><b><br>7. 序列化</b>\r\n\r\n<br>　　你是否会把一个比较复杂的数据结构存到数据库或是文件中，你并不需要自己去写自己的算法。PHP早已为你做好了，其提供了两个函数：serialize() 和 unserialize():\r\n</font><pre><font face=\"Comic Sans MS\" size=\"3\">	\r\n// 一个复杂的数组\r\n$myvar = array(\r\n    \'hello\',\r\n    42,\r\n    array(1,\'two\'),\r\n    \'apple\'\r\n);\r\n \r\n// 序列化\r\n$string = serialize($myvar);\r\n \r\necho $string;\r\n/* 输出\r\na:4:{i:0;s:5:\"hello\";i:1;i:42;i:2;a:2:{i:0;i:1;i:1;s:3:\"two\";}i:3;s:5:\"apple\";}\r\n*/\r\n \r\n// 反序例化\r\n$newvar = unserialize($string);\r\n \r\nprint_r($newvar);\r\n/* 输出\r\nArray\r\n(\r\n    [0] =&gt; hello\r\n    [1] =&gt; 42\r\n    [2] =&gt; Array\r\n        (\r\n            [0] =&gt; 1\r\n            [1] =&gt; two\r\n        )\r\n \r\n    [3] =&gt; apple\r\n)\r\n*/\r\n</font></pre><font face=\"Comic Sans MS\" size=\"3\">\r\n这是PHP的原生函数，然而在今天JSON越来越流行，所以在PHP5.2以后，PHP开始支持JSON，你可以使用 json_encode() 和 json_decode() 函数\r\n</font><pre><font face=\"Comic Sans MS\" size=\"3\">	\r\n// a complex array\r\n$myvar = array(\r\n    \'hello\',\r\n    42,\r\n    array(1,\'two\'),\r\n    \'apple\'\r\n);\r\n \r\n// convert to a string\r\n$string = json_encode($myvar);\r\n \r\necho $string;\r\n/* prints\r\n[\"hello\",42,[1,\"two\"],\"apple\"]\r\n*/\r\n \r\n// you can reproduce the original variable\r\n$newvar = json_decode($string);\r\n \r\nprint_r($newvar);\r\n/* prints\r\nArray\r\n(\r\n    [0] =&gt; hello\r\n    [1] =&gt; 42\r\n    [2] =&gt; Array\r\n        (\r\n            [0] =&gt; 1\r\n            [1] =&gt; two\r\n        )\r\n \r\n    [3] =&gt; apple\r\n)\r\n*/\r\n</font></pre><font face=\"Comic Sans MS\" size=\"3\">\r\n这看起来更为紧凑一些了，而且还兼容于Javascript和其它语言。但是对于一些非常复杂的数据结构，可能会造成数据丢失。\r\n<br><br><b>8. 字符串压缩</b>\r\n\r\n<br>　　当我们说到压缩，我们可能会想到文件压缩，其实，字符串也是可以压缩的。PHP提供了gzcompress() 和 gzuncompress() 函数：\r\n	\r\n</font><pre><font face=\"Comic Sans MS\" size=\"3\">$string =\r\n\"Lorem ipsum dolor sit amet, consectetur\r\nadipiscing elit. Nunc ut elit id mi ultricies\r\nadipiscing. Nulla facilisi. Praesent pulvinar,\r\nsapien vel feugiat vestibulum, nulla dui pretium orci,\r\nnon ultricies elit lacus quis ante. Lorem ipsum dolor\r\nsit amet, consectetur adipiscing elit. Aliquam\r\npretium ullamcorper urna quis iaculis. Etiam ac massa\r\nsed turpis tempor luctus. Curabitur sed nibh eu elit\r\nmollis congue. Praesent ipsum diam, consectetur vitae\r\nornare a, aliquam a nunc. In id magna pellentesque\r\ntellus posuere adipiscing. Sed non mi metus, at lacinia\r\naugue. Sed magna nisi, ornare in mollis in, mollis\r\nsed nunc. Etiam at justo in leo congue mollis.\r\nNullam in neque eget metus hendrerit scelerisque\r\neu non enim. Ut malesuada lacus eu nulla bibendum\r\nid euismod urna sodales. \";\r\n \r\n$compressed = gzcompress($string);\r\n \r\necho \"Original size: \". strlen($string).\"\\n\";\r\n/* 输出原始大小\r\nOriginal size: 800\r\n*/\r\n \r\necho \"Compressed size: \". strlen($compressed).\"\\n\";\r\n/* 输出压缩后的大小\r\nCompressed size: 418\r\n*/\r\n \r\n// 解压缩\r\n$original = gzuncompress($compressed);\r\n</font></pre><font face=\"Comic Sans MS\" size=\"3\">\r\n\r\n几乎有50% 压缩比率。同时，你还可以使用gzencode() 和 gzdecode() 函数来压缩，只不用其用了不同的压缩算法。\r\n<br><br><b>9. 注册停止函数</b>\r\n\r\n<br>　　有一个函数叫做register_shutdown_function()，可以让你在整个脚本停时前运行代码。让我们看下面的一个示例：\r\n</font><pre><font face=\"Comic Sans MS\" size=\"3\">	\r\n// capture the start time\r\n$start_time = microtime(true);\r\n \r\n// do some stuff\r\n// ...\r\n \r\n// display how long the script took\r\necho \"execution took: \".\r\n        (microtime(true) - $start_time).\r\n        \" seconds.\";\r\n\r\n</font></pre><font face=\"Comic Sans MS\" size=\"3\">\r\n上面这个示例只不过是用来计算某个函数运行的时间。然后，如果你在函数中间调用exit() 函数，那么你的最后的代码将不会被运行到。并且，如果该脚本在浏览器终止（用户按停止按钮），其也无法被运行。\r\n\r\n而当我们使用了register_shutdown_function()后，你的程序就算是在脚本被停止后也会被运行：\r\n</font><pre><font face=\"Comic Sans MS\" size=\"3\">$start_time = microtime(true);\r\n \r\nregister_shutdown_function(\'my_shutdown\');\r\n \r\n// do some stuff\r\n// ...\r\n \r\nfunction my_shutdown() {\r\n    global $start_time;\r\n \r\n    echo \"execution took: \".\r\n            (microtime(true) - $start_time).\r\n            \" seconds.\";\r\n}\r\n</font></pre>\r\n',1,0,'',3,'',1419941119,1406007435),(70,10,'','程序员技术练级攻略','程序员技术练级攻略',262,'<font size=\"3\">月光博客6月12日发表了《<a href=\"http://www.williamlong.info/archives/2700.html\" target=\"_blank\">写给新手程序员的一封信</a>》，翻译自《<a href=\"http://blog.akash.im/an-open-letter-to-those-who-want-to-start\" target=\"_blank\">An open letter to those who want to start programming</a>》，我的朋友（他在本站的id是<a href=\"http://coolshell.cn/?author=3\" target=\"_blank\">Mailper</a>）告诉我，他希望在酷壳上看到一篇更具操作性的文章。因为他也是喜欢编程和技术的家伙，于是，我让他把他的一些学习Python和Web编程的一些点滴总结一下。于是他给我发来了一些他的心得和经历，我在把他的心得做了不多的增改，并根据我的经历增加了“进阶”一节。<strong>这是一篇由新手和我这个老家伙根据我们的经历完成的文章</strong>。</font>\r\n<p><font size=\"3\">我的这个朋友把这篇文章取名叫Build Your Programming&nbsp;Technical&nbsp;Skills，我实在不知道用中文怎么翻译，但我在写的过程中，<strong>我觉得这很像一个打网游做任务升级的一个过程，所以取名叫“技术练级攻略”，题目有点大，呵呵，这个标题纯粹是为了好玩</strong>。<strong>这里仅仅是在分享Mailper和我个人的学习经历。</strong>（注：省去了我作为一个初学者曾经学习过的一些技术(今天明显过时了)，如：Delphi/Power builder，也省去了我学过的一些我觉得没意思的技术Lotus Notes/ActiveX/COM/ADO/ATL/.NET ……）</font></p>\r\n<h4><font size=\"3\">前言</font></h4>\r\n<p><font size=\"3\">你是否觉得自己从学校毕业的时候只做过小玩具一样的程序？</font><wbr><font size=\"3\">走入职场后哪怕没有什么经验也可以把以下这些课外练习走一遍（朋友的抱怨：学校课程总是从理论出发，</font><wbr><font size=\"3\">作业项目都看不出有什么实际作用，不如从工作中的需求出发）</font></p>\r\n<p><font size=\"3\">建议：</font></p>\r\n<ul><li><font size=\"3\">不要乱买书，不要乱追新技术新名词，</font><wbr><font size=\"3\">基础的东西经过很长时间积累而且还会在未来至少10年通用。</font></li><li><font size=\"3\">回顾一下历史，看看历史上时间线上技术的发展，你才能明白明天会是什么样。</font></li><li><font size=\"3\">一定要动手，例子不管多么简单，</font><wbr><font size=\"3\">建议至少自己手敲一遍看看是否理解了里头的细枝末节。</font></li><li><font size=\"3\">一定要学会思考，思考为什么要这样，而不是那样。还要举一反三地思考。</font></li></ul>\r\n<p><font size=\"3\"><strong>注</strong>：你也许会很奇怪为什么下面的东西很偏Unix/Linux，这是因为我觉得Windows下的编程可能会在未来很没有前途，原因如下：</font></p>\r\n<p><font size=\"3\"><span id=\"more-4990\"></span></font></p>\r\n<ul><li><font size=\"3\">现在的用户界面几乎被两个东西主宰了，1）Web，2）移动设备iOS或Android。Windows的图形界面不吃香了。</font></li><li><font size=\"3\">越来越多的企业在用成本低性能高的Linux和各种开源技术来构架其系统，Windows的成本太高了。</font></li><li><font size=\"3\">微软的东西变得太快了，很不持久，他们完全是在玩弄程序员。详情参见《<a title=\"Windows编程革命简史\" href=\"http://coolshell.cn/articles/3008.html\" target=\"_blank\">Windows编程革命史</a>》</font></li></ul>\r\n<p><font size=\"3\">所以，我个人认为以后的趋势是前端是Web+移动，后端是Linux+开源。开发这边基本上没Windows什么事。</font></p>\r\n<h4><font size=\"3\">启蒙入门</font></h4><hr>\r\n<p><font size=\"3\"><strong>1、 学习一门脚本语言，例如Python/Ruby</strong></font></p>\r\n<p><font size=\"3\">可以让你摆脱对底层语言的恐惧感，脚本语言可以让你很快开发出能用得上的小程序。实践项目:</font></p>\r\n<ul><li><font size=\"3\">处理文本文件，或者csv (关键词 python csv, python open, python sys) 读一个本地文件，逐行处理（例如 word count，或者处理log）</font></li><li><font size=\"3\">遍历本地文件系统 (sys, os, path)，例如写一个程序统计一个目录下所有文件大小并按各种条件排序并保存结果</font></li><li><font size=\"3\">跟数据库打交道 (python sqlite)，写一个小脚本统计数据库里条目数量</font></li><li><font size=\"3\">学会用各种print之类简单粗暴的方式进行调试</font></li><li><font size=\"3\">学会用Google (phrase, domain, use reader to follow tech blogs)</font></li></ul>\r\n<p><font size=\"3\">为什么要学脚本语言，因为他们实在是太方便了，很多时候我们需要写点小工具或是脚本来帮我们解决问题，你就会发现正规的编程语言太难用了。</font></p>\r\n<p><font size=\"3\"><strong>2、 用熟一种程序员的编辑器(不是IDE) 和一些基本工具</strong></font></p>\r\n<ul><li><font size=\"3\">Vim / Emacs /&nbsp;Notepad++，学会如何配置代码补全，外观，外部命令等。</font></li><li><font size=\"3\">Source Insight (或 ctag)</font></li></ul>\r\n<p><font size=\"3\">使用这些东西不是为了Cool，而是这些编辑器在查看、修改代码/配置文章/日志会更快更有效率。</font></p>\r\n<p><font size=\"3\"><strong>3、 熟悉Unix/Linux Shell和常见的命令行</strong></font></p>\r\n<ul><li><font size=\"3\">如果你用windows，至少学会用虚拟机里的linux， vmware player是免费的，装个Ubuntu吧</font></li><li><font size=\"3\">一定要少用少用图形界面。</font></li><li><font size=\"3\">学会使用man来查看帮助</font></li><li><font size=\"3\">文件系统结构和基本操作 ls/chmod/chown/rm/find/ln/cat/mount/mkdir/tar/gzip …</font></li><li><font size=\"3\">学会使用一些文本操作命令 sed/awk/grep/tail/less/more …</font></li><li><font size=\"3\">学会使用一些管理命令 ps/top/lsof/netstat/kill/tcpdump/iptables/dd…</font></li><li><font size=\"3\">了解/etc目录下的各种配置文章，学会查看/var/log下的系统日志，以及/proc下的系统运行信息</font></li><li><font size=\"3\">了解正则表达式，使用正则表达式来查找文件。</font></li></ul>\r\n<p><font size=\"3\">对于程序员来说Unix/Linux比Windows简单多了。（参看我四年前CSDN的博文《<a href=\"http://blog.csdn.net/haoel/article/details/1533720\" target=\"_blank\">其实Unix很简单</a>》）学会使用Unix/Linux你会发现图形界面在某些时候实在是太难用了，相当地相当地降低工作效率。</font></p>\r\n<p><font size=\"3\"><strong>4、 学习Web基础（HTML/CSS/JS) + 服务器端技术 (LAMP)</strong></font></p>\r\n<p><font size=\"3\">未来必然是Web的世界，学习WEB基础的最佳网站是<a href=\"http://www.w3school.com.cn/\" target=\"_blank\">W3School</a>。</font></p>\r\n<ul><li><font size=\"3\">学习HTML基本语法</font></li><li><font size=\"3\">学习CSS如何选中HTML元素并应用一些基本样式（关键词：box model）</font></li><li><font size=\"3\">学会用 &nbsp;Firefox + Firebug 或 chrome 查看你觉得很炫的网页结构，并动态修改。</font></li><li><font size=\"3\">学习使用Javascript操纵HTML元件。理解DOM和动态网页（<a href=\"http://oreilly.com/catalog/9780596527402\" target=\"_blank\">http://oreilly.com/catalog/9780596527402</a>) 网上有免费的章节，足够用了。或参看 <a href=\"http://www.w3school.com.cn/htmldom/index.asp\" target=\"_blank\">DOM</a>&nbsp;。</font></li><li><font size=\"3\">学会用 &nbsp;Firefox + Firebug 或 chrome 调试Javascript代码（设置断点，查看变量，性能，控制台等）</font></li><li><font size=\"3\">在一台机器上配置<a href=\"http://coolshell.cn/articles/www.apache.org\" target=\"_blank\">Apache </a>或 <a href=\"http://coolshell.cn/articles/nginx.net\" target=\"_blank\">Nginx</a></font></li><li><font size=\"3\">学习<a href=\"http://coolshell.cn/articles/www.php.net\" target=\"_blank\">PHP</a>，让后台PHP和前台HTML进行数据交互，对服务器相应浏览器请求形成初步认识。实现一个表单提交和反显的功能。</font></li><li><font size=\"3\">把PHP连接本地或者远程数据库 MySQL（MySQL 和 SQL现学现用够了）</font></li><li><font size=\"3\">跟完一个名校的网络编程课程（例如：<a href=\"http://www.stanford.edu/%7Eouster/cgi-bin/cs142-fall10/index.php\" target=\"_blank\">http://www.stanford.edu/~ouster/cgi-bin/cs142-fall10/index.php</a>&nbsp;) 不要觉得需要多于一学期时间，大学生是全职一学期选3-5门课，你业余时间一定可以跟上</font></li><li><font size=\"3\">学习一个javascript库（例如jQuery 或 ExtJS）+ &nbsp;Ajax (异步读入一个服务器端图片或者数据库内容）+JSON数据格式。</font></li><li><font size=\"3\">HTTP: The Definitive Guide 读完前4章你就明白你每天上网用浏览器的时候发生的事情了(proxy, gateway, browsers)</font></li><li><font size=\"3\">做个小网站（例如：一个小的留言板，支持用户登录，Cookie/Session，增、删、改、查，上传图片附件，分页显示）</font></li><li><font size=\"3\">买个域名，租个空间，做个自己的网站。</font></li></ul>\r\n<h4><font size=\"3\">进阶加深</font></h4>\r\n<p><font size=\"3\"><strong>1、 C语言和操作系统调用</strong></font></p>\r\n<ul><li><font size=\"3\">重新学C语言，理解指针和内存模型，用C语言实现一下各种经典的算法和数据结构。推荐《<a href=\"http://product.china-pub.com/197050\">计算机程序设计艺术</a>》、《<a href=\"http://product.china-pub.com/31701\" target=\"_blank\">算法导论</a>》和《<a href=\"http://product.china-pub.com/209243\" target=\"_blank\">编程珠玑</a>》。</font></li><li><font size=\"3\">学习<a title=\"（麻省理工免费课程）计算机科学和编程导论\" href=\"http://coolshell.cn/articles/3723.html\" target=\"_blank\">（麻省理工免费课程）计算机科学和编程导论</a></font></li><li><font size=\"3\">学习<a title=\"（麻省理工免费课程）C语言内存管理和C++面向对象编程\" href=\"http://coolshell.cn/articles/2474.html\" target=\"_blank\">（麻省理工免费课程）C语言内存管理</a></font></li><li><font size=\"3\">学习Unix/Linux系统调用（<a href=\"http://product.china-pub.com/30181\" target=\"_blank\">Unix高级环境编程</a>），，了解系统层面的东西。</font></li><ul><li><font size=\"3\">用这些系统知识操作一下文件系统，用户（实现一个可以拷贝目录树的小程序）</font></li><li><font size=\"3\">用fork/wait/waitpid写一个多进程的程序，用pthread写一个多线程带同步或互斥的程序。多进程多进程购票的程序。</font></li><li><font size=\"3\">用signal/kill/raise/alarm/pause/sigprocmask实现一个多进程间的信号量通信的程序。</font></li><li><font size=\"3\">学会使用gcc和gdb来编程和调试程序（参看我的《<a href=\"http://coolshell.cn/articles/blog.csdn.net/haoel/article/details/2879\" target=\"_blank\">用gdb调试程序</a>》）</font></li><li><font size=\"3\">学会使用makefile来编译程序。（参看我的《<a href=\"http://coolshell.cn/articles/blog.csdn.net/haoel/article/details/2886\" target=\"_blank\">跟我一起写makefile</a>》）</font></li><li><font size=\"3\">IPC和Socket的东西可以放到高级中来实践。</font></li></ul><li><font size=\"3\">学习Windows SDK编程（<a href=\"http://product.china-pub.com/52880\" target=\"_blank\">Windows 程序设计&nbsp;</a>，<a href=\"http://product.china-pub.com/3804\" target=\"_blank\">MFC程序设计</a>）</font></li><ul><li><font size=\"3\">写一个窗口，了解WinMain/WinProcedure，以及Windows的消息机制。</font></li><li><font size=\"3\">写一些程序来操作Windows SDK中的资源文件或是各种图形控件，以及作图的编程。</font></li><li><font size=\"3\">学习如何使用MSDN查看相关的SDK函数，各种WM_消息以及一些例程。</font></li><li><font size=\"3\">这本书中有很多例程，在实践中请不要照抄，试着自己写一个自己的例程。</font></li><li><font size=\"3\">不用太多于精通这些东西，因为GUI正在被Web取代，主要是了解一下Windows 图形界面的编程。@<a title=\"virushuo\" href=\"http://twitter.com/#%21/virushuo\" data-user-id=\"49913\">virushuo</a>&nbsp;说：“&nbsp;我觉得GUI确实不那么热门了，但充分理解GUI工作原理是很重要的。包括移动设备开发，如果没有基础知识仍然很吃力。或者说移动设备开发必须理解GUI工作，或者在win那边学，或者在mac/iOS上学”。</font></li></ul></ul>\r\n<p><font size=\"3\"><strong>2、学习Java</strong></font></p>\r\n<ul><li><font size=\"3\">Java 的学习主要是看经典的Core Java 《<a href=\"http://product.china-pub.com/208978\" target=\"_blank\">Java 核心技术编程</a>》和《<a href=\"http://product.china-pub.com/34838\" target=\"_blank\">Java编程思想</a>》（有两卷，我仅链了第一卷，足够了，因为Java的图形界面了解就可以了）</font></li><li><font size=\"3\">学习JDK，学会查阅Java API Doc&nbsp;<a href=\"http://download.oracle.com/javase/6/docs/api/\">http://download.oracle.com/javase/6/docs/api/</a></font></li><li><font size=\"3\">了解一下Java这种虚拟机语言和C和Python语言在编译和执行上的差别。从C、Java、Python思考一下“跨平台”这种技术。</font></li><li><font size=\"3\">学会使用IDE Eclipse，使用Eclipse 编译，调试和开发Java程序。</font></li><li><font size=\"3\">建一个Tomcat的网站，尝试一下JSP/Servlet/JDBC/MySQL的Web开发。把前面所说的那个PHP的小项目试着用JSP和Servlet实现一下。</font></li></ul>\r\n<div><font size=\"3\"><strong>3、Web的安全与架构</strong></font></div>\r\n<div>\r\n<ul><li><font size=\"3\">学习HTML5，网上有很多很多教程，以前<a href=\"http://coolshell.cn\" target=\"_blank\">酷壳</a>也介绍过很多，我在这里就不罗列了。</font></li><li><font size=\"3\">学习Web开发的安全问题（参考<a title=\"新浪微博的XSS攻击\" href=\"http://coolshell.cn/articles/4914.html\" target=\"_blank\">新浪微博被攻击的这个事</a>，以及<a href=\"http://guides.rubyonrails.org/security.html\" target=\"_blank\">Ruby的这篇文章</a>）</font></li><li><font size=\"3\">学习HTTP Server的rewrite机制，Nginx的反向代理机制，<a href=\"http://en.wikipedia.org/wiki/Fast_CGI\" target=\"_blank\">fast-cgi</a>（如：<a href=\"http://php-fpm.org/\" target=\"_blank\">PHP-FPM</a>）</font></li><li><font size=\"3\">学习Web的静态页面缓存技术。</font></li><li><font size=\"3\">学习Web的异步工作流处理，数据Cache，数据分区，负载均衡，水平扩展的构架。</font></li><li><font size=\"3\"><strong>实践任务：</strong></font></li><ul><li><font size=\"3\">使用HTML5的canvas 制作一些Web动画。</font></li><li><font size=\"3\">尝试在前面开发过的那个Web应用中进行SQL注入，JS注入，以及XSS攻击。</font></li><li><font size=\"3\">把前面开发过的那个Web应用改成构造在Nginx + PHP-FPM + 静态页面缓存的网站</font></li></ul></ul>\r\n</div>\r\n<p><font size=\"3\"><strong>4、学习关系型数据库</strong></font></p>\r\n<ul><li><font size=\"3\">你可以安装MSSQLServer或MySQL来学习数据库。</font></li><li><font size=\"3\">学习教科书里数据库设计的那几个范式，1NF，2NF，3NF，……</font></li><li><font size=\"3\">学习数据库的存过，触发器，视图，建索引，游标等。</font></li><li><font size=\"3\">学习SQL语句，明白表连接的各种概念（参看《<a title=\"图解SQL的Join\" href=\"http://coolshell.cn/articles/3463.html\">SQL &nbsp;Join的图示</a>》）</font></li><li><font size=\"3\">学习如何优化数据库查询（参看《<a title=\"MySQL性能优化的最佳20+条经验\" href=\"http://coolshell.cn/articles/1846.html\">MySQL的优化</a>》）</font></li><li><font size=\"3\"><strong>实践任务</strong>：设计一个论坛的数据库，至少满足3NF，使用SQL语句查询本周，本月的最新文章，评论最多的文章，最活跃用户。</font></li></ul>\r\n<p><font size=\"3\"><strong>5、一些开发工具</strong></font></p>\r\n<ul><li><font size=\"3\">学会使用SVN或Git来管理程序版本。</font></li><li><font size=\"3\">学会使用JUnit来对Java进行单元测试。</font></li><li><font size=\"3\">学习C语言和Java语言的coding standard 或 coding guideline。（我N年前写过一篇关C语言非常简单的文章——《<a href=\"http://blog.csdn.net/haoel/article/category/9200/2\" target=\"_blank\">编程修养</a>》，这样的东西你可以上网查一下，一大堆）。</font></li><li><font size=\"3\">推荐阅读《<a href=\"http://product.china-pub.com/28351\" target=\"_blank\">代码大全</a>》《<a href=\"http://product.china-pub.com/196374\" target=\"_blank\">重构</a>》《<a href=\"http://product.china-pub.com/196266\" target=\"_blank\">代码整洁之道</a>》</font></li></ul>\r\n<h4><font size=\"3\">高级深入</font></h4>\r\n<p><font size=\"3\"><strong>1、C++ / Java 和面向对象</strong></font></p>\r\n<p><font size=\"3\">我个人以为学好C++，Java也就是举手之劳。但是C++的学习曲线相当的陡。不过，我觉得C++是最需要学好的语言了。参看两篇趣文“<a title=\"C++ 程序员自信心曲线图\" href=\"http://coolshell.cn/articles/2287.html\" target=\"_blank\">C++学习信心图</a>” 和“<a title=\"“21天教你学会C++”\" href=\"http://coolshell.cn/articles/2250.html\" target=\"_blank\">21天学好C++</a>”</font></p>\r\n<ul><li><font size=\"3\">学习<a title=\"（麻省理工免费课程）C语言内存管理和C++面向对象编程\" href=\"http://coolshell.cn/articles/2474.html\" target=\"_blank\">（麻省理工免费课程）C++面向对象编程</a></font></li><li><font size=\"3\">读我的 “<a title=\"如何学好C++语言\" href=\"http://coolshell.cn/articles/4119.html\" target=\"_blank\">如何学好C++</a>”中所推荐的那些书至少两遍以上（如果你对C++的理解能够深入到像我所写的《<a href=\"http://blog.csdn.net/haoel/article/details/1948051\" target=\"_blank\">C++虚函数表解析</a>》或是《<a href=\"http://blog.csdn.net/haoel/article/details/3081328\" target=\"_blank\">C++对象内存存局</a>（<a href=\"http://blog.csdn.net/haoel/article/details/3081328\" target=\"_blank\">上</a>）（<a href=\"http://blog.csdn.net/haoel/article/details/3081385\" target=\"_blank\">下</a>）》，或是《<a href=\"http://blog.csdn.net/haoel/article/details/1388498\" target=\"_blank\">C/C++返回内部静态成员的陷阱</a>》那就非常不错了）</font></li><li><font size=\"3\">然后反思为什么C++要干成这样，Java则不是？你一定要学会对比C++和Java的不同。比如，Java中的初始化，垃圾回收，接口，异常，虚函数，等等。</font></li><li><font size=\"3\"><strong>实践任务：</strong></font></li><ul><li><font size=\"3\">用C++实现一个BigInt，支持128位的整形的加减乘除的操作。</font></li><li><font size=\"3\">用C++封装一个数据结构的容量，比如hash table。</font></li><li><font size=\"3\">用C++封装并实现一个智能指针（一定要使用模板）。</font></li></ul><li><font size=\"3\">《<a href=\"http://product.china-pub.com/25961\" target=\"_blank\">设计模式</a>》必需一读，两遍以上，思考一下，这23个模式的应用场景。主要是两点：1）钟爱组合而不是继承，2）钟爱接口而不是实现。（也推荐《<a href=\"http://product.china-pub.com/27862\">深入浅出设计模式</a>》）</font></li><li><font size=\"3\"><strong>实践任务：</strong></font></li><ul><li><font size=\"3\">使用工厂模式实现一个内存池。</font></li><li><font size=\"3\">使用策略模式制做一个类其可以把文本文件进行左对齐，右对齐和中对齐。</font></li><li><font size=\"3\">使用命令模式实现一个命令行计算器，并支持undo和redo。</font></li><li><font size=\"3\">使用修饰模式实现一个酒店的房间价格订价策略——旺季，服务，VIP、旅行团、等影响价格的因素。</font></li></ul><li><font size=\"3\">学习STL的用法和其设计概念 &nbsp;- 容器，算法，迭代器，函数子。如果可能，请读一下其源码。</font></li><li><font size=\"3\"><strong>实践任务：</strong>尝试使用面向对象、STL，设计模式、和WindowsSDK图形编程的各种技能</font></li><ul><li><font size=\"3\">做一个贪吃蛇或是俄罗斯方块的游戏。支持不同的级别和难度。</font></li><li><font size=\"3\">做一个文件浏览器，可以浏览目录下的文件，并可以对不同的文件有不同的操作，文本文件可以打开编辑，执行文件则执行之，mp3或avi文件可以播放，图片文件可以展示图片。</font></li></ul><li><font size=\"3\">学习C++的一些类库的设计，如： MFC（看看候捷老师的《<a href=\"http://product.china-pub.com/3565\" target=\"_blank\">深入浅出MFC</a>》） ，Boost, ACE, &nbsp;CPPUnit，STL （STL可能会太难了，但是如果你能了解其中的设计模式和设计那就太好了，如果你能深入到我写的《<a href=\"http://blog.csdn.net/haoel/article/details/24058\" target=\"_blank\">STL string类的写时拷贝技术</a>》那就非常不错了，ACE需要很强在的系统知识，参见后面的“加强对系统的了解”）</font></li><li><font size=\"3\">Java是真正的面向对象的语言，Java的设计模式多得不能再多，也是用来学习面向对象的设计模式的最佳语言了（参看<a title=\"JDK里的设计模式\" href=\"http://coolshell.cn/articles/3320.html\" target=\"_blank\">Java中的设计模式</a>）。</font></li><li><font size=\"3\">推荐阅读《<a href=\"http://product.china-pub.com/195040\">Effective Java</a>》 and 《<a href=\"http://product.china-pub.com/197212\">Java解惑</a>》</font></li><li><font size=\"3\">学习Java的框架，Java的框架也是多，如Spring,&nbsp;Hibernate，Struts 等等，主要是学习Java的设计，如IoC等。</font></li><li><font size=\"3\">Java的技术也是烂多，重点学习J2EE架构以及JMS， RMI, 等消息传递和远程调用的技术。</font></li><li><font size=\"3\">学习使用Java做Web Service （<a href=\"http://download.oracle.com/docs/cd/E17802_01/webservices/webservices/docs/2.0/tutorial/doc/\" target=\"_blank\">官方教程在这里</a>）</font></li><li><font size=\"3\"><strong>实践任务： </strong>尝试在Spring或Hibernate框架下构建一个有网络的Web Service的远程调用程序，并可以在两个Service中通过JMS传递消息。</font></li></ul>\r\n<p><font size=\"3\">C++和Java都不是能在短时间内能学好的，C++玩是的深，Java玩的是广，我建议两者选一个。我个人的学习经历是：</font></p>\r\n<ul><li><font size=\"3\">深究C++（我深究C/C++了十来年了）</font></li><li><font size=\"3\">学习Java的各种设计模式。</font></li></ul>\r\n<p><font size=\"3\"><strong>2、加强系统了解</strong></font></p>\r\n<p><font size=\"3\">重要阅读下面的几本书：</font></p>\r\n<ul><li><font size=\"3\">《<a href=\"http://product.china-pub.com/197413\" target=\"_blank\">Unix编程艺术</a>》了解Unix系统领域中的设计和开发哲学、思想文化体系、原则与经验。你一定会有一种醍醐灌顶的感觉。</font></li><li><font size=\"3\">《<a href=\"http://product.china-pub.com/196770\" target=\"_blank\">Unix网络编程卷1，套接字</a>》这是一本看完你就明白网络编程的书。重要注意TCP、UDP，以及多路复用的系统调用select/poll/epoll的差别。</font></li><li><font size=\"3\">《<a href=\"http://product.china-pub.com/35\" target=\"_blank\">TCP/IP详解 卷1:协议</a>》- 这是一本看完后你就可以当网络黑客的书。了解以太网的的运作原理，了解TCP/IP的协议，运作原理以及如何TCP的调优。</font></li><li><font size=\"3\"><strong>实践任务：</strong></font></li><ul><li><font size=\"3\">理解什么是阻塞（同步IO），非阻塞（异步IO），多路复用（select, poll, epoll）的IO技术。</font></li><li><font size=\"3\">写一个网络聊天程序，有聊天服务器和多个聊天客户端（服务端用UDP对部分或所有的的聊天客户端进Multicast或Broadcast）。</font></li><li><font size=\"3\">写一个简易的HTTP服务器。</font></li></ul><li><font size=\"3\">《<a href=\"http://product.china-pub.com/196859\" target=\"_blank\">Unix网络编程卷2，进程间通信</a>》信号量，管道，共享内存，消息等各种IPC…… 这些技术好像有点老掉牙了，不过还是值得了解。</font></li><li><font size=\"3\"><strong>实践任务：</strong></font></li><ul><li><font size=\"3\">主要实践各种IPC进程序通信的方法。</font></li><li><font size=\"3\">尝试写一个管道程序，父子进程通过管道交换数据。</font></li><li><font size=\"3\">尝试写一个共享内存的程序，两个进程通过共享内存交换一个C的结构体数组。</font></li></ul><li><font size=\"3\">学习《<a href=\"http://product.china-pub.com/209058\" target=\"_blank\">Windows核心编程</a>》一书。把CreateProcess，Windows线程、线程调度、线程同步（Event, &nbsp;信号量，互斥量）、异步I/O，内存管理，DLL，这几大块搞精通。</font></li><li><font size=\"3\"><strong>实践任务：</strong>使用CreateProcess启动一个记事本或IE，并监控该程序的运行。把前面写过的那个简易的HTTP服务用线程池实现一下。写一个DLL的钩子程序监控指定窗口的关闭事件，或是记录某个窗口的按键。</font></li><li><font size=\"3\">有了多线程、多进程通信，TCP/IP，套接字，C++和设计模式的基本，你可以研究一下ACE了。使用ACE重写上述的聊天程序和HTTP服务器（带线程池）</font></li><li><font size=\"3\"><strong>实践任务：</strong>通过以上的所有知识，尝试</font></li><ul><li><font size=\"3\">写一个服务端给客户端传大文件，要求把100M的带宽用到80%以上。（注意，磁盘I/O和网络I/O可能会很有问题，想一想怎么解决，另外，请注意网络传输最大单元MTU）</font></li><li><font size=\"3\">了解BT下载的工作原理，用多进程的方式模拟BT下载的原理。</font></li></ul></ul>\r\n<p><font size=\"3\"><strong>3、系统架构</strong></font></p>\r\n<ul><li><font size=\"3\">负载均衡。HASH式的，纯动态式的。（可以到Google学术里搜一些<a href=\"http://scholar.google.com.hk/scholar?q=%E8%B4%9F%E8%BD%BD%E5%9D%87%E8%A1%A1&amp;hl=zh-CN&amp;as_sdt=0&amp;as_vis=1&amp;oi=scholart\" target=\"_blank\">关于负载均衡的文章</a>读读）</font></li><li><font size=\"3\">多层分布式系统 – 客户端服务结点层、计算结点层、数据cache层，数据层。J2EE是经典的多层结构。</font></li><li><font size=\"3\"><a href=\"http://en.wikipedia.org/wiki/Content_delivery_network\" target=\"_blank\">CDN系统</a> – 就近访问，内容边缘化。</font></li><li><font size=\"3\"><a href=\"http://en.wikipedia.org/wiki/Peer-to-peer\" target=\"_blank\">P2P式系统</a>，研究一下BT和电驴的算法。比如：<a href=\"http://en.wikipedia.org/wiki/Distributed_hash_table\" target=\"_blank\">DHT算法</a>。</font></li><li><font size=\"3\">服务器备份，双机备份系统（Live-Standby和Live-Live系统），两台机器如何通过心跳监测对方？集群主结点备份。</font></li><li><font size=\"3\"><a href=\"http://en.wikipedia.org/wiki/Virtualization\" target=\"_blank\">虚拟化技术</a>，使用这个技术，可以把操作系统当应用程序一下切换或重新配置和部署。</font></li><li><font size=\"3\">学习<a href=\"http://thrift.apache.org/\" target=\"_blank\">Thrift</a>，二进制的高性能的通讯中间件，支持数据(对象)序列化和多种类型的RPC服务。</font></li><li><font size=\"3\">学习<a href=\"http://hadoop.apache.org/\" target=\"_blank\">Hadoop</a>。\r\nHadoop框架中最核心的设计就是：MapReduce和HDFS。MapReduce的思想是由Google的一篇论文所提及而被广为流传的，简单的\r\n一句话解释MapReduce就是“任务的分解与结果的汇总”。HDFS是Hadoop分布式文件系统（Hadoop Distributed File\r\n System）的缩写，为分布式计算存储提供了底层支持。</font></li><li><font size=\"3\">了解<a href=\"http://en.wikipedia.org/wiki/NoSQL\" target=\"_blank\">NoSQL数据库</a>（有人说可能是一个<a title=\"那些炒作过度的技术和概念\" href=\"http://coolshell.cn/articles/3609.html\" target=\"_blank\">过渡炒作的技术</a>），\r\n不过因为超大规模以及高并发的纯动态型网站日渐成为主流，而SNS类网站在数据存取过程中有着实时性等刚性需求，这使得目前NoSQL数据库慢慢成了人们\r\n所关注的焦点，并大有成为取代关系型数据库而成为未来主流数据存储模式的趋势。当前NoSQL数据库很多，大部分都是开源的，其中比较知名的\r\n有：MemcacheDB、Redis、Tokyo Cabinet(升级版为Kyoto \r\nCabinet)、Flare、MongoDB、CouchDB、Cassandra、Voldemort等。</font></li></ul>\r\n<p><font size=\"3\">写了那么多，回顾一下，觉得自己相当的有成就感。希望大家不要吓着，我自己这十来年也在不断地学习，今天我也在学习中，人生本来就是一个不断学习和练级的过程。<strong>不过，一定有漏的，也有不对的，还希望大家补充和更正</strong>。（<span style=\"color: #cc0000;\"><strong>我会根据大家的反馈随时更新此文</strong></span>）欢迎大家通过我的微博（<a href=\"http://weibo.com/haoel\" target=\"_blank\">@左耳朵耗子</a>）和twitter（@<a href=\"http://twitter.com/haoel\" target=\"_blank\">haoel</a>）和我交流。</font></p>\r\n<p><font size=\"3\"><em><strong>—– 更新 &nbsp;2011/07/19 —–</strong></em></font></p>\r\n<p><font size=\"3\">1）有朋友奇怪为什么我在这篇文章开头说了web+移动，却没有在后面提到iOS/Android的前端开发。因为我心里有一种感觉，移动设备上的UI最终也会被Javascript取代。大家可以用iPhone或Android看看google+，你就会明白了。</font></p>\r\n<p><font size=\"3\">2）有朋友说我这里的东西太多了，不能为了学习而学习，我非常同意。我在文章的前面也说了要思考。另外，千万不要以为我说的这些东西是一些新的技\r\n术，这份攻略里95%以上的全是基础。而且都是久经考验的基础技术。即是可以让你一通百通的技术，也是可以让你找到一份不错工作的技术。</font></p>\r\n<p><font size=\"3\">3）有朋友说学这些东西学完都40了，还不如想想怎么去挣钱。我想告诉大家，一是我今年还没有40岁，二是学无止境啊，三是我不觉得挣钱有多难，难\r\n的是怎么让你值那么多钱？无论是打工还是创业，是什么东西让你自己的价值，让你公司的价值更值钱？别的地方我不敢说，对于互联网或IT公司来说，技术实力\r\n绝对是其中之一。</font></p>\r\n<p><font size=\"3\">4）有朋友说技术都是工具，不应该如此痴迷这句话没有错，有时候我们需要更多的是抬起头来看看技术以外的事情，或者是说我们在作技术的时候不去思考为什么会有这个技术，为什么不是别的，问题不在于技术，问题在于我们死读书，读死书，成了技术的书呆子。</font></p>\r\n<p><font size=\"3\">5） 对于NoSQL，最近比较火，但我对其有点保守，所以，我只是说了解就可以。对于Hadoop，我觉得其在分布式系统上有巨大的潜力，所以需要学习。&nbsp;对于关系型数据库，的确是很重要的东西，这点是我的疏忽，在原文里补充。</font></p>',1,0,'',3,'',1419941093,1406118302),(71,10,'','SteveY对Amazon和Google平台的吐槽','平台',196,'<p><font size=\"3\">Steve Yegge， \r\nAmazon的前员工，现任Google员工，其本来想在Google+上和Google的员工讨论一些关于平台的东西，结果不小心把圈子设成了\r\nPublic，结果这篇文章就公开给了全世界，引起了剧烈的反应。发布后很快他就马上把这篇文章删了，不过，互联网上早备份了下来——<a href=\"https://raw.github.com/gist/933cc4f7df97d553ed89/24386c6a79bb4b31fb818b70b34c5eab7f12e1ff/gistfile1.txt\" target=\"_blank\">SteveY’s Google Platforms Rant</a>。后来，Steve在<a href=\"https://plus.google.com/110981030061712822816/posts/bwJ7kAELRnf\" target=\"_blank\">其Google+上作了一些解释</a>，大体是说他喝多了，而且又是在凌晨，所以大脑不清，文章中的观点很主观，极端且不完整，还有Google的PR对他很好，等等，等等 。</font></p>\r\n<p><font size=\"3\">几个星期前看到时就一直都想翻译一下这篇文章，不过因为最近事情太多，文章又很长，所以现在才翻译完成，翻译的不好，还请大家指正。</font></p>\r\n<h3><b><font size=\"5\">导读</font></b></h3>\r\n<p><font size=\"3\">在你阅读正文以前，我想说明几点，希望你注意一下：</font></p>\r\n<ul><li><font size=\"3\">Steve这个人非常喜欢写长篇大论的东西。而且比较喜欢辛辣调侃和恶搞的文风，这点大家要注意！</font></li></ul>\r\n<ul><li><font size=\"3\">文中先“骂”Amazon公司，再通过“骂”Amazon的创始人贝索斯Bezos并烘托出他的的悟性和雄心，最后教育了一下Google。</font></li></ul>\r\n<ul><li><font size=\"3\">我把文章分成了三个部分，这样方便大家阅读和讨论。第一部分只是个人情绪化的抱怨，第二部分是说Amazon的成长，第三部分是教育Google，我觉得第二部和第三部分是重点。</font></li></ul>\r\n<ul><li><font size=\"3\">对于我们来说，我们应该获取Steve那些关于平台（Platform）相关的那些有价值的观点。尤其是他说的Amazon如何进化成一个平台性的公司，以及阐述Google应该怎么做的那些观点。</font></li></ul>\r\n<ul><li><font size=\"3\">关于对Amazon的那些指责，我想说，6年，对于一个世界级的互联网公司，已经很不一样了。</font><hr></li></ul>\r\n<h3 style=\"text-align: left;\"><b><font size=\"5\">正文</font></b></h3>\r\n<h4 style=\"text-align: left;\"><b><font size=\"3\">第一部分</font></b></h4>\r\n<p><font size=\"3\">我曾在Amazon工作了六年半，现在，我在Google的日子也差没不多这么长了。对于这两家公司，有一件事总是萦绕着我——这种感觉一天比一天\r\n强烈──那就是，Amazon每件事都做错了，而Google每件事都做对了。当然啦，这是很笼统的话，但却是惊人的准确，相当的疯狂吧。大概有一百甚至\r\n两百种不同的地方可以让我们去比较这两个公司，而Google可能在每一项都能胜出，如果我记的没错，除了其中3项以外。因为，我曾用电子表格把这些项都\r\n列出来了，只是法务部门不会让我给任何人看，即使人事招募部门很喜欢这个报表。</font></p>\r\n<p><font size=\"3\"><span id=\"more-5701\"></span></font></p>\r\n<p><font size=\"3\">这里，让我先给你个例子让你稍微体会一下：Amazon的人事雇用流程有根本上的缺陷，因为各个团队各招各的人，以至于，各团队之间的招聘标准相当\r\n的不一致性，即使他们通过各种努力来统一标准，但是实际操作上却是一团糟；他们没有真正的SRE（陈皓注：Site Reliability \r\nEngineer&nbsp;），工程师们什么事都要做（陈皓注：所谓SDE – Someone Do \r\nEverything）、几乎没时间编码。当然，不同的部门有不同的情形，不过，这取决于你的运气。他们不搞慈善，也不帮扶贫困人群，也不搞社区贡献，或\r\n是其它相似的活动。在那里，他们从来不谈这些，或许只有在说笑话的时候才会提到。他们的办公环境是个灰尘及污迹四处的像农场一样的隔间，他们在公共区域连\r\n一分钱装修的都不会花，而且，他们的薪水和福利相当差，只是近来与Google和Facebook竞争人才，这个差距才变得非常地小。不过，他们没有我们\r\n有的津贴或额外奖金——他们只是给你录用信上的那个数字，就这么多。他们的程序代码完全就是灾难，无论什么都没有任何的工程标准，除了各别团队有一些。</font></p>\r\n<p><font size=\"3\">公平起见，他们的确有套非常非常不错的版本控制管理系统，而这是我们（Google）需要尽力赶上他们的地方，他们还有一个漂亮的发布/订阅系统，\r\n我们也没有相对应的东西。不过，就大体而言，他们有的不过是一堆蹩脚的工具，用关系数据库来读取或写入状态机里的信息中罢了。我们不应该这么搞就算这样做\r\n是可以。</font></p>\r\n<p><font size=\"3\">这就是我所所说的那3件事中的两件事Amazon比Google强的，那就是的他们的发布/订阅系统以及版本控制和管理系统。</font></p>\r\n<p><font size=\"3\">我猜你也许会为他们争辩到——他们要更快更早地推出服务并通过狂热地迭代来不断地改进和完善。他们把服务发布的优先级看得比任何事都重，包括工程纪\r\n律或是其它一堆可能会让其花时间的事务。所以，即使这么做让他们在市场上有了某种程度的竞争优势，但也造成其他足够多的问题，总之，这样的做法算不上是个\r\n漂亮的扣篮。</font></p>\r\n<p><font size=\"3\">但是，他们有一件事做的非常非常好，其好到可以把其他政治，理念，技术上的消耗和混乱<strong>完全</strong>弥补回来。</font></p>\r\n<h4><b><font size=\"3\">第二部分</font></b></h4>\r\n<p><font size=\"3\">Jeff Bezos是个臭名昭彰的微管理经理人，他的微管理都管理到了Amazon零售网站上的每一个显示像素。他雇佣了Larry \r\nTesler——Apple的首席科学家，他可能是全世界最有名也最受尊敬的人机交互接口专家，然而，Bezos忽略了Larry三年来提出的每一个建\r\n议，直到Larry最后——明智地——终于离开了公司。Larry本应做一些大型可用性（Usability）研究，并可以系统地了解那个根本就没有人能\r\n够搞懂、使用那该死的网站，可是，Bezos对于那些像素不放手，这些页面上的那几百万个显示像素就像是他的孩子一样。所以，他的这些孩子还留着，而\r\nLarry没有。</font></p>\r\n<p><font size=\"3\">当然，微管理不是第3项Amazon做的比我们好的事。我的意思是，没错，他们微控管理做地非常地好，但我不会把这项列在他们的强项清单上。我这样\r\n说只不过是为了我下文做铺垫，帮助你了解我后面要说的事儿。我们现在要说的这个人，是在多个严肃的公开场合说要来Amazon工作就应该付他钱才对的人。\r\n当有人跟他意见不同时，他会递出写有他名字的黄色即时贴以提醒那个人“谁是公司的老大”。这家伙是……，Steve \r\nJobs，我想，除了没有品味和设计能力，他们很相似。千万别误解我，Bezos是个绝顶聪明的人，只不过他把那些正常的管控搞得像嗑了药的嬉皮士一样罢\r\n了。</font></p>\r\n<p><font size=\"3\">所以，有一天，Jeff \r\nBezos下了一份命令。当然，他总是这么干，这些命令对人们的影响来说就像用橡皮槌敲击蚂蚁一样。这个命令大概是2002年，我想误差应该是在正负1年\r\n内 —— \r\n这个命令发布的范围非常地广，设想很大，让人眼珠子鼓出来的那种，这种惊讶程度和其他的命令相比，就好像你突然收到公司给你的奖金一样让人惊讶。</font></p>\r\n<p><font size=\"3\">这份大命令大概有如下几个要点：（陈皓注：这里是本篇文章的要点！如果这真是Bezos发出来的，那么太赞了，Bezos完全就是一个系统架构大师啊，那可是2002年左右啊。作者调侃Bezos完全是正话反说啊）</font></p>\r\n<blockquote>\r\n<ul><li><font size=\"3\">1) 所有团队的程序模块都要以通过Service Interface 方式将其数据与功能开放出来。（陈皓注：Service Interface也就是Web Service）</font></li></ul>\r\n<ul><li><font size=\"3\">2) 团队间的程序模块的信息通信，都要通过这些接口。</font></li></ul>\r\n<ul><li><font size=\"3\">3) 除此之外没有其它的通信方式。其他形式一概不允许：不能使用直接链结程序、不能直接读取其他团队的数据库、不能使用共享内存模式、不能使用别人模块的后门、等等，等等，唯一允许的通信方式只能是能过调用 Service Interface。</font></li></ul>\r\n<ul><li><font size=\"3\">4) 任何技术都可以使用。比如：HTTP、Corba、Pubsub、自定义的网络协议、等等，都可以，Bezos不管这些。（陈皓注：Bezos不是微控经理吗？呵呵。）</font></li></ul>\r\n<ul><li><font size=\"3\">5) 所有的Service Interface，毫无例外，都必须从骨子里到表面上设计成能对外界开放的。也就是说，团队必须做好规划与设计，以便未来把接口开放给全世界的程序员，没有任何例外。</font></li></ul>\r\n<ul><li><font size=\"3\">6) 不这样的做的人会被炒鱿鱼。</font></li></ul>\r\n<ul><li><font size=\"3\">7) 谢谢，祝你有个愉快的一天！</font></li></ul>\r\n</blockquote>\r\n<p><font size=\"3\">哈哈！你们这150个前Amazon的员工，当然能马上看出第7点是我开玩笑加上的，因为Bezos绝不会关心你的每一天。</font></p>\r\n<p><font size=\"3\">不过第6点是很真实的，于是，所以人们都去工作。Bezos并派出了几位首席牛头犬来监督并确保进度，领头的是和熊一样大的牛头犬：Rick \r\nDalzell，Rick是以前是陆军突击队队员，西点军校毕业生，拳击手，和沃尔玛的首席虐刑官 / \r\nCIO，而且他也是个高大、和蔼、令人敬畏的人，还是经常使用”hardened interface”词的人，Rick \r\n本来的走路和说话都比较hardened interface，所以不用多说，每个人都得干 出有<strong>重大的</strong>进展，这样Rick才能看得见。</font></p>\r\n<p><font size=\"3\">在接下来的几年，Amazon内部转变成面向服务架构SOA(Service-Oriented \r\nArchitecture)，在这华丽转身的过程中，他们学到了相当巨多巨多的东西。我在的那个时候，世界上就有很多很多的关于SOA的学术文档，但在\r\nAmazon的那种超大规模的面前，世间的这些文档就好像告诉印第安纳琼斯（陈皓注：电影夺宝奇兵男主角）过马路前要先看看两边有没有来车一样没\r\n用，Amazon的研发工程师们在这个过程中发现了很多很多的问题，并从中学到了很多。下面只是他们这些问题中的沧海一粟：</font></p>\r\n<ul><li><font size=\"3\">pager \r\nescalation（陈皓注：生产线上问题的寻呼系统）变得比较困难，因为ticket可能会转过来转过去（陈皓注：ticket就是处理问题的工\r\n单），只到转了20次，都找到真正能解决问题的团队和人。如果每一个呼叫都花去团队的15分钟的响应时间，那在找到真正的团队之前，几小时就已经过去了，\r\n除非，你能建造出很多很多的脚手架，测量标准和报告。</font></li></ul>\r\n<ul><li><font size=\"3\">每一个和你的相关团队突然间都可能成为一个潜在性的DOS攻击者。没人可以让事情有进展，直到在每一个Service里放上配额（quota）与节流阀（throttling）的机制。</font></li></ul>\r\n<div>\r\n<ul><li><font size=\"3\">监控与QA是被统一了。如果你不进行一个大规模的SOA，你就不会这么去想。但是，等到你的Service说，“是的，我还好！”，但实际情况可\r\n能是，服务器里唯一能正常运作的功能就是一个快乐的机器声音在呼叫你：“我很好，收到，收到”。为了要确认整个服务能正常运作，你需要对Service的\r\n每一个部分都去Call一下。这个问题会以递归的形式地出现，直到你的监控系统能够全面性地系统地检查所有的Services和数据，此时，监控系统就跟\r\n自动化测试QA没什么两样了，所以两者完美的统一了。</font></li></ul>\r\n</div>\r\n<ul><li><font size=\"3\">如果你有上百个Services，而且你的程序只能通过由这些Services来跟其他团队的程序做沟通，那么，没有一套Service发现机制\r\n的话，你就不能找到这些Service。所以，你得先有一套Service的注册机制，这也是一个Service。所以，Amazon有一套全体适用的\r\nService注册机制，以例可以通过反射机制来找到Service，并知道Service的API，以及是否可用，在哪儿。</font></li></ul>\r\n<ul><li><font size=\"3\">调试其他人的代码以调查问题变得非常的难，几乎都不可能，除非有一套全面性的标准的方式，他可以在可被调试的沙盒里运行所有的Services。</font></li></ul>\r\n<div><font size=\"3\">上面这些只是极少数几个例子，在Amazon在进化的过程中，Amazon遇到这样的问题可能一打甚至数百个，Amazon都一一学习和总结\r\n了。对于把Service外部化甚至还有很多几乎没有人会想到的非常生僻的东西，当然，也不会有你想像的那么多，Amazon都学到了。把业务组织成\r\nService让团队学会了不能相信对方，就如同他们不能信任公司以外的程序员一样。</font></div>\r\n<p><font size=\"3\">当我在2005年中期离开Amazon加入Google时，这个努力进化的过程还在进行时中，但那时已经相当的先进了。从Bezos颁布法令的时间\r\n到我离开的时候，Amazon已经把文化转变成了“一切以Service第一”为系统架构的公司，今天，这已经成为他们进行所有设计时的基础，包括那些绝\r\n不会被外界所知的仅在内部使用的功能。</font></p>\r\n<p><font size=\"3\">那时，如果没有被解雇的的恐惧他们一定不会去做。我是说，他们今天仍然怕被解雇，因为这基本上是那儿每天的生活，为那恐怖的海盗头子Bezos工\r\n作。不过，他们这么做的确是因为他们已经相信Service这就是正确的方向。他们对于SOA的优点和缺点没有疑问，某些缺点还很大，也不疑问。但总的来\r\n说，这是正确的，因为，SOA驱动出来的设计会产生出平台（Platform）。</font></p>\r\n<p><font size=\"3\">是的，这就是Bezos的法令要达成的目标。他以前（现在也是）一点不关心各团队是否好，也不关心他们使用什么样的技术，实际也不去管他们如何运作\r\n他们的业务，除非团队开始把事搞砸。但是，Bezos比绝大多数的亚马逊人都很早很早就领悟到，Amazon必须成为一个平台。</font></p>\r\n<p><font size=\"3\"><strong>如果是你，你会想到要把一个在线卖书的网站设计成为一个有扩展性，可程序化的平台？你真的会这样想吗？</strong></font></p>\r\n<p><font size=\"3\">嗯，第一件Bezos领悟到的大事是，为了销售书籍和各种商品需要的基础架构，这个基础架构可以被转变成为绝佳计算平台（Computing \r\nPlatform）。所以，现在他们有了Amazon Elastic Compute Cloud（亚马逊弹性运算云平台EC2），Amazon \r\nElastic MapReduce，Amazon Relational Database \r\nService（亚马逊关系数据库服务），以及其他可到AWS&nbsp;<a href=\"http://aws.amazon.com/\">aws.amazon.com</a>查得到的一堆Service。这些服务是某些相当成功的公司的后台架构，比如 我个人喜欢的 reddit 是这一堆成功公司的其中一个。</font></p>\r\n<p><font size=\"3\">另一大领悟是，他知道他们不可能永远都创造出对的东西。我认为，当Larry \r\nTesler说他妈妈完全搞不懂怎么使用那个该死的网站时，Bezos的某根筋被触动了，当然，我也不清楚到底是谁家母亲，这无关紧要，因为没有人的母亲\r\n能够会用那个该死的网站。事实上，连我这个在那工作超过5年的人都觉得Amazon网站的接口令人胆战惊心。</font></p>\r\n<p><font size=\"3\">我并不是很确定Bezos是如何领悟到的——领悟到他不能创造 出一个产品能适用于所有的人。不过，怎么来的这不重要，重要的是他的确领悟了。这种事有一个正式的术语，叫Accessibility，这是计算机世界中最最重要的事情了。</font></p>\r\n<p><font size=\"3\">最！重！要！的！事！</font></p>\r\n<p><font size=\"3\">如果你在心里面在想“哼？你是说，像盲人和聋人那种Accessibility吗？”，那么，你不是唯一这样想的人，因为我已经知道有<strong>很多很多</strong>像\r\n你这样的人：这种东西对你们这种人来说是不可能有正确的Accessibility，所以这事你还不能理解。当然，不能理解也不是你的错，就像眼盲，耳\r\n聋，或是其他行动不便的残疾人，这些也不是他们的错。当Software——或ideal-ware——如果因为某些原因不能被存取或使用，那么，这就是\r\n软件或是那想法的错了。这就是Accessibility failure。</font></p>\r\n<p><font size=\"3\">就如同生命中那些重大的事一样， 每个事都有一个邪恶的双胞胎姊妹，它在幼年都受到父母的溺爱，现在它已经成长为同等强大的复仇女神（是的，Accessibility有不只一个复仇女神），这个复仇女神叫安全性（Security），他们在一起总是争执不休，冤家一对。</font></p>\r\n<p><font size=\"3\">不过，我会和你争论Accessibility要比安全性来的重要多了，因为零Accessibility就意为着你根本没有做出产品来，而如果安全性为零，你仍然还是可以有一个某个程度上成功的产品，譬如说Playstation Network。</font></p>\r\n<p><font size=\"3\">对了，也许你还没注意到，我其实可以为这篇文章写出一整本书，很厚的一本，其中填满了那家我曾工作过的公司里关于蚂蚁与橡皮槌的事。但是，我可能也就永远无法在这发表这短篇的夸夸其谈了，而你也就无法读到除非我现在开始结尾。</font></p>\r\n<h4><b><font size=\"3\">第三部分</font></b></h4>\r\n<p><font size=\"3\">那三件Amazon比Google强的中的最后一件事是，Google很不会做平台（Platform）。我们就不懂什么是平台。我们就根本不知道\r\n平台的内涵。你们其中一些人明白，但是你们是少数派。在Google过去这六年来，越清楚这一点就越让我痛苦。我曾有一线希望，来自Microsoft和\r\nAmazon，以及近来Facebook的竞争压力，会让我们全体人都清醒过来，并开始打造我们公司的Service。不是那种特制的或半生不熟的，而是\r\n多少和Amazon的类似的那种：一次到位，真正的，没有作弊或是欺骗，并且把它放在最高优先级的位置。</font></p>\r\n<p><font size=\"3\">但实际上却不是，这个事被放在了好像是第10还是第11位，或是第15位，我不知道，反正是相当低。只有少数几个团队严肃地看待这个事，但大多数的团队不是<strong>从没有</strong>思考过这个事，就是只有一很少的人很鼠目寸光地在看待这个事。</font></p>\r\n<p><font size=\"3\">对大多数的团队来说，只要是让他们以提供给别人那种可程序化的方式存取他们的数据与运算的方式来开发软件，就算几个小小的粗糙的Service，对\r\n他们来说也是翻天覆地。他们大部分人都认为他们在做产品，但他们只是在提供那些凄惨粗糙的Service。回去看看前面我所列的那些部分的Amazon学\r\n到的东西，然后告诉我，哪一个粗糙的Service能让你有超凡脱俗的产品。迄今为止，就我所知，一个也没有。就算是这些粗糙的东西很不错，不过这就好像\r\n要汽车的时候，你却只有汽车的零件。</font></p>\r\n<p><font size=\"3\"><strong>没有平台的产品是没用的，再精确一点，去平台化的产品总是被平台化的产品所取代</strong>。</font></p>\r\n<p><font size=\"3\">Google+是我们完全失败的不懂Platform最明显的例子，从最高层的管理层（嗨，Larry、Sergey、Eric、Vic，你们好）\r\n一直到最最底层的员工（嘿，你）都不懂。我们全部统统都不懂。平台Platform的黄金守则是Eat Your Own \r\nDogfood（吃你自己的狗食——自己都要用自己的平台）。Google+这个平台是个杯具的事后抄袭者。我们在发布它的时候完全没有任何API。我查\r\n了一下，目前也只有少得可怜的API。Google+的一个团队的成员在发布API时告诉我这个事，我问：“这是Stalker \r\nAPI（用来偷窥内部数据的API）吗？”，她郁闷地说，“是啊”。我的意思是，我那只是个玩笑话，但是，不，我们提供的唯一的API就是取得某人的信息\r\n流，所以，我想我把玩笑开到自己头上了。</font></p>\r\n<p><font size=\"3\">Microsoft知道“狗食守则”至少有20年了。这已经成为他们世世代代文化的一部分了。不能是你吃人类的食物而给你的开发人员们喂狗食。那样做只会是为了短期的成功而掠夺了平台长期价值。平台就是要你考虑得长远。</font></p>\r\n<p><font size=\"3\">Google+就像膝跳反射，一种短视的的东西，是基于以为Facebook其伟大产品的成功作出的错误判断。但那不是为什么他们能成功的东西。\r\nFacebook的成功是因为他们建立了一个可以让外界在其上上面开发的产品群。所以对Facebook对每个人来都不一样。有些人把全部时间花在\r\n“Mafia \r\nWars”上，有些人则是花在“Farmville”（开心农场）。那里还有成百上千个不同的高质量的时间消耗类的游戏，所以，人们总是可以在那里找到他\r\n们想要的。</font></p>\r\n<p><font size=\"3\">我们的Google+团队看了看说：“哎呀，看来我们需要一些游戏，让我们去找一些人来为我们写些游戏吧”。你是否开始看到这样的的思考有多么不靠谱了吗？问题在于我们试图在预测人们想要什么，然后推出产品给他们。</font></p>\r\n<p><font size=\"3\">你不能这么做。真的不能。也不可靠。在这个世上，甚至在整个计算机的历史上，只有极少数几个人能够这么干，Steve Jobs是其中一个。但是我们没有Steve Jobs。对不起，我们真的没有。</font></p>\r\n<p><font size=\"3\">Larry Tesler有可能说服了Bezos相信他并不是Steve Jobs，但Bezos意识到他不需要成为Steve \r\nJobs也能提供给所有人好的产品：大家感到容易使用的接口与工作流。Bezos明白他只要有让第三方开发人员来做的平台，这些东西自然就会有的。</font></p>\r\n<p><font size=\"3\">我要向一些人道歉，这些人会觉得我所说的是再明显不过的了。是的，的确是巨明显的。只是我们没有去做。我们没有领会平台，我们也无法领会到\r\nAccessibility。这两者本来就是同一件事，因为平台会解决Accessibility。而平台就是Accessibility。</font></p>\r\n<ul><li><font size=\"3\">是的，Microsoft领会到了。而且你们也像我一样知道Microsoft他们对这些东西一知半解。那是因为他们能够了解平台完全是他们商业上意外性的副产品，是他们一开始的业务就是提供平台。所以他们在这个领域有着三十多年的经验。如果你去看看&nbsp;<a href=\"http://msdn.com/\" target=\"_blank\">msdn.com</a>，并多花点时间浏览一下，假设你以前从没去看过，你等着被吓到吧，因为那里面的东西可是多得不能再多。他们拥有<strong>成千成千成千</strong>个API。他们拥有一个<strong>超巨大</strong>的平台。说实话，太巨大了，因为他们要霸占一切，但至少他们做了。</font></li></ul>\r\n<ul><li><font size=\"3\">Amazon也领会了到了。Amazon的AWS(<a href=\"http://aws.amazon.com/\">aws.amazon.com</a>)相当的惊人。去看看吧，四处点一下。令人羞耻吧。我们今天什么都还没有。</font></li></ul>\r\n<ul><li><font size=\"3\">很明显Apple也领会到了。他们做了在基础上不开放的选择，具体来说是移动平台。但是他们明白什么是Accessibility，并且他们知道\r\n如何燃起第三方开发团体的力量，而且他们吃自己的狗食。你知道吗？他们的狗食做得很好吃啊。他们的APIs比Microsoft的要干净不知道多少倍，而\r\n且是远古的时候就这样了。</font></li></ul>\r\n<ul><li><font size=\"3\">Facebook也领会到了。这正是让我所担心的。这使得我不得我抬起懒惰屁股写下这些东西。我恨写Blog。我恨……Plus（指Google\r\n \r\nPlus）不管怎么称呼它，反正在Google+上发表长篇大论，就算这是个糟糕的地方，但是你还是希望Google能成功.我真希望！我的意思\r\n是，Facebook想挖我，而且很容易就去了。但Google是我的家，所以我坚持我这个小小的家庭干涉，就算你不舒服。</font></li></ul>\r\n<p><font size=\"3\">等到你为Microsoft与Amazon提供的平台感到神奇后，当然，我想也你可能会被Facebook吓到（我不敢去看，因为我不想让我太沮丧），让我们回头看看&nbsp;<a href=\"http://developers.google.com/\">developers.google.com</a>&nbsp;。是不是有很大的差别？我们的这个平台看起来像是你家小学五年级的侄子搞出来的东西一样——让一个小学五年级的学生，试着为一个强大的的平台公司去设计平台，就像像我们问这个小学生：“如果这家公司什么资源都有，那你会做出个什么东西来？” 一样。</font></p>\r\n<p><font size=\"3\">这里请不要误解我——我知道一个事实，dev-rel 团队为了发布这些API曾经不得不去“搏斗”。据我所知，这个团队很不错，因为他们知道什么是平台，并且他们如英雄般努力挣扎地要做出来，然而遇到的却是“平台冷漠”的环境，难听点还是那种有敌意的环境。</font></p>\r\n<p><font size=\"3\">我只是在直白地描述出一下&nbsp;<a href=\"http://developers.google.com/\" target=\"_blank\">developers.google.com</a>&nbsp;在外人眼里是什么样子。它看起来很幼稚。Maps APIs在哪呢，老天啊？其中有些东西还是实验性的项目，我点进去看的APIs……他们都毫无价值。他们很明显都是些真正的狗食。甚至都称不上是好的有机食品。跟我们内部APIs比起来，他们全部简直就是猪屎马粪。</font></p>\r\n<p><font size=\"3\">当然，也不要错误地理解我对Google+的看法。他们还不算是最差的。这是文化氛围的事。我们现在做的简单来说就是要进行一场战争，是一场失败很多的少数的平台派和那些强大的信心坚持的产品派的战争。</font></p>\r\n<p><font size=\"3\">那些从头到尾明白理解供外部可程序化的平台概念的团队都是受压迫的人——Maps跟Docs团队浮现在我脑海中，而且我也知道GMail是这个方向\r\n的先头部队，但是他们很难得到资金注入，因为这不是我们文化的一部分。Maestro的资金完全没法和Microsoft \r\nOffice开发平台的资金相比：就像小白兔和暴龙相比一样。Docs团队知道自己永远无法和Office竞争，除非他们能赶上Office的脚本能力，\r\n而且他们得不到他们相要的资源。我的意思是我假定他们没有，现在应用的脚本能力只在电子表格中有，而且没有为API设置键盘快捷键。在我看来，这个团队完\r\n全没有被重视。</font></p>\r\n<p><font size=\"3\">具有讽刺意的是，Wave是个伟大的平台，愿他能安静地长眠。我们需要知道，做一个平台并不会马上给带来成功。平台需要杀手级应用。\r\nFacebook——他们供应了的涂鸦墙和朋友关系网等其他东西——则是Facebook平台的杀手级应用。但是，如果你说没有Facebook平台，仅\r\n有Facebook应用也能像今天这样成功，那么，这会是一个非常严重的错误。</font></p>\r\n<p><font size=\"3\">你知道吗？人们总是在说Google的傲慢自大。我是个Google人，所以我和你一样当听到那些话都会觉得很愤怒。但总体而言，我们并不傲慢。我\r\n们大约99%不自大。我在文章开头时就写到——如果你回去看看—— \r\n我是这样描述Google的“所有的事都做对了”。我们知道人们为什么要这么说我们自大，因为我们没有雇用他们，或是因为他们对我们的政策不爽，或是那一\r\n类的事情。他们推断出我们自大是因为这样会让他们心理平衡一些。（陈皓注：作者在这里的反话正说）</font></p>\r\n<p><font size=\"3\">但是，当我们摆出那种我们知道怎么给用户设计出完美的产品的姿态时，你最好相信我，我们就是笨蛋。你可以说是自大，天真，或是别的什么，无所谓，但最终的结果就是我们干的很愚蠢。因为，这世界不可能有一个产品对所有人都是完美的。</font></p>\r\n<p><font size=\"3\">你看，我们的浏览器居然不能让人设定默认的字号。这就是我们对Accessibility的公然冒犯。我的意思是，我总有一天会老的，我也会得老花\r\n眼，并会变瞎的。我的意思是我不会变瞎，但是如果你到了40岁，你的老花眼让你看不清近的东西。那么，字号的选择会成为生和死的问题：某用户就会被完全排\r\n除在产品之外。但是Chrome团队就是这么NB傲慢：他们想要开发出无需配置的产品，他们对此相当自豪，去你TMD是瞎子还聋子，管你是谁，在你剩下的\r\n日子每访问一个页面都按一下Ctrl-+吧。</font></p>\r\n<p><font size=\"3\">并不仅是他们是第一个。问题是，我们是一家“产品”公司，一直一直都是。我们开发的最成功最有吸引力的产品——搜索引擎，那样巨大的成功让我们产生了很多定式和偏见。</font></p>\r\n<ul><li><font size=\"3\">Amazon过去也是家产品公司，一道神秘的力量使得Bezos领悟到他们需要平台。那道神秘力量来源于，他们被 \r\n逐渐蒸发的市值逼到墙角了，不得不想方设法突围出来。但他当时所拥有的只有一群工程师和他们的一堆计算机……除非他们能变成印钞机……你可以看到他们是怎\r\n么搞出来AWS的，而不是像我们Google+一样事后诸葛亮。</font></li></ul>\r\n<ul><li><font size=\"3\">Microsoft从一开始就是个平台，所以他们有很多很多的实践。</font></li></ul>\r\n<ul><li><font size=\"3\">Facebook：我有些没看透。我不是专家，不过我很肯定他们一开始也是一个产品，并且成功了很长时间。所以我不知道他们什么时候开始转变成为\r\n平台的。应该是很久以前的事了，因为他们要成为平台后，Mafia Wars这玩意才会出现（而Mafia \r\nWars也很老了）。也许，Facebook只是看一眼我们，就问到：“我们如何击败Google？他们少了什么？”</font></li></ul>\r\n<p><font size=\"3\">我们面对的问题非常的庞大，因为我们需要经过剧烈的文化转变后，我们才能迎头赶上。我们没有内部的SOA平台，所以我们外部也没有。这就是说，我们\r\n整个公司都“没有领会到”：产品经理没有，工程师没有，产品团队没有，没人领会到。就算是个别人有，比如你你有，那也相当于没有，除非我们在生死存亡的时\r\n候。我们不能这样不断推出产品，并装作我们以后会把这些产品转变成迷人美丽的可扩展式的平台。我们试过了，不行。</font></p>\r\n<p><font size=\"3\">平台的黄金守则，“Eat Your Own \r\nDogfood&nbsp;吃自己的狗食”，换句话说，“先打造出自己使用平台，然后把它用在所有的地方”。你不能事后再做，那样做就太困难了——你去问问那些把\r\nMS \r\nOffice平台化、把Amazon平台化的人。如果你放在后面做，那么你比一开始要花十倍的精力才能做对。你不能作弊，你不能让内部软件走秘密通道以取\r\n得特定的优先权限，不为什么，你必需从一开始就要解决这个问题。</font></p>\r\n<p><font size=\"3\">我不是说现在做已经太迟了，但我们等的越长，我们就会越接近——“太迟了”。</font></p>\r\n<p><font size=\"3\">老实说，我不知道这篇文章怎么收尾。我今天在这里说得太多了。因为这篇文章花了我6年时间。请包涵我言语冒犯之处，包涵我可能误解了一些产品，团队，或某个人。也许我们真的在开始做了很多平台方面的东西，只是我没看到。我只想说声对不起。</font></p>\r\n<p><font size=\"3\">但是，我们现在开始必需把事做对了！</font></p>',1,0,'',3,'',1419941063,1406266112),(72,1,'','如何写一个简单的词典','Linux, 词典',250,'<blockquote><b><font size=\"5\">前言</font></b><br></blockquote><font size=\"3\">　　使用Linux时,是否需要一个英语词典来查一查自己不认识的单词，并且可以有记忆功能，看起来很复杂，其实我们只需要简单的一点工具就可以做到。我们需要一点脚本比如PHP,Python,一点shell就可以搞定。大概的思路是这样的使用curl去一个词典网站获取单词信息，再处理一下，存到文件，加上命令补全就可以当做历史记录了。<br><br></font><blockquote><b><font size=\"5\">正文</font></b><br></blockquote>　<font size=\"3\">先说一下我的环境：</font><br><pre class=\"highlight\"> <font size=\"3\">(apacal)-(jobs:0)-(~/www/v2_dev/common)\r\n(! 2020)-&gt; cat /etc/issue\r\nUbuntu 14.04 LTS \\n \\l\r\n\r\n(apacal)-(jobs:0)-(~/www/v2_dev/common)\r\n(! 2021)-&gt; php --version\r\nPHP 5.5.9-1ubuntu4 (cli) (built: Apr  9 2014 17:11:57) \r\nCopyright (c) 1997-2014 The PHP Group\r\nZend Engine v2.5.0, Copyright (c) 1998-2014 Zend Technologies\r\n    with Zend OPcache v7.0.3, Copyright (c) 1999-2014, by Zend Technologies\r\n    with Xdebug v2.2.3, Copyright (c) 2002-2013, by Derick Rethans\r\n</font></pre><font face=\"Comic Sans MS\" size=\"3\">　　我使用PHP作为获取单词信息的脚步语言，也可以使用python等。<br></font><ul><li><b><font size=\"3\"><font face=\"Comic Sans MS\">选择一个词典网页作为信息来源</font></font></b></li></ul><b><font size=\"3\"><font face=\"Comic Sans MS\">　　</font></font></b><font size=\"3\"><font face=\"Comic Sans MS\">我是使用金山词霸，也可以使用有道等等，选择好之后，找到其查单词的url的规律</font></font><font size=\"3\"><font face=\"Comic Sans MS\">，比如金山词霸的url类似</font></font><b><font size=\"3\"><font face=\"Comic Sans MS\">,</font></font></b><font size=\"3\"><font face=\"Comic Sans MS\">我发现金山词霸有提供api就直接使用其api<br></font></font><pre class=\"highlight\"> <font size=\"3\">http://www.iciba.com/linux</font></pre><ul><li><b><font size=\"3\"><font face=\"Comic Sans MS\">使用php类似的脚步去获取单词信息</font></font></b></li></ul><font size=\"3\"><font face=\"Comic Sans MS\">　　我使用php，并使用金山词霸的api去查询单词，把下面代码放到~/bin/dictionary</font></font><hr>　　　<br><pre class=\"highlight\"> <font size=\"3\">#!/usr/bin/php\r\n&lt;?php\r\n/**\r\n * @file dictionary\r\n * @brief   find a english word from iciba.com, can not find chinese\r\n * @author Apacal, apacal@126.com\r\n\r\n * Copyright (C) Apacal, apacal@126.com\r\n * This program is free software: you can redistribute it and/or modify\r\n * it under the terms of the GNU General Public License as published by\r\n * the Free Software Foundation, either version 3 of the License, or\r\n * (at your option) any later version.\r\n * \r\n * This program is distributed in the hope that it will be useful,\r\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\r\n * GNU General Public License for more details.\r\n * You should have received a copy of the GNU General Public License\r\n * along with this program.  If not, see &lt;http://www.gnu.org/licenses/&gt;.\r\n\r\n * @version \r\n * @date 2014-07-31\r\n */\r\n\r\nfunction object_to_array($obj) {\r\n    $_arr= is_object($obj) ? get_object_vars($obj) : $obj;\r\n    $arr = array();\r\n    foreach($_arr as $key=&gt; $val) {\r\n        $val= (is_array($val) || is_object($val)) ? object_to_array($val) : $val;\r\n        $arr[$key] = $val;\r\n    }\r\n    return $arr;\r\n}\r\n\r\n\r\ndefine (\'KEY\', \'22665603177004865B32F0463CC89828\');\r\n$argv = $_SERVER[\'argv\'];\r\n$word = isset($argv[1]) ? $argv[1] : \'gnu\';\r\n\r\nif (preg_match(\"/^[\\x7f-\\xff]+$/\", $word)) { \r\n    exit(\"can not find chinese!\");\r\n}\r\n\r\n$url = \'http://dict-co.iciba.com/api/dictionary.php?type=json&amp;w=\' .$word .\'&amp;key=\' .KEY;\r\n\r\n$data = json_decode(file_get_contents($url));\r\n$symbols = object_to_array($data-&gt;symbols)[0];\r\nif (!isset($symbols[\'parts\'])) {\r\n    exit(\"can not find [$word]\");\r\n}\r\n\r\n$phEn = $symbols[\'ph_en\'];\r\n$phAm = $symbols[\'ph_am\'];\r\n\r\n$means = \"\";\r\nforeach($symbols[\'parts\'] as $val) {\r\n    $means .= $val[\'part\'] .\"\\t\";\r\n    foreach ($val[\'means\'] as $value) {\r\n        $means .= $value .\"\\t\";\r\n    }\r\n    $means .= \"\\n\";\r\n}\r\n\r\n$means = trim($means, \"\\n\");\r\n//echo $means;\r\n//print_r($symbols);\r\necho &lt;&lt;&lt;EOF\r\n$word\r\n英[$phEn]   美[$phAm] \r\n$means\r\nEOF;\r\n</font> <font size=\"3\">\r\n</font></pre><ul><li><b><font face=\"Comic Sans MS\" size=\"3\">在~/.bashrc中加入保存到文件和补全</font></b></li></ul><font face=\"Comic Sans MS\" size=\"3\">　　记得建立~/.dic文件夹</font><b><font face=\"Comic Sans MS\" size=\"3\"><br></font></b><pre class=\"highlight\"> <font size=\"3\"># ================== start dic ==========================\r\nexport DICPATH=$HOME/.dic\r\nfunction dic {\r\n    word=$1\r\n    local dic_list=($(compgen -f -- \"$DICPATH/$word\"))\r\n\r\n    if [ ${#dic_list[@]} -eq 0 ]; then\r\n        content=`dictionary $word`\r\n        echo \"$content\"\r\n        echo \"$content\" &gt; \"$DICPATH/$word\"\r\n        # invalid mark name, print error\r\n    elif [ ${#dic_list[@]} -eq 1 ]; then\r\n        # only one result, dictionary now\r\n        content=`dictionary $word`\r\n        echo \"$content\"\r\n        echo \"$content\" &gt; \"$DICPATH/$word\"\r\n    else # multiple results, show select menu\r\n        select name in ${mark_list[@]}; do\r\n            content=`dictionary $word`\r\n            echo \"$content\"\r\n            echo \"$content\" &gt; \"$DICPATH/$word\"\r\n        done\r\n    fi\r\n}\r\n# List the predefined dic\r\nfunction dics\r\n{\r\n    local file\r\n    for file in $DICPATH/*; do\r\n\r\n        printf \"%-15s -&gt; \\t%s\\n\" \"$(basename \"$file\")\" \"$(tail -n 1 \"$file\")\"\r\n    done\r\n}\r\n# Set auto bash completion for command jump or umark\r\nfunction _completedic\r\n{\r\n    local cword=${COMP_WORDS[COMP_CWORD]}\r\n    local dic_list=$(dics | awk -F \'-&gt;\' \'{print $1}\' | sed \'s/ *$//g\')\r\n    # Only do complete on first argument\r\n    if [ $COMP_CWORD -eq 1 ]; then\r\n        COMPREPLY=($(compgen -W \"${dic_list[@]}\" -- \"$cword\"))\r\n    else\r\n        COMPREPLY=()\r\n    fi\r\n\r\n    return 0\r\n}\r\n\r\n# Set auto complete\r\ncomplete -o default -o nospace -F _completedic dic\r\n</font></pre><font face=\"Comic Sans MS\" size=\"3\">最后把.bachrc重新载入或者重新登陆终端<br><br></font><pre class=\"highlight\"> <font size=\"3\">(apacal)-(jobs:0)-(~/www/v2_dev/common)\r\n(! 2027)-&gt; source ~/.bashrc</font><font face=\"Comic Sans MS\" size=\"3\"><br></font></pre><img class=\"view-image\" src=\"/Uploads/Article/image/20140808/ablg_1407478620.png\"><div>　<font size=\"3\">　上面是我的效果</font><br><blockquote><font size=\"5\"><b>总结</b></font><br></blockquote>　　<font size=\"3\">在Linux下我们很容易组合一套自己想要的工具，它足够简单。</font><br></div>',1,0,'',3,'',1419940994,1407477249),(73,1,'','使用vundle来管理VIM插件','vundle, VIM插件管理',332,'<blockquote><font face=\"Comic Sans MS\" size=\"3\"><b><font size=\"5\">前言</font></b></font><br></blockquote><font face=\"Comic Sans MS\" size=\"3\"><font face=\"Arial\">　　vim有着丰富的插件，如何有效的管理这些插件是一件很重要的事情，vundle是一个很好的vim插件管理工具。Vundle是基于Git仓库的插件管理软件。Vundle将插件的安装简化为类似yum软件安装的过程，只要在vim中执行<code>:PluginInstall</code>插件就安装完了，<code>:PluginClean</code>之后插件就卸载了.<br><br></font></font><blockquote><b><font face=\"Comic Sans MS\" size=\"5\">正文</font></b><br></blockquote><ul><li><b><font size=\"3\">安装git和git clone vundle文件</font></b></li></ul><font size=\"3\">　　安装好git和把vundle文件下载到本地</font><b><font size=\"3\"><br></font></b><br><font face=\"Comic Sans MS\" size=\"3\"><font face=\"Arial\"><span style=\"font-size: 13px;\"></span></font></font><pre class=\"highlight\"><font size=\"3\">$ sudo apt-get install git\r\n$ git clone https://github.com/gmarik/Vundle.vim.git ~/.vim/bundle/Vundle.vim</font></pre><ul><li><b><font size=\"3\"><font face=\"Comic Sans MS\">配置~/.vimrc文件，使其支持vundle</font></font></b></li></ul><font size=\"3\">　　编辑~/.vimrc文件<code>vim ~/.vimrc</code></font><hr><pre class=\"highlight\"> <font size=\"3\">\r\n\"conf for vundle {{  vundle 插件管理工具\r\n\" set the runtime path to include Vundle and initialize\r\nset rtp+=~/.vim/bundle/Vundle.vim\r\ncall vundle#begin()\r\n\" alternatively, pass a path where Vundle should install plugins\r\n\"call vundle#begin(\'~/some/path/here\')\r\n\r\n\r\n\"plugin on GitHub repo Github网站上非vim-scripts仓库的插件，按下面格式填写 使用github帐号/项目名{\r\nPlugin \'gmarik/Vundle.vim.git\'\r\n\r\n\"Command-T \r\n\"$cd ~/.vim/bundle/command-t/ruby/command-t\r\n\"$ruby extconf.rb\r\n\"$make\r\nPlugin \'apacal/Command-T\'\r\n\r\n\"nerdtree\r\nPlugin \'apacal/nerdtree\'\r\n\r\nPlugin \'tpope/vim-fugitive\'\r\nPlugin \'rstacruz/sparkup\', {\'rtp\': \'vim/\'}\r\n\r\n\" go-lang\r\nPlugin \'fatih/vim-go\'\r\nPlugin \'rkulla/pydiction\'\r\n\r\n\"垂直缩进显示\r\nPlugin \'apacal/vim-indent-guides\'\r\n\r\n\"perl-support\r\nPlugin \'apacal/perl-support.vim\'        \"perl IDE\r\n\r\nPlugin \'vim-scripts/perl.vim\'\r\n\r\nPlugin \'vim-scripts/Show-mandictperldocpydocphpdoc-use-K\'\r\n\r\n\"powerline\r\nPlugin \'apacal/vim-powerline\'\r\n\r\n\"}\r\n\r\n\r\n\"代码在vimscript上，使用插件名称，插件名字可以在 http://vim-scripts.org/vim/scripts.html页面中查找，例如：{\r\nBundle \'L9\'  \r\nBundle \'FuzzyFinder\'  \r\nBundle \'vimwiki\' \r\nPlugin \'python.vim\'  \r\nPlugin \'minibufexpl.vim\'\r\n\r\n\" bash-support\r\nPlugin \'bash-support.vim\'               \"bash IDE\r\n\r\n\" php \r\nPlugin \'PHPcollection\'\r\nPlugin \'php.vim-for-php5\'               \"Syntax file for php5\r\nPlugin \'php-doc\'                        \"Basic phpdoc support for vim.\r\n\r\n\r\n\"Plugin \'Vim-Support\'                    \"Vim IDE\r\n\r\nPlugin \'c.vim\'                          \"IED for c\r\n\r\n\r\nPlugin \'pythonhelper\'\r\n\"}\r\n\r\n</font></pre><ul><li><font face=\"Comic Sans MS\" size=\"3\"><b>安装插件</b></font></li></ul><font face=\"Comic Sans MS\" size=\"3\">　　使用vunble安装的插件必须来源自git，可以使用帐号/仓库名和插件名来安装<br><br></font><pre class=\"highlight\"><font size=\"3\">\"plugin on GitHub repo Github网站上非vim-scripts仓库的插件，按下面格式填写 使用github帐号/项目名{\r\nPlugin \'gmarik/Vundle.vim.git\'\r\n\r\n\"代码在vimscript上，使用插件名称，插件名字可以在 http://vim-scripts.org/vim/scripts.html页面中查找，例如：{\r\nBundle \'L9\'  \r\nBundle \'FuzzyFinder\'  \r\nBundle \'vimwiki\' \r\n</font></pre><font face=\"Comic Sans MS\" size=\"3\">　　编辑玩保存，再打开vim,使用<code>:PluginInstall</code></font><font face=\"Comic Sans MS\" size=\"3\">来安装插件，（还有一个有用的命令　<code>:Helptags</code></font><font size=\"3\">　来安装一些插件）</font>，<font size=\"3\">一些命令如下</font><br><br><pre class=\"highlight\"><font size=\"3\">\" Brief help\r\n\" :PluginList       - lists configured plugins\r\n\" :PluginInstall    - installs plugins; append `!` to update or just :PluginUpdate\r\n\" :PluginSearch foo - searches for foo; append `!` to refresh local cache\r\n\" :PluginClean      - confirms removal of unused plugins; append `!` to auto-approve removal\r\n\"\r\n\" see :h vundle for more details or wiki for FAQ\r\n</font></pre><blockquote><b><font face=\"Comic Sans MS\" size=\"5\">结束<br></font></b></blockquote><font face=\"Comic Sans MS\" size=\"3\">　　vundle是一个很强大的vim插件管理工具，极大简化了vim插件管理，可以去<a href=\"http://vim-scripts.org/vim/scripts.html\">http://vim-scripts.org/vim/scripts.html</a>去查找vim的插件。如果不需要某个插件，只需要在~/vimrc中注释掉，再执行:PluginClean</font>.<br><font size=\"3\">　　我的vim配置文件<a href=\"https://github.com/apacal/.vim\">https://github.com/apacal/.vim</a></font><br><a href=\"http://vim-scripts.org/vim/scripts.html\"></a>',1,0,'',3,'',1419940970,1408596318),(74,12,'','大学','大学',182,'<blockquote><font face=\"Comic Sans MS\" size=\"3\"><b><font size=\"5\">原文</font></b></font><br></blockquote><font face=\"Comic Sans MS\" size=\"3\">　　大学之道，在明明德，在亲民，在止于至善．知止而后有定，定而后能静，静而后能安，安而后能虑，虑而后能得．物有本末，事有始终．知所先后，则近道矣．<br>　　古之欲明明德于天下者，先治其国；欲治其国者，必先齐其家；欲齐其家者，先修其身；欲修其身者．先正其心；欲正其心者，先诚其意；欲诚其意者，先致其知．致知在格物．格物而后知至，知至而后意诚，意诚而后心正，心正而后身修，身修而后家齐，家齐而后国治，国治而后天下平．<br>　　自天子以至庶人，壹是皆以修身为本．<br>　　其本乱而末治者，否也；其所厚者薄，其所薄者厚，未之有也．<br></font><blockquote><font size=\"5\"><b><font face=\"Comic Sans MS\">注解</font></b></font><br></blockquote><font face=\"Comic Sans MS\" size=\"3\">    ＂大学者，大人之学也\"，是每个人都必须的常人之学．大学阐述了＂治国平天下＂的理论，主要为＂三纲八目＂．＂三纲＂是＂明明德＂，＂亲民＂，＂止于至善＂．<<大学>>认为，人本来就具有高尚的＂明德＂，入世以后，＂明德＂被掩盖，通过＂大学之道＂的教育，能重新发扬明德，革新民心，达到道德上至善至美的境界．具体做法就是做到＂八目＂：＂格物＂，＂致知＂，＂诚意＂，＂正心＂，＂修身＂，＂齐家＂，＂治国＂，＂平天下＂．此＂八目＂中，＂修身＂是根本，前四目是修身的方法，后三目是修身的目的．大学是要求人人能正心，诚意，个个能修身，齐家．正心和诚意是＂大人＂和常人修身的起点；齐家是人人的希望和职责；治国，平天下也是一国之人的共同愿望．大学不仅是＂大人＂之学，更是每个人都需要的常人之学．</font><br><br><br><br>',1,0,'',3,'',1408873973,1408873973),(75,11,'','使用perl-suppor t.vim插件来打造vim的perl ide ','perl, vim, perl-support',169,'<blockquote><font face=\"Comic Sans MS\" size=\"3\"><b><font size=\"5\">前言</font></b></font><br></blockquote><font face=\"Comic Sans MS\" size=\"3\">这是一篇翻译自<a target=\"_blank\" href=\"http://www.thegeekstuff.com\">thegeekstuff</a>的文章，原文为：<a href=\"http://www.thegeekstuff.com/2009/01/make-vim-as-your-perl-ide-using-perl-supportvim-plugin\">Make Vim as Your Perl IDE Using perl-support.vim Plugin</a>\r\n这篇文章是<a target=\"_blank\" href=\"http://www.thegeekstuff.com/tag/vi-vim-tips-and-tricks/\">Vi/Vim Tips and Trickes</a>系列的文章。作为一个程序员，在我们编码时经常做一些重复的动作,例如:\r\n<pre><font face=\"Comic Sans MS\">添加文件头部描述\r\n添加函数，代码段的注释\r\n包含默认的代码段\r\n预先的语法检查\r\n参看关于某个函数的文档\r\n注释和反注释代码段\r\n</font></pre>\r\n\r\n<a target=\" _blank\" href=\"http://www.vim.org/scripts/script.php?script_id=556\">Perl-Support</a>Vim Plugin－Perl-IDE提供简单的方式去执行上面的动作（减少很多次敲击键盘次数）\r\n\r\n这个插件是由Fritz Mehner编写的，只为\"Write and run Perl-script using menus and hot keys\"。\r\n\r\n这篇文章介绍如何3步安装插件和7个强大的特性。&nbsp;</font><hr><font face=\"Comic Sans MS\" size=\"3\"><br></font><blockquote><font size=\"5\"><b><font face=\"Comic Sans MS\">正文</font></b></font><br></blockquote><br><blockquote><font face=\"Comic Sans MS\" size=\"3\"><b>3步安装Perl-Support插件\r\n</b></font><br></blockquote><ul><li><font size=\"3\"><b><font face=\"Comic Sans MS\">Step 1:下载Perl-Support Vim插件 <br></font></b></font></li></ul><font size=\"3\"><font face=\"Comic Sans MS\">从<a target=\"_blank\" href=\"http://www.vim.org/scripts/script.php?script_id=556\">vim.org.website</a>下载插件\r\n</font></font><pre><font face=\"Comic Sans MS\" size=\"3\">$ cd ~/src\r\n$ wget http://www.vim.org/scripts/download_script.php?src_id=21738\r\n</font></pre><ul><li><font face=\"Comic Sans MS\" size=\"3\">\r\n\r\n<b>Step 2:安装Perl-Support</b></font></li></ul><font face=\"Comic Sans MS\" size=\"3\">解压文件到~/.vim\r\n</font><pre><font face=\"Comic Sans MS\" size=\"3\">$ cd ~/.vim\r\n$ unzip ~/src/download_script.php?src_id=21738 \r\n</font></pre><ul><li><font face=\"Comic Sans MS\" size=\"3\">\r\n\r\n<b>Step 3:在Vim中打开插件支持\r\n</b></font></li></ul><pre><font face=\"Comic Sans MS\" size=\"3\">$ vim ~/.vimrc\r\nfiletype plugin on\r\n</font></pre><font face=\"Comic Sans MS\" size=\"3\">\r\n\r\n这样的安装方式不是特别好，如果使用vundle来管理vim插件,在.vimrc中加入<code>Plugin \'apacal/perl-support.vim\'        \"perl IDE</code>再使用<code>:PluginInstall</code>安装插件，关于vundle使用可以参考我这篇文章<a target=\"_blank\" href=\"http://apacal.cn/article/73.html\">使用vundle来管理VIM插件</a>\r\n\r\n<br></font><br><blockquote><b><font face=\"Comic Sans MS\" size=\"3\">七个Perl-support提供的强大的特性 </font></b><br></blockquote><ul><li><font face=\"Comic Sans MS\" size=\"3\"><b>特性1：为*.pl文件自动添加头部信息 </b><br></font></li></ul><font face=\"Comic Sans MS\" size=\"3\">当你打开一个后缀为.pl的新文件时，该文件会伴随一下头部信息。并且将光标移动到Description字段，并进入Insert mode。\r\n</font><pre><font face=\"Comic Sans MS\" size=\"3\">#!/usr/bin/env perl \r\n#== Comments.special.GNU license == below ==\r\n#//       License:  Copyright (c) 2014, Apacal\r\n#//\r\n#//   This program is free software; you can redistribute it and/or\r\n#//   modify it under the terms of the GNU General Public License as\r\n#//   published by the Free Software Foundation, version 2 of the\r\n#//   License.\r\n#//   This program is distributed in the hope that it will be\r\n#//   useful, but WITHOUT ANY WARRANTY; without even the implied\r\n#//   warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR\r\n#//   PURPOSE.\r\n#//   See the GNU General Public License version 2 for more details.\r\n#== Comments.file description == start ==\r\n#// ==================================================\r\n#//          File:  hello.pl\r\n#//   Description:  \r\n#//\r\n#//           Web:  http://apacal.cn\r\n#//        Author:  Apacal, apacal@126.com\r\n#//       Version:  1.0\r\n#//       Created:  2014年08月25日\r\n#//      Encoding:  utf-8\r\n#// ==================================================\r\n\r\nuse 5.010;\r\nuse autodie;\r\nuse strict;\r\nuse warnings;\r\nuse utf8;\r\n\r\n</font></pre><font face=\"Comic Sans MS\" size=\"3\">\r\n在Templates文件中修改AUTHOR 和COMPANY等默认值。<code>vim ~/.vim/bundle/perl-support.vim/perl-support/templates/Templates</code>\r\n</font><pre><font face=\"Comic Sans MS\" size=\"3\">vim ~/.vim/bundle/perl-support.vim/perl-support/templates/Templates \r\n\r\n\r\n§ ==========================================================\r\n§  User Macros\r\n§ ==========================================================\r\n\r\nSetMacro( \'AUTHOR\',      \'Apacal\' )\r\nSetMacro( \'AUTHORREF\',   \'\' )\r\nSetMacro( \'COMPANY\',     \'cmcm\' )\r\nSetMacro( \'COPYRIGHT\',   \'\' )\r\nSetMacro( \'EMAIL\',       \'apacal@126.com\' )\r\nSetMacro( \'LICENSE\',     \'GPL\' )\r\nSetMacro( \'ORGANIZATION\',\'\' )\r\n\r\n</font></pre><font face=\"Comic Sans MS\" size=\"3\">\r\n在comments.templates修改个性的hearder<code>vim ~/.vim/bundle/perl-support.vim/perl-support/templates/comments.templates</code>\r\n</font><pre><font face=\"Comic Sans MS\" size=\"3\">vim ~/.vim/bundle/perl-support.vim/perl-support/templates/comments.templates \r\n\r\n== Comments.file description pl == map:chpl, sc:d, start, noindent ==\r\n#!/usr/bin/env perl \r\n#== Comments.special.GNU license == below ==\r\n#//       License:  Copyright (c) |YEAR|, |AUTHOR|\r\n#//\r\n#//   This program is free software; you can redistribute it and/or\r\n#//   modify it under the terms of the GNU General Public License as\r\n#//   published by the Free Software Foundation, version 2 of the\r\n#//   License.\r\n#//   This program is distributed in the hope that it will be\r\n#//   useful, but WITHOUT ANY WARRANTY; without even the implied\r\n#//   warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR\r\n#//   PURPOSE.\r\n#//   See the GNU General Public License version 2 for more details.\r\n#== Comments.file description == start ==\r\n#// ==================================================\r\n#//          File:  |FILENAME|\r\n#//   Description:  <cursor>\r\n#//\r\n#//           Web:  http://apacal.cn\r\n#//        Author:  |AUTHOR|, |EMAIL|\r\n#//       Version:  1.0\r\n#//       Created:  |DATE|\r\n#//      Encoding:  utf-8\r\n#// ==================================================\r\n\r\nuse 5.010;\r\nuse autodie;\r\nuse strict;\r\nuse warnings;\r\nuse utf8;\r\n</cursor></font></pre><ul><li><font face=\"Comic Sans MS\" size=\"3\">\r\n\r\n\r\n<b>特性2:使用<code>\\isu</code>添加子程序\r\n</b></font></li></ul><font face=\"Comic Sans MS\" size=\"3\">在normal mode使用<code>\\isu</code>，然后输入子程序名，就会生成子程序模板。\r\n</font><pre><font face=\"Comic Sans MS\" size=\"3\">sub sort {\r\n    my	( $par1 )	= @_;\r\n    return ;\r\n} ## --- end sub sort\r\n</font></pre><ul><li><font face=\"Comic Sans MS\" size=\"3\">\r\n\r\n<b>特性3:使用<code>\\cfu</code>添加子程序说明\r\n</b></font></li></ul><font face=\"Comic Sans MS\" size=\"3\">在normal mode使用<code>\\cfu</code>，然后输入子程序名，就会生成子程序说明模板。\r\n</font><pre><font face=\"Comic Sans MS\" size=\"3\">#===  FUNCTION  ================================================================\r\n#         NAME: sort\r\n#      PURPOSE: \r\n#   PARAMETERS: ???\r\n#      RETURNS: ????\r\n#  DESCRIPTION: ????\r\n#       THROWS: no exceptions\r\n#     COMMENTS: none\r\n#     SEE ALSO: n/a\r\n#===============================================================================\r\nsub sort {\r\n    my	( $par1 )	= @_;\r\n    return 1;\r\n} ## --- end sub sort\r\n</font></pre><font face=\"Comic Sans MS\" size=\"3\">\r\n也可以在<code>vim ~/.vim/bundle/perl-support.vim/perl-support/templates/comments.templates</code>默认的template\r\n<br></font><ul><li><font face=\"Comic Sans MS\" size=\"3\"><b>特性4：使用<code>\\cfr</code>添加一个Frame Comment\r\n</b></font></li></ul><font face=\"Comic Sans MS\" size=\"3\">在normal mode使用<code>\\cfr</code>，就会生成一个Fram Comment。\r\n</font><pre><font face=\"Comic Sans MS\" size=\"3\">#-------------------------------------------------------------------------------\r\n#  \r\n#-------------------------------------------------------------------------------\r\n</font></pre><ul><li><font face=\"Comic Sans MS\" size=\"3\">\r\n<b>特性5：使用<code>\\rr</code>保存文件并运行\r\n</b></font></li></ul><font face=\"Comic Sans MS\" size=\"3\">在normal mode使用<code>\\rr</code>，将保存文件，并运行。\r\n<br><br></font><ul><li><font face=\"Comic Sans MS\" size=\"3\"><b>特性6：使用<code>\\cc</code>注释和反注释一段代码</b>&nbsp;</font></li></ul><font face=\"Comic Sans MS\" size=\"3\">在visual mode下选择一段代码，再使用<code>\\cc</code>注释或者反注释选择的代码 <br></font><ul><li><font face=\"Comic Sans MS\" size=\"3\"><b>&nbsp;特性7：使用<code>\\nr</code>插入预先定义好的代码断 </b><br></font></li></ul><font face=\"Comic Sans MS\" size=\"3\">该插件可以插入一些预先定义的代码断到当前文件，预先定义的代码断在<code>ls ~/.vim/bundle/perl-support.vim/perl-support/codesnippets/</code>，每个代码段为一个文件。\r\n</font><pre><font face=\"Comic Sans MS\" size=\"3\">ls ~/.vim/bundle/perl-support.vim/perl-support/codesnippets/\r\n\r\ndot.SmallProf\r\nfree-software-comment\r\nmodule-interface.pl\r\nnew.pl\r\npod-template-application.pl\r\npod-template-module.pl\r\nprint-data-structure-with-Dumper.pl\r\nprint-hash.pl\r\nprint-hash-sorted.pl\r\nprocess-all-files-in-a-directory-recursively.pl\r\nRegularExpressions\r\nslurp-file.pl\r\nSmallProf-variables.pl\r\nstdin.pl\r\n</font></pre><font face=\"Comic Sans MS\" size=\"3\">\r\n比如，你可能需要创建一个函数，用来打印hash的内容，现在你可以复用预先定义的code snippets.\r\n</font><pre><font face=\"Comic Sans MS\" size=\"3\">cat ~/.vim/bundle/perl-support.vim/perl-support/codesnippets/print-hash.pl\r\n\r\n#----------------------------------------------------------------------\r\n#  subroutine : print_hash\r\n#----------------------------------------------------------------------\r\nsub print_hash {\r\n  my  $hashref  = shift;      # 1. parameter : hash reference\r\n  print \" \\n\";=\"\" while=\"\" (=\"\" my=\"\" $key,=\"\" $value=\"\" )=\"each\" %$hashref=\"\" {=\"\" print=\"\" \"\'$key\'\\t=\"\"&gt;\\t\'$value\'\\n\";\r\n  }       # -----  end while  -----\r\n} # ----------  end of subroutine print_hash  ----------\r\n</font></pre><font face=\"Comic Sans MS\" size=\"3\">\r\n\r\n要将上述代码加入你正在编写的perl程序中，在normal mode下使用<code>\\nr</code>vim将会提示一个<code>read snippet /home/apacal/.vim/bundle/perl-support.vim/perl-support/codesnippets/</code>再键入print-hash.pl按下回车，就会将print-hash.pl插入到当前Perl程序中。<br><br><b>&nbsp;Note:</b>我们可以定义自己的code snippest放到<code>~/.vim/bundle/perl-support.vim/perl-support/codesnippets/</code>中。更简洁的方法是选择需要创建的code snippest代码断，在键入<code>\\nw</code>再输入该code snippest的名字（file-name）。下次就可以使用<code>\\nr</code>使用它了。<br><font size=\"5\"><b><br></b></font></font><blockquote><font face=\"Comic Sans MS\" size=\"3\"><font size=\"5\"><b>结尾</b></font></font><br></blockquote><font face=\"Comic Sans MS\" size=\"3\">&nbsp;Perl-Support Vim Plugin提供了很多强大的特性，可以阅读文档来查看更多的信息。\r\n<br><b>EADME :</b> ~/.vim/bundle/perl-support.vim/README.perlsupport\r\n<br><b>PDF :</b> ~/.vim/bundle/perl-support.vim/perl-support/doc/perl-hot-keys.pdf\r\n\r\n<br>原文推荐了《vim 101  hacks》书籍，我推荐中文的<a target=\"_blank\" href=\"http://www.amazon.cn/Vim%E5%AE%9E%E7%94%A8%E6%8A%80%E5%B7%A7-%E5%B0%BC%E5%B0%94/dp/B00JONY3W0/ref=sr_1_1?ie=UTF8&amp;qid=undefined&amp;sr=8-1&amp;keywords=vim\">《Vim实用技巧 》</a></font>\r\n',1,0,'',3,'',1419940867,1408960920),(76,1,'','sphinx生成中文的PDF','sphinx, 中文pdf',180,'<blockquote><font face=\"Comic Sans MS\"><b><font size=\"5\">简介&nbsp; </font></b><br></font></blockquote><font face=\"Comic Sans MS\">　<font size=\"3\">　Sphinx 是一种工具，它允许开发人员以纯文本格式编写文档，以便采用满足不同需求的格式轻松生成输出。这在使用 Version Control System 追踪变更时非常有用。纯文本文档对不同系统之间的协作者也非常有用。纯文本是当前可以采用的最便捷的格式之一。&nbsp; 虽然 Sphinx 是用 Python 编写的，并且最初是为 Python 语言文档而创建，但它并不一定是以语言为中心，在某些情况下，甚至不是以程序员为中心。Sphinx 有许多用处，比如可以用它来编写整本书！ 突出显示&nbsp; 默认情况下，Sphinx 会为 Python 突出显示代码，但它还允许定义其他编程语言，比如 C 和 Ruby。&nbsp; 可以将 Sphinx 想像成为一种文档框架：它会抽象化比较单调的部分，并提供自动函数来解决一些常见问题，比如突出显示标题索引和特殊代码（在显示代码示例时），以及突出显示适当的语法。<br>　　sphinx可以利用LaTeX将rST源文件转换成PDF文件，但是官方的是不支持中文的，因而必须要对其进行修改。对于生成pdf的中文，我们责任选择比较好的xelatex<br><br></font></font><blockquote><font face=\"Comic Sans MS\" size=\"3\"><b><font size=\"5\">基础知识</font></b></font><font face=\"Comic Sans MS\"><br></font></blockquote><hr><h2 id=\"A.2BVA2LzQ-\" style=\"padding-top:0px; padding-right:0px; padding-bottom:0.3em; padding-left:0px; border-bottom-width:3px; border-bottom-style:solid; border-bottom-color:rgb(4,115,7)\"><font face=\"Comic Sans MS\"> <font size=\"5\">名词</font></font></h2><font face=\"Comic Sans MS\" size=\"3\"> \r\n<span class=\"anchor\" id=\"line-11-1\"></span> \r\n</font><p class=\"line874\"><font face=\"Comic Sans MS\" size=\"3\">相关(类似)的名词太多了，想分清真不容易<span class=\"anchor\" id=\"line-12-1\"></span><span class=\"anchor\" id=\"line-13-1\"></span></font></p><font face=\"Comic Sans MS\" size=\"3\"> \r\n</font><div> \r\n <table style=\"margin-top:0.5em; margin-right:0px; margin-bottom:0px; margin-left:0.5em; border-collapse:collapse\"> \r\n  <tbody> \r\n   <tr> \r\n    <td colspan=\"1\" rowspan=\"6\" style=\"padding-top:0.25em; padding-right:0.5em; padding-bottom:0.25em; padding-left:0.5em; border-top-width:1px; border-right-width:1px; border-bottom-width:1px; border-left-width:1px; border-top-style:solid; border-right-style:solid; border-bottom-style:solid; border-left-style:solid; border-top-color:rgb(4,115,7); border-right-color:rgb(4,115,7); border-bottom-color:rgb(4,115,7); border-left-color:rgb(4,115,7); text-align:center\"> <p class=\"line862\" style=\"margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px\"><font face=\"Comic Sans MS\" size=\"3\"> 引擎</font></p> </td> \r\n    <td style=\"padding-top:0.25em; padding-right:0.5em; padding-bottom:0.25em; padding-left:0.5em; border-top-width:1px; border-right-width:1px; border-bottom-width:1px; border-left-width:1px; border-top-style:solid; border-right-style:solid; border-bottom-style:solid; border-left-style:solid; border-top-color:rgb(4,115,7); border-right-color:rgb(4,115,7); border-bottom-color:rgb(4,115,7); border-left-color:rgb(4,115,7)\"> <p class=\"line862\" style=\"margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px\"><font face=\"Comic Sans MS\" size=\"3\"> (Knuth)TeX</font></p> </td> \r\n    <td style=\"padding-top:0.25em; padding-right:0.5em; padding-bottom:0.25em; padding-left:0.5em; border-top-width:1px; border-right-width:1px; border-bottom-width:1px; border-left-width:1px; border-top-style:solid; border-right-style:solid; border-bottom-style:solid; border-left-style:solid; border-top-color:rgb(4,115,7); border-right-color:rgb(4,115,7); border-bottom-color:rgb(4,115,7); border-left-color:rgb(4,115,7)\"> <p class=\"line862\" style=\"margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px\"><font face=\"Comic Sans MS\" size=\"3\"> 真正的(原始的)TeX</font></p> </td> \r\n   </tr> \r\n   <tr> \r\n    <td style=\"padding-top:0.25em; padding-right:0.5em; padding-bottom:0.25em; padding-left:0.5em; border-top-width:1px; border-right-width:1px; border-bottom-width:1px; border-left-width:1px; border-top-style:solid; border-right-style:solid; border-bottom-style:solid; border-left-style:solid; border-top-color:rgb(4,115,7); border-right-color:rgb(4,115,7); border-bottom-color:rgb(4,115,7); border-left-color:rgb(4,115,7)\"> <font face=\"Comic Sans MS\" size=\"3\"><span class=\"anchor\" id=\"line-14-1\"></span></font> <p class=\"line862\" style=\"margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px\"><font face=\"Comic Sans MS\" size=\"3\"> ε-TeX</font></p> </td> \r\n    <td style=\"padding-top:0.25em; padding-right:0.5em; padding-bottom:0.25em; padding-left:0.5em; border-top-width:1px; border-right-width:1px; border-bottom-width:1px; border-left-width:1px; border-top-style:solid; border-right-style:solid; border-bottom-style:solid; border-left-style:solid; border-top-color:rgb(4,115,7); border-right-color:rgb(4,115,7); border-bottom-color:rgb(4,115,7); border-left-color:rgb(4,115,7)\"> <p class=\"line862\" style=\"margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px\"><font face=\"Comic Sans MS\" size=\"3\"> 相对于原始的TeX它提供了一种扩展模式</font></p> </td> \r\n   </tr> \r\n   <tr> \r\n    <td style=\"padding-top:0.25em; padding-right:0.5em; padding-bottom:0.25em; padding-left:0.5em; border-top-width:1px; border-right-width:1px; border-bottom-width:1px; border-left-width:1px; border-top-style:solid; border-right-style:solid; border-bottom-style:solid; border-left-style:solid; border-top-color:rgb(4,115,7); border-right-color:rgb(4,115,7); border-bottom-color:rgb(4,115,7); border-left-color:rgb(4,115,7)\"> <font face=\"Comic Sans MS\" size=\"3\"><span class=\"anchor\" id=\"line-15-1\"></span></font> <p class=\"line862\" style=\"margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px\"><font face=\"Comic Sans MS\" size=\"3\"> pdfTeX</font></p> </td> \r\n    <td style=\"padding-top:0.25em; padding-right:0.5em; padding-bottom:0.25em; padding-left:0.5em; border-top-width:1px; border-right-width:1px; border-bottom-width:1px; border-left-width:1px; border-top-style:solid; border-right-style:solid; border-bottom-style:solid; border-left-style:solid; border-top-color:rgb(4,115,7); border-right-color:rgb(4,115,7); border-bottom-color:rgb(4,115,7); border-left-color:rgb(4,115,7)\"> <p class=\"line862\" style=\"margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px\"><font face=\"Comic Sans MS\" size=\"3\"> 它从tex文件不通过dvi文件直接生成pdf文件（开发者已经转向LuaTeX）</font></p> </td> \r\n   </tr> \r\n   <tr> \r\n    <td style=\"padding-top:0.25em; padding-right:0.5em; padding-bottom:0.25em; padding-left:0.5em; border-top-width:1px; border-right-width:1px; border-bottom-width:1px; border-left-width:1px; border-top-style:solid; border-right-style:solid; border-bottom-style:solid; border-left-style:solid; border-top-color:rgb(4,115,7); border-right-color:rgb(4,115,7); border-bottom-color:rgb(4,115,7); border-left-color:rgb(4,115,7)\"> <font face=\"Comic Sans MS\" size=\"3\"><span class=\"anchor\" id=\"line-16-1\"></span></font> <p class=\"line891\" style=\"margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px\"> <font face=\"Comic Sans MS\" size=\"3\"><strong>XeTeX</strong></font></p> </td> \r\n    <td style=\"padding-top:0.25em; padding-right:0.5em; padding-bottom:0.25em; padding-left:0.5em; border-top-width:1px; border-right-width:1px; border-bottom-width:1px; border-left-width:1px; border-top-style:solid; border-right-style:solid; border-bottom-style:solid; border-left-style:solid; border-top-color:rgb(4,115,7); border-right-color:rgb(4,115,7); border-bottom-color:rgb(4,115,7); border-left-color:rgb(4,115,7)\"> <p class=\"line862\" style=\"margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px\"><font face=\"Comic Sans MS\" size=\"3\"> 相对于原始的TeX，主要增加了Unicode和 OpenType 的支持</font></p> </td> \r\n   </tr> \r\n   <tr> \r\n    <td style=\"padding-top:0.25em; padding-right:0.5em; padding-bottom:0.25em; padding-left:0.5em; border-top-width:1px; border-right-width:1px; border-bottom-width:1px; border-left-width:1px; border-top-style:solid; border-right-style:solid; border-bottom-style:solid; border-left-style:solid; border-top-color:rgb(4,115,7); border-right-color:rgb(4,115,7); border-bottom-color:rgb(4,115,7); border-left-color:rgb(4,115,7)\"> <font face=\"Comic Sans MS\" size=\"3\"><span class=\"anchor\" id=\"line-17-1\"></span></font> <p class=\"line862\" style=\"margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px\"><font face=\"Comic Sans MS\" size=\"3\"> LuaTeX</font></p> </td> \r\n    <td style=\"padding-top:0.25em; padding-right:0.5em; padding-bottom:0.25em; padding-left:0.5em; border-top-width:1px; border-right-width:1px; border-bottom-width:1px; border-left-width:1px; border-top-style:solid; border-right-style:solid; border-bottom-style:solid; border-left-style:solid; border-top-color:rgb(4,115,7); border-right-color:rgb(4,115,7); border-bottom-color:rgb(4,115,7); border-left-color:rgb(4,115,7)\"> <p class=\"line862\" style=\"margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px\"><font face=\"Comic Sans MS\" size=\"3\"> 它使用Lua作为扩展语言，对于LaTeX支持尚不完善？</font></p> </td> \r\n   </tr> \r\n   <tr> \r\n    <td style=\"padding-top:0.25em; padding-right:0.5em; padding-bottom:0.25em; padding-left:0.5em; border-top-width:1px; border-right-width:1px; border-bottom-width:1px; border-left-width:1px; border-top-style:solid; border-right-style:solid; border-bottom-style:solid; border-left-style:solid; border-top-color:rgb(4,115,7); border-right-color:rgb(4,115,7); border-bottom-color:rgb(4,115,7); border-left-color:rgb(4,115,7)\"> <font face=\"Comic Sans MS\" size=\"3\"><span class=\"anchor\" id=\"line-18-1\"></span></font> <p class=\"line862\" style=\"margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px\"><font face=\"Comic Sans MS\" size=\"3\"> ...</font></p> </td> \r\n    <td style=\"padding-top:0.25em; padding-right:0.5em; padding-bottom:0.25em; padding-left:0.5em; border-top-width:1px; border-right-width:1px; border-bottom-width:1px; border-left-width:1px; border-top-style:solid; border-right-style:solid; border-bottom-style:solid; border-left-style:solid; border-top-color:rgb(4,115,7); border-right-color:rgb(4,115,7); border-bottom-color:rgb(4,115,7); border-left-color:rgb(4,115,7)\"><font face=\"Comic Sans MS\" size=\"3\"> &nbsp;</font></td> \r\n   </tr> \r\n   <tr> \r\n    <td colspan=\"1\" rowspan=\"5\" style=\"padding-top:0.25em; padding-right:0.5em; padding-bottom:0.25em; padding-left:0.5em; border-top-width:1px; border-right-width:1px; border-bottom-width:1px; border-left-width:1px; border-top-style:solid; border-right-style:solid; border-bottom-style:solid; border-left-style:solid; border-top-color:rgb(4,115,7); border-right-color:rgb(4,115,7); border-bottom-color:rgb(4,115,7); border-left-color:rgb(4,115,7); text-align:center\"> <font face=\"Comic Sans MS\" size=\"3\"><span class=\"anchor\" id=\"line-19\"></span></font> <p class=\"line862\" style=\"margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px\"><font face=\"Comic Sans MS\" size=\"3\"> 宏集</font></p> </td> \r\n    <td style=\"padding-top:0.25em; padding-right:0.5em; padding-bottom:0.25em; padding-left:0.5em; border-top-width:1px; border-right-width:1px; border-bottom-width:1px; border-left-width:1px; border-top-style:solid; border-right-style:solid; border-bottom-style:solid; border-left-style:solid; border-top-color:rgb(4,115,7); border-right-color:rgb(4,115,7); border-bottom-color:rgb(4,115,7); border-left-color:rgb(4,115,7)\"> <p class=\"line862\" style=\"margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px\"><font face=\"Comic Sans MS\" size=\"3\"> plain TeX</font></p> </td> \r\n    <td style=\"padding-top:0.25em; padding-right:0.5em; padding-bottom:0.25em; padding-left:0.5em; border-top-width:1px; border-right-width:1px; border-bottom-width:1px; border-left-width:1px; border-top-style:solid; border-right-style:solid; border-bottom-style:solid; border-left-style:solid; border-top-color:rgb(4,115,7); border-right-color:rgb(4,115,7); border-bottom-color:rgb(4,115,7); border-left-color:rgb(4,115,7)\"> <p class=\"line862\" style=\"margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px\"><font face=\"Comic Sans MS\" size=\"3\"> 最古老的TeX宏集，提供了一些最基本的命令</font></p> </td> \r\n   </tr> \r\n   <tr> \r\n    <td style=\"padding-top:0.25em; padding-right:0.5em; padding-bottom:0.25em; padding-left:0.5em; border-top-width:1px; border-right-width:1px; border-bottom-width:1px; border-left-width:1px; border-top-style:solid; border-right-style:solid; border-bottom-style:solid; border-left-style:solid; border-top-color:rgb(4,115,7); border-right-color:rgb(4,115,7); border-bottom-color:rgb(4,115,7); border-left-color:rgb(4,115,7)\"> <font face=\"Comic Sans MS\" size=\"3\"><span class=\"anchor\" id=\"line-20\"></span></font> <p class=\"line862\" style=\"margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px\"><font face=\"Comic Sans MS\" size=\"3\"> AMSTeX</font></p> </td> \r\n    <td style=\"padding-top:0.25em; padding-right:0.5em; padding-bottom:0.25em; padding-left:0.5em; border-top-width:1px; border-right-width:1px; border-bottom-width:1px; border-left-width:1px; border-top-style:solid; border-right-style:solid; border-bottom-style:solid; border-left-style:solid; border-top-color:rgb(4,115,7); border-right-color:rgb(4,115,7); border-bottom-color:rgb(4,115,7); border-left-color:rgb(4,115,7)\"> <p class=\"line862\" style=\"margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px\"><font face=\"Comic Sans MS\" size=\"3\"> 是美国数学会提供的一个TeX宏集，它添加了许多数学符号和数学字体</font></p> </td> \r\n   </tr> \r\n   <tr> \r\n    <td style=\"padding-top:0.25em; padding-right:0.5em; padding-bottom:0.25em; padding-left:0.5em; border-top-width:1px; border-right-width:1px; border-bottom-width:1px; border-left-width:1px; border-top-style:solid; border-right-style:solid; border-bottom-style:solid; border-left-style:solid; border-top-color:rgb(4,115,7); border-right-color:rgb(4,115,7); border-bottom-color:rgb(4,115,7); border-left-color:rgb(4,115,7)\"> <font face=\"Comic Sans MS\" size=\"3\"><span class=\"anchor\" id=\"line-21\"></span></font> <p class=\"line891\" style=\"margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px\"> <font face=\"Comic Sans MS\" size=\"3\"><strong>LaTeX</strong></font></p> </td> \r\n    <td style=\"padding-top:0.25em; padding-right:0.5em; padding-bottom:0.25em; padding-left:0.5em; border-top-width:1px; border-right-width:1px; border-bottom-width:1px; border-left-width:1px; border-top-style:solid; border-right-style:solid; border-bottom-style:solid; border-left-style:solid; border-top-color:rgb(4,115,7); border-right-color:rgb(4,115,7); border-bottom-color:rgb(4,115,7); border-left-color:rgb(4,115,7)\"> <p class=\"line862\" style=\"margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px\"><font face=\"Comic Sans MS\" size=\"3\"> 相对于PlainTeX，它使得科技文档的排版更加直观和方便</font></p> </td> \r\n   </tr> \r\n   <tr> \r\n    <td style=\"padding-top:0.25em; padding-right:0.5em; padding-bottom:0.25em; padding-left:0.5em; border-top-width:1px; border-right-width:1px; border-bottom-width:1px; border-left-width:1px; border-top-style:solid; border-right-style:solid; border-bottom-style:solid; border-left-style:solid; border-top-color:rgb(4,115,7); border-right-color:rgb(4,115,7); border-bottom-color:rgb(4,115,7); border-left-color:rgb(4,115,7)\"> <font face=\"Comic Sans MS\" size=\"3\"><span class=\"anchor\" id=\"line-22\"></span></font> <p class=\"line891\" style=\"margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px\"><font face=\"Comic Sans MS\" size=\"3\"> ConTeXt</font></p> </td> \r\n    <td style=\"padding-top:0.25em; padding-right:0.5em; padding-bottom:0.25em; padding-left:0.5em; border-top-width:1px; border-right-width:1px; border-bottom-width:1px; border-left-width:1px; border-top-style:solid; border-right-style:solid; border-bottom-style:solid; border-left-style:solid; border-top-color:rgb(4,115,7); border-right-color:rgb(4,115,7); border-bottom-color:rgb(4,115,7); border-left-color:rgb(4,115,7)\"> <p class=\"line862\" style=\"margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px\"><font face=\"Comic Sans MS\" size=\"3\"> 和LaTeX 相比，它更加灵活和自由</font></p> </td> \r\n   </tr> \r\n   <tr> \r\n    <td style=\"padding-top:0.25em; padding-right:0.5em; padding-bottom:0.25em; padding-left:0.5em; border-top-width:1px; border-right-width:1px; border-bottom-width:1px; border-left-width:1px; border-top-style:solid; border-right-style:solid; border-bottom-style:solid; border-left-style:solid; border-top-color:rgb(4,115,7); border-right-color:rgb(4,115,7); border-bottom-color:rgb(4,115,7); border-left-color:rgb(4,115,7)\"> <font face=\"Comic Sans MS\" size=\"3\"><span class=\"anchor\" id=\"line-23\"></span></font> <p class=\"line862\" style=\"margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px\"><font face=\"Comic Sans MS\" size=\"3\"> ...</font></p> </td> \r\n    <td style=\"padding-top:0.25em; padding-right:0.5em; padding-bottom:0.25em; padding-left:0.5em; border-top-width:1px; border-right-width:1px; border-bottom-width:1px; border-left-width:1px; border-top-style:solid; border-right-style:solid; border-bottom-style:solid; border-left-style:solid; border-top-color:rgb(4,115,7); border-right-color:rgb(4,115,7); border-bottom-color:rgb(4,115,7); border-left-color:rgb(4,115,7)\"><font face=\"Comic Sans MS\" size=\"3\"> &nbsp;</font></td> \r\n   </tr> \r\n   <tr> \r\n    <td colspan=\"1\" rowspan=\"6\" style=\"padding-top:0.25em; padding-right:0.5em; padding-bottom:0.25em; padding-left:0.5em; border-top-width:1px; border-right-width:1px; border-bottom-width:1px; border-left-width:1px; border-top-style:solid; border-right-style:solid; border-bottom-style:solid; border-left-style:solid; border-top-color:rgb(4,115,7); border-right-color:rgb(4,115,7); border-bottom-color:rgb(4,115,7); border-left-color:rgb(4,115,7); text-align:center\"> <font face=\"Comic Sans MS\" size=\"3\"><span class=\"anchor\" id=\"line-24\"></span></font> <p class=\"line862\" style=\"margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px\"><font face=\"Comic Sans MS\" size=\"3\"> 发行版</font></p> </td> \r\n    <td style=\"padding-top:0.25em; padding-right:0.5em; padding-bottom:0.25em; padding-left:0.5em; border-top-width:1px; border-right-width:1px; border-bottom-width:1px; border-left-width:1px; border-top-style:solid; border-right-style:solid; border-bottom-style:solid; border-left-style:solid; border-top-color:rgb(4,115,7); border-right-color:rgb(4,115,7); border-bottom-color:rgb(4,115,7); border-left-color:rgb(4,115,7)\"> <p class=\"line891\" style=\"margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px\"> <font face=\"Comic Sans MS\" size=\"3\"><strong>TeX Live</strong></font></p> </td> \r\n    <td style=\"padding-top:0.25em; padding-right:0.5em; padding-bottom:0.25em; padding-left:0.5em; border-top-width:1px; border-right-width:1px; border-bottom-width:1px; border-left-width:1px; border-top-style:solid; border-right-style:solid; border-bottom-style:solid; border-left-style:solid; border-top-color:rgb(4,115,7); border-right-color:rgb(4,115,7); border-bottom-color:rgb(4,115,7); border-left-color:rgb(4,115,7)\"> <p class=\"line862\" style=\"margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px\"><font face=\"Comic Sans MS\" size=\"3\"> 国际TeX用户组织TUG开发,支持不同的操作系统</font></p> </td> \r\n   </tr> \r\n   <tr> \r\n    <td style=\"padding-top:0.25em; padding-right:0.5em; padding-bottom:0.25em; padding-left:0.5em; border-top-width:1px; border-right-width:1px; border-bottom-width:1px; border-left-width:1px; border-top-style:solid; border-right-style:solid; border-bottom-style:solid; border-left-style:solid; border-top-color:rgb(4,115,7); border-right-color:rgb(4,115,7); border-bottom-color:rgb(4,115,7); border-left-color:rgb(4,115,7)\"> <font face=\"Comic Sans MS\" size=\"3\"><span class=\"anchor\" id=\"line-25\"></span></font> <p class=\"line862\" style=\"margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px\"><font face=\"Comic Sans MS\" size=\"3\"> MiKTeX</font></p> </td> \r\n    <td style=\"padding-top:0.25em; padding-right:0.5em; padding-bottom:0.25em; padding-left:0.5em; border-top-width:1px; border-right-width:1px; border-bottom-width:1px; border-left-width:1px; border-top-style:solid; border-right-style:solid; border-bottom-style:solid; border-left-style:solid; border-top-color:rgb(4,115,7); border-right-color:rgb(4,115,7); border-bottom-color:rgb(4,115,7); border-left-color:rgb(4,115,7)\"> <p class=\"line862\" style=\"margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px\"><font face=\"Comic Sans MS\" size=\"3\"> Windows 下广泛使用的一个TeX发行版</font></p> </td> \r\n   </tr> \r\n   <tr> \r\n    <td style=\"padding-top:0.25em; padding-right:0.5em; padding-bottom:0.25em; padding-left:0.5em; border-top-width:1px; border-right-width:1px; border-bottom-width:1px; border-left-width:1px; border-top-style:solid; border-right-style:solid; border-bottom-style:solid; border-left-style:solid; border-top-color:rgb(4,115,7); border-right-color:rgb(4,115,7); border-bottom-color:rgb(4,115,7); border-left-color:rgb(4,115,7)\"> <font face=\"Comic Sans MS\" size=\"3\"><span class=\"anchor\" id=\"line-26\"></span></font> <p class=\"line891\" style=\"margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px\"><font face=\"Comic Sans MS\" size=\"3\"> ConTeXt Minimals</font></p> </td> \r\n    <td style=\"padding-top:0.25em; padding-right:0.5em; padding-bottom:0.25em; padding-left:0.5em; border-top-width:1px; border-right-width:1px; border-bottom-width:1px; border-left-width:1px; border-top-style:solid; border-right-style:solid; border-bottom-style:solid; border-left-style:solid; border-top-color:rgb(4,115,7); border-right-color:rgb(4,115,7); border-bottom-color:rgb(4,115,7); border-left-color:rgb(4,115,7)\"> <p class=\"line862\" style=\"margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px\"><font face=\"Comic Sans MS\" size=\"3\"> 它包含了最新版本的 ConTeXt</font></p> </td> \r\n   </tr> \r\n   <tr> \r\n    <td style=\"padding-top:0.25em; padding-right:0.5em; padding-bottom:0.25em; padding-left:0.5em; border-top-width:1px; border-right-width:1px; border-bottom-width:1px; border-left-width:1px; border-top-style:solid; border-right-style:solid; border-bottom-style:solid; border-left-style:solid; border-top-color:rgb(4,115,7); border-right-color:rgb(4,115,7); border-bottom-color:rgb(4,115,7); border-left-color:rgb(4,115,7)\"> <font face=\"Comic Sans MS\" size=\"3\"><span class=\"anchor\" id=\"line-27\"></span></font> <p class=\"line862\" style=\"margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px\"><font face=\"Comic Sans MS\" size=\"3\"> teTeX</font></p> </td> \r\n    <td style=\"padding-top:0.25em; padding-right:0.5em; padding-bottom:0.25em; padding-left:0.5em; border-top-width:1px; border-right-width:1px; border-bottom-width:1px; border-left-width:1px; border-top-style:solid; border-right-style:solid; border-bottom-style:solid; border-left-style:solid; border-top-color:rgb(4,115,7); border-right-color:rgb(4,115,7); border-bottom-color:rgb(4,115,7); border-left-color:rgb(4,115,7)\"> <p class=\"line862\" style=\"margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px\"><font face=\"Comic Sans MS\" size=\"3\"> 一个Unix下的TeX发行版，现在已经停止更新且并入TeXLive</font></p> </td> \r\n   </tr> \r\n   <tr> \r\n    <td style=\"padding-top:0.25em; padding-right:0.5em; padding-bottom:0.25em; padding-left:0.5em; border-top-width:1px; border-right-width:1px; border-bottom-width:1px; border-left-width:1px; border-top-style:solid; border-right-style:solid; border-bottom-style:solid; border-left-style:solid; border-top-color:rgb(4,115,7); border-right-color:rgb(4,115,7); border-bottom-color:rgb(4,115,7); border-left-color:rgb(4,115,7)\"> <font face=\"Comic Sans MS\" size=\"3\"><span class=\"anchor\" id=\"line-28\"></span></font> <p class=\"line862\" style=\"margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px\"><font face=\"Comic Sans MS\" size=\"3\"> fpTeX</font></p> </td> \r\n    <td style=\"padding-top:0.25em; padding-right:0.5em; padding-bottom:0.25em; padding-left:0.5em; border-top-width:1px; border-right-width:1px; border-bottom-width:1px; border-left-width:1px; border-top-style:solid; border-right-style:solid; border-bottom-style:solid; border-left-style:solid; border-top-color:rgb(4,115,7); border-right-color:rgb(4,115,7); border-bottom-color:rgb(4,115,7); border-left-color:rgb(4,115,7)\"> <p class=\"line862\" style=\"margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px\"><font face=\"Comic Sans MS\" size=\"3\"> 一个Windows的TeX发行版，已不再更新</font></p> </td> \r\n   </tr> \r\n   <tr> \r\n    <td style=\"padding-top:0.25em; padding-right:0.5em; padding-bottom:0.25em; padding-left:0.5em; border-top-width:1px; border-right-width:1px; border-bottom-width:1px; border-left-width:1px; border-top-style:solid; border-right-style:solid; border-bottom-style:solid; border-left-style:solid; border-top-color:rgb(4,115,7); border-right-color:rgb(4,115,7); border-bottom-color:rgb(4,115,7); border-left-color:rgb(4,115,7)\"> <font face=\"Comic Sans MS\" size=\"3\"><span class=\"anchor\" id=\"line-29\"></span></font> <p class=\"line862\" style=\"margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px\"><font face=\"Comic Sans MS\" size=\"3\"> ...</font></p> </td> \r\n    <td style=\"padding-top:0.25em; padding-right:0.5em; padding-bottom:0.25em; padding-left:0.5em; border-top-width:1px; border-right-width:1px; border-bottom-width:1px; border-left-width:1px; border-top-style:solid; border-right-style:solid; border-bottom-style:solid; border-left-style:solid; border-top-color:rgb(4,115,7); border-right-color:rgb(4,115,7); border-bottom-color:rgb(4,115,7); border-left-color:rgb(4,115,7)\"><font face=\"Comic Sans MS\" size=\"3\"> &nbsp;</font></td> \r\n   </tr> \r\n  </tbody> \r\n </table> \r\n</div><font face=\"Comic Sans MS\" size=\"3\"> \r\n<span class=\"anchor\" id=\"line-30\"></span> \r\n<span class=\"anchor\" id=\"line-31\"></span> \r\n</font><p class=\"line874\"><font face=\"Comic Sans MS\" size=\"3\">真够乱的，还好，我们只关注一部分：<span class=\"anchor\" id=\"line-32\"></span><span class=\"anchor\" id=\"line-33\"></span></font></p><font face=\"Comic Sans MS\" size=\"3\"> \r\n</font><h3 id=\"LaTeX\" style=\"padding-top:0px; padding-right:0px; padding-bottom:0.3em; padding-left:0px; border-bottom-width:3px; border-bottom-style:solid; border-bottom-color:rgb(4,115,7)\"><font face=\"Comic Sans MS\" size=\"3\"> <font size=\"5\">LaTeX</font></font></h3><font face=\"Comic Sans MS\" size=\"3\"> \r\n<span class=\"anchor\" id=\"line-34\"></span> \r\n</font><p class=\"line862\"><font face=\"Comic Sans MS\" size=\"3\">原始的TeX已经有了一组宏集，也就是Knuth所写的著名的Plain TeX(原始的TeX和Plain Tex都是《The TeXbook 》一书中介绍的内容)。<span class=\"anchor\" id=\"line-35\"></span><span class=\"anchor\" id=\"line-36\"></span></font></p><font face=\"Comic Sans MS\" size=\"3\"> \r\n</font><p class=\"line874\"><font face=\"Comic Sans MS\" size=\"3\">但是这些命令仍然很底层，不够方便、直观，于是Leslie Lamport写了另一组宏，称为LaTeX，主要是它版本配置和文中内容适度分开处理。<span class=\"anchor\" id=\"line-37\"></span><span class=\"anchor\" id=\"line-38\"></span></font></p><font face=\"Comic Sans MS\" size=\"3\"> \r\n</font><p class=\"line874\"><font face=\"Comic Sans MS\" size=\"3\">LaTeX 2ε是自1993年以来LaTeX的一个稳定版本，是目前大部分LaTeX书籍的主体内容。<span class=\"anchor\" id=\"line-39\"></span><span class=\"anchor\" id=\"line-40\"></span></font></p><font face=\"Comic Sans MS\" size=\"3\"> \r\n</font><h3 id=\"ctex\" style=\"padding-top:0px; padding-right:0px; padding-bottom:0.3em; padding-left:0px; border-bottom-width:3px; border-bottom-style:solid; border-bottom-color:rgb(4,115,7)\"><font face=\"Comic Sans MS\" size=\"3\"> <font size=\"5\">ctex</font></font></h3><font face=\"Comic Sans MS\" size=\"3\"> \r\n<span class=\"anchor\" id=\"line-41\"></span> \r\n</font><p class=\"line874\"><font face=\"Comic Sans MS\" size=\"3\">ctex宏包提供了一个统一的中文LaTeX文档框架,底层支持CCT、CJK和xeCJK三种中文LaTeX系统。<span class=\"anchor\" id=\"line-42\"></span><span class=\"anchor\" id=\"line-43\"></span></font></p><font face=\"Comic Sans MS\" size=\"3\"> \r\n</font><ul><li><font face=\"Comic Sans MS\" size=\"3\">CCT 非常不推荐了<span class=\"anchor\" id=\"line-44\"></span></font></li><li><font face=\"Comic Sans MS\" size=\"3\">CJK 这个？应该在windows下工作还很不错<span class=\"anchor\" id=\"line-45\"></span></font></li><li><font face=\"Comic Sans MS\" size=\"3\">xeCJK 比较推荐<span class=\"anchor\" id=\"line-46\"></span><span class=\"anchor\" id=\"line-47\"></span></font></li></ul><font face=\"Comic Sans MS\" size=\"3\"> \r\n</font><p class=\"line874\"><font face=\"Comic Sans MS\" size=\"3\">ctex宏包提供了编写中文LaTeX文档常用的一些宏定义和命令。<span class=\"anchor\" id=\"line-48\"></span><span class=\"anchor\" id=\"line-49\"></span></font></p><font face=\"Comic Sans MS\" size=\"3\"> \r\n</font><p class=\"line874\"><font face=\"Comic Sans MS\" size=\"3\">主要文件包括ctexart.cls、ctexrep.cls、ctexbook.cls 和 ctex.sty、ctexcap.sty。<span class=\"anchor\" id=\"line-50\"></span><span class=\"anchor\" id=\"line-51\"></span><span class=\"anchor\" id=\"line-52\"></span><span class=\"anchor\" id=\"line-53\"></span></font></p><font face=\"Comic Sans MS\" size=\"3\"> \r\n</font><h3 id=\"A.2BdR9iEA-pdf.2BbUF6Cw-\" style=\"padding-top:0px; padding-right:0px; padding-bottom:0.3em; padding-left:0px; border-bottom-width:3px; border-bottom-style:solid; border-bottom-color:rgb(4,115,7)\"><font face=\"Comic Sans MS\" size=\"3\"> <font size=\"5\">生成pdf流程</font></font></h3><font face=\"Comic Sans MS\" size=\"3\"> \r\n<span class=\"anchor\" id=\"line-54\"></span> \r\n</font><ul><li><font face=\"Comic Sans MS\" size=\"3\">原始的方式<span class=\"anchor\" id=\"line-55\"></span></font></li></ul><font face=\"Comic Sans MS\" size=\"3\"> \r\n</font><div> \r\n <table style=\"margin-top:0.5em; margin-right:0px; margin-bottom:0px; margin-left:0.5em; border-collapse:collapse\"> \r\n  <tbody> \r\n   <tr> \r\n    <td style=\"padding-top:0.25em; padding-right:0.5em; padding-bottom:0.25em; padding-left:0.5em; border-top-width:1px; border-right-width:1px; border-bottom-width:1px; border-left-width:1px; border-top-style:solid; border-right-style:solid; border-bottom-style:solid; border-left-style:solid; border-top-color:rgb(4,115,7); border-right-color:rgb(4,115,7); border-bottom-color:rgb(4,115,7); border-left-color:rgb(4,115,7)\"> <p class=\"line862\" style=\"margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px\"><font face=\"Comic Sans MS\" size=\"3\"> *.tex</font></p> </td> \r\n    <td style=\"padding-top:0.25em; padding-right:0.5em; padding-bottom:0.25em; padding-left:0.5em; border-top-width:1px; border-right-width:1px; border-bottom-width:1px; border-left-width:1px; border-top-style:solid; border-right-style:solid; border-bottom-style:solid; border-left-style:solid; border-top-color:rgb(4,115,7); border-right-color:rgb(4,115,7); border-bottom-color:rgb(4,115,7); border-left-color:rgb(4,115,7)\"> <p class=\"line862\" style=\"margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px\"><font face=\"Comic Sans MS\" size=\"3\"> ==&gt;</font></p> </td> \r\n    <td style=\"padding-top:0.25em; padding-right:0.5em; padding-bottom:0.25em; padding-left:0.5em; border-top-width:1px; border-right-width:1px; border-bottom-width:1px; border-left-width:1px; border-top-style:solid; border-right-style:solid; border-bottom-style:solid; border-left-style:solid; border-top-color:rgb(4,115,7); border-right-color:rgb(4,115,7); border-bottom-color:rgb(4,115,7); border-left-color:rgb(4,115,7)\"> <p class=\"line862\" style=\"margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px\"><font face=\"Comic Sans MS\" size=\"3\"> *.dvi</font></p> </td> \r\n    <td style=\"padding-top:0.25em; padding-right:0.5em; padding-bottom:0.25em; padding-left:0.5em; border-top-width:1px; border-right-width:1px; border-bottom-width:1px; border-left-width:1px; border-top-style:solid; border-right-style:solid; border-bottom-style:solid; border-left-style:solid; border-top-color:rgb(4,115,7); border-right-color:rgb(4,115,7); border-bottom-color:rgb(4,115,7); border-left-color:rgb(4,115,7)\"> <p class=\"line862\" style=\"margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px\"><font face=\"Comic Sans MS\" size=\"3\"> ==&gt;</font></p> </td> \r\n    <td style=\"padding-top:0.25em; padding-right:0.5em; padding-bottom:0.25em; padding-left:0.5em; border-top-width:1px; border-right-width:1px; border-bottom-width:1px; border-left-width:1px; border-top-style:solid; border-right-style:solid; border-bottom-style:solid; border-left-style:solid; border-top-color:rgb(4,115,7); border-right-color:rgb(4,115,7); border-bottom-color:rgb(4,115,7); border-left-color:rgb(4,115,7)\"> <p class=\"line862\" style=\"margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px\"><font face=\"Comic Sans MS\" size=\"3\"> *.ps</font></p> </td> \r\n    <td style=\"padding-top:0.25em; padding-right:0.5em; padding-bottom:0.25em; padding-left:0.5em; border-top-width:1px; border-right-width:1px; border-bottom-width:1px; border-left-width:1px; border-top-style:solid; border-right-style:solid; border-bottom-style:solid; border-left-style:solid; border-top-color:rgb(4,115,7); border-right-color:rgb(4,115,7); border-bottom-color:rgb(4,115,7); border-left-color:rgb(4,115,7)\"> <p class=\"line862\" style=\"margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px\"><font face=\"Comic Sans MS\" size=\"3\"> ==&gt;</font></p> </td> \r\n    <td style=\"padding-top:0.25em; padding-right:0.5em; padding-bottom:0.25em; padding-left:0.5em; border-top-width:1px; border-right-width:1px; border-bottom-width:1px; border-left-width:1px; border-top-style:solid; border-right-style:solid; border-bottom-style:solid; border-left-style:solid; border-top-color:rgb(4,115,7); border-right-color:rgb(4,115,7); border-bottom-color:rgb(4,115,7); border-left-color:rgb(4,115,7)\"> <p class=\"line862\" style=\"margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px\"><font face=\"Comic Sans MS\" size=\"3\"> *.pdf</font></p> </td> \r\n   </tr> \r\n   <tr> \r\n    <td style=\"padding-top:0.25em; padding-right:0.5em; padding-bottom:0.25em; padding-left:0.5em; border-top-width:1px; border-right-width:1px; border-bottom-width:1px; border-left-width:1px; border-top-style:solid; border-right-style:solid; border-bottom-style:solid; border-left-style:solid; border-top-color:rgb(4,115,7); border-right-color:rgb(4,115,7); border-bottom-color:rgb(4,115,7); border-left-color:rgb(4,115,7)\"> <font face=\"Comic Sans MS\" size=\"3\"><span class=\"anchor\" id=\"line-56\"></span><br></font></td> \r\n    <td style=\"padding-top:0.25em; padding-right:0.5em; padding-bottom:0.25em; padding-left:0.5em; border-top-width:1px; border-right-width:1px; border-bottom-width:1px; border-left-width:1px; border-top-style:solid; border-right-style:solid; border-bottom-style:solid; border-left-style:solid; border-top-color:rgb(4,115,7); border-right-color:rgb(4,115,7); border-bottom-color:rgb(4,115,7); border-left-color:rgb(4,115,7)\"> <p class=\"line862\" style=\"margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px\"><font face=\"Comic Sans MS\" size=\"3\"> latex</font></p> </td> \r\n    <td style=\"padding-top:0.25em; padding-right:0.5em; padding-bottom:0.25em; padding-left:0.5em; border-top-width:1px; border-right-width:1px; border-bottom-width:1px; border-left-width:1px; border-top-style:solid; border-right-style:solid; border-bottom-style:solid; border-left-style:solid; border-top-color:rgb(4,115,7); border-right-color:rgb(4,115,7); border-bottom-color:rgb(4,115,7); border-left-color:rgb(4,115,7)\"><font face=\"Comic Sans MS\" size=\"3\"> &nbsp;</font></td> \r\n    <td style=\"padding-top:0.25em; padding-right:0.5em; padding-bottom:0.25em; padding-left:0.5em; border-top-width:1px; border-right-width:1px; border-bottom-width:1px; border-left-width:1px; border-top-style:solid; border-right-style:solid; border-bottom-style:solid; border-left-style:solid; border-top-color:rgb(4,115,7); border-right-color:rgb(4,115,7); border-bottom-color:rgb(4,115,7); border-left-color:rgb(4,115,7)\"> <p class=\"line862\" style=\"margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px\"><font face=\"Comic Sans MS\" size=\"3\"> divps</font></p> </td> \r\n    <td style=\"padding-top:0.25em; padding-right:0.5em; padding-bottom:0.25em; padding-left:0.5em; border-top-width:1px; border-right-width:1px; border-bottom-width:1px; border-left-width:1px; border-top-style:solid; border-right-style:solid; border-bottom-style:solid; border-left-style:solid; border-top-color:rgb(4,115,7); border-right-color:rgb(4,115,7); border-bottom-color:rgb(4,115,7); border-left-color:rgb(4,115,7)\"><font face=\"Comic Sans MS\" size=\"3\"> &nbsp;</font></td> \r\n    <td style=\"padding-top:0.25em; padding-right:0.5em; padding-bottom:0.25em; padding-left:0.5em; border-top-width:1px; border-right-width:1px; border-bottom-width:1px; border-left-width:1px; border-top-style:solid; border-right-style:solid; border-bottom-style:solid; border-left-style:solid; border-top-color:rgb(4,115,7); border-right-color:rgb(4,115,7); border-bottom-color:rgb(4,115,7); border-left-color:rgb(4,115,7)\"> <p class=\"line862\" style=\"margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px\"><font face=\"Comic Sans MS\" size=\"3\"> ps2pdf</font></p> </td> \r\n    <td style=\"padding-top:0.25em; padding-right:0.5em; padding-bottom:0.25em; padding-left:0.5em; border-top-width:1px; border-right-width:1px; border-bottom-width:1px; border-left-width:1px; border-top-style:solid; border-right-style:solid; border-bottom-style:solid; border-left-style:solid; border-top-color:rgb(4,115,7); border-right-color:rgb(4,115,7); border-bottom-color:rgb(4,115,7); border-left-color:rgb(4,115,7)\"><font face=\"Comic Sans MS\" size=\"3\"> &nbsp;</font></td> \r\n   </tr> \r\n  </tbody> \r\n </table> \r\n</div><font face=\"Comic Sans MS\" size=\"3\"> \r\n<span class=\"anchor\" id=\"line-57\"></span> \r\n<span class=\"anchor\" id=\"line-58\"></span> \r\n</font><ul><li><font face=\"Comic Sans MS\" size=\"3\">dvipdfm(x),少一个 *.ps 步骤<span class=\"anchor\" id=\"line-59\"></span><span class=\"anchor\" id=\"line-60\"></span></font></li></ul><font face=\"Comic Sans MS\" size=\"3\"> \r\n</font><div> \r\n <table style=\"margin-top:0.5em; margin-right:0px; margin-bottom:0px; margin-left:0.5em; border-collapse:collapse\"> \r\n  <tbody> \r\n   <tr> \r\n    <td style=\"padding-top:0.25em; padding-right:0.5em; padding-bottom:0.25em; padding-left:0.5em; border-top-width:1px; border-right-width:1px; border-bottom-width:1px; border-left-width:1px; border-top-style:solid; border-right-style:solid; border-bottom-style:solid; border-left-style:solid; border-top-color:rgb(4,115,7); border-right-color:rgb(4,115,7); border-bottom-color:rgb(4,115,7); border-left-color:rgb(4,115,7)\"> <p class=\"line862\" style=\"margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px\"><font face=\"Comic Sans MS\" size=\"3\"> *.tex</font></p> </td> \r\n    <td style=\"padding-top:0.25em; padding-right:0.5em; padding-bottom:0.25em; padding-left:0.5em; border-top-width:1px; border-right-width:1px; border-bottom-width:1px; border-left-width:1px; border-top-style:solid; border-right-style:solid; border-bottom-style:solid; border-left-style:solid; border-top-color:rgb(4,115,7); border-right-color:rgb(4,115,7); border-bottom-color:rgb(4,115,7); border-left-color:rgb(4,115,7)\"> <p class=\"line862\" style=\"margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px\"><font face=\"Comic Sans MS\" size=\"3\"> ==&gt;</font></p> </td> \r\n    <td style=\"padding-top:0.25em; padding-right:0.5em; padding-bottom:0.25em; padding-left:0.5em; border-top-width:1px; border-right-width:1px; border-bottom-width:1px; border-left-width:1px; border-top-style:solid; border-right-style:solid; border-bottom-style:solid; border-left-style:solid; border-top-color:rgb(4,115,7); border-right-color:rgb(4,115,7); border-bottom-color:rgb(4,115,7); border-left-color:rgb(4,115,7)\"> <p class=\"line862\" style=\"margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px\"><font face=\"Comic Sans MS\" size=\"3\"> *.dvi</font></p> </td> \r\n    <td style=\"padding-top:0.25em; padding-right:0.5em; padding-bottom:0.25em; padding-left:0.5em; border-top-width:1px; border-right-width:1px; border-bottom-width:1px; border-left-width:1px; border-top-style:solid; border-right-style:solid; border-bottom-style:solid; border-left-style:solid; border-top-color:rgb(4,115,7); border-right-color:rgb(4,115,7); border-bottom-color:rgb(4,115,7); border-left-color:rgb(4,115,7)\"> <p class=\"line862\" style=\"margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px\"><font face=\"Comic Sans MS\" size=\"3\"> ==&gt;</font></p> </td> \r\n    <td style=\"padding-top:0.25em; padding-right:0.5em; padding-bottom:0.25em; padding-left:0.5em; border-top-width:1px; border-right-width:1px; border-bottom-width:1px; border-left-width:1px; border-top-style:solid; border-right-style:solid; border-bottom-style:solid; border-left-style:solid; border-top-color:rgb(4,115,7); border-right-color:rgb(4,115,7); border-bottom-color:rgb(4,115,7); border-left-color:rgb(4,115,7)\"> <p class=\"line862\" style=\"margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px\"><font face=\"Comic Sans MS\" size=\"3\"> *.pdf</font></p> </td> \r\n   </tr> \r\n   <tr> \r\n    <td style=\"padding-top:0.25em; padding-right:0.5em; padding-bottom:0.25em; padding-left:0.5em; border-top-width:1px; border-right-width:1px; border-bottom-width:1px; border-left-width:1px; border-top-style:solid; border-right-style:solid; border-bottom-style:solid; border-left-style:solid; border-top-color:rgb(4,115,7); border-right-color:rgb(4,115,7); border-bottom-color:rgb(4,115,7); border-left-color:rgb(4,115,7)\"> <font face=\"Comic Sans MS\" size=\"3\"><span class=\"anchor\" id=\"line-61\"></span><br></font></td> \r\n    <td style=\"padding-top:0.25em; padding-right:0.5em; padding-bottom:0.25em; padding-left:0.5em; border-top-width:1px; border-right-width:1px; border-bottom-width:1px; border-left-width:1px; border-top-style:solid; border-right-style:solid; border-bottom-style:solid; border-left-style:solid; border-top-color:rgb(4,115,7); border-right-color:rgb(4,115,7); border-bottom-color:rgb(4,115,7); border-left-color:rgb(4,115,7)\"> <p class=\"line862\" style=\"margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px\"><font face=\"Comic Sans MS\" size=\"3\"> latex</font></p> </td> \r\n    <td style=\"padding-top:0.25em; padding-right:0.5em; padding-bottom:0.25em; padding-left:0.5em; border-top-width:1px; border-right-width:1px; border-bottom-width:1px; border-left-width:1px; border-top-style:solid; border-right-style:solid; border-bottom-style:solid; border-left-style:solid; border-top-color:rgb(4,115,7); border-right-color:rgb(4,115,7); border-bottom-color:rgb(4,115,7); border-left-color:rgb(4,115,7)\"><font face=\"Comic Sans MS\" size=\"3\"> &nbsp;</font></td> \r\n    <td style=\"padding-top:0.25em; padding-right:0.5em; padding-bottom:0.25em; padding-left:0.5em; border-top-width:1px; border-right-width:1px; border-bottom-width:1px; border-left-width:1px; border-top-style:solid; border-right-style:solid; border-bottom-style:solid; border-left-style:solid; border-top-color:rgb(4,115,7); border-right-color:rgb(4,115,7); border-bottom-color:rgb(4,115,7); border-left-color:rgb(4,115,7)\"> <p class=\"line862\" style=\"margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px\"><font face=\"Comic Sans MS\" size=\"3\"> dvipdfm</font></p> </td> \r\n    <td style=\"padding-top:0.25em; padding-right:0.5em; padding-bottom:0.25em; padding-left:0.5em; border-top-width:1px; border-right-width:1px; border-bottom-width:1px; border-left-width:1px; border-top-style:solid; border-right-style:solid; border-bottom-style:solid; border-left-style:solid; border-top-color:rgb(4,115,7); border-right-color:rgb(4,115,7); border-bottom-color:rgb(4,115,7); border-left-color:rgb(4,115,7)\"><font face=\"Comic Sans MS\" size=\"3\"> &nbsp;</font></td> \r\n   </tr> \r\n  </tbody> \r\n </table> \r\n</div><font face=\"Comic Sans MS\" size=\"3\"> \r\n<span class=\"anchor\" id=\"line-62\"></span> \r\n<span class=\"anchor\" id=\"line-63\"></span> \r\n</font><ul><li><font face=\"Comic Sans MS\" size=\"3\">pdflatex或xelatex，直接生成 pdf<span class=\"anchor\" id=\"line-64\"></span><span class=\"anchor\" id=\"line-65\"></span></font></li></ul><font face=\"Comic Sans MS\" size=\"3\"> \r\n \r\n  \r\n   \r\n   </font><table style=\"margin-top:0.5em; margin-right:0px; margin-bottom:0px; margin-left:0.5em; border-collapse:collapse\"><tbody><tr> \r\n    <td style=\"padding-top:0.25em; padding-right:0.5em; padding-bottom:0.25em; padding-left:0.5em; border-top-width:1px; border-right-width:1px; border-bottom-width:1px; border-left-width:1px; border-top-style:solid; border-right-style:solid; border-bottom-style:solid; border-left-style:solid; border-top-color:rgb(4,115,7); border-right-color:rgb(4,115,7); border-bottom-color:rgb(4,115,7); border-left-color:rgb(4,115,7)\"> <p class=\"line862\" style=\"margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px\"><font face=\"Comic Sans MS\" size=\"3\"> *.tex</font></p> </td> \r\n    <td style=\"padding-top:0.25em; padding-right:0.5em; padding-bottom:0.25em; padding-left:0.5em; border-top-width:1px; border-right-width:1px; border-bottom-width:1px; border-left-width:1px; border-top-style:solid; border-right-style:solid; border-bottom-style:solid; border-left-style:solid; border-top-color:rgb(4,115,7); border-right-color:rgb(4,115,7); border-bottom-color:rgb(4,115,7); border-left-color:rgb(4,115,7)\"> <p class=\"line862\" style=\"margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px\"><font face=\"Comic Sans MS\" size=\"3\"> ==&gt;</font></p> </td> \r\n    <td style=\"padding-top:0.25em; padding-right:0.5em; padding-bottom:0.25em; padding-left:0.5em; border-top-width:1px; border-right-width:1px; border-bottom-width:1px; border-left-width:1px; border-top-style:solid; border-right-style:solid; border-bottom-style:solid; border-left-style:solid; border-top-color:rgb(4,115,7); border-right-color:rgb(4,115,7); border-bottom-color:rgb(4,115,7); border-left-color:rgb(4,115,7)\"> <p class=\"line862\" style=\"margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px\"><font face=\"Comic Sans MS\" size=\"3\"> *.pdf</font></p> </td> \r\n   </tr> \r\n   <tr> \r\n    <td style=\"padding-top:0.25em; padding-right:0.5em; padding-bottom:0.25em; padding-left:0.5em; border-top-width:1px; border-right-width:1px; border-bottom-width:1px; border-left-width:1px; border-top-style:solid; border-right-style:solid; border-bottom-style:solid; border-left-style:solid; border-top-color:rgb(4,115,7); border-right-color:rgb(4,115,7); border-bottom-color:rgb(4,115,7); border-left-color:rgb(4,115,7)\"> <font face=\"Comic Sans MS\" size=\"3\"><span class=\"anchor\" id=\"line-66\"></span><br></font></td> \r\n    <td style=\"padding-top:0.25em; padding-right:0.5em; padding-bottom:0.25em; padding-left:0.5em; border-top-width:1px; border-right-width:1px; border-bottom-width:1px; border-left-width:1px; border-top-style:solid; border-right-style:solid; border-bottom-style:solid; border-left-style:solid; border-top-color:rgb(4,115,7); border-right-color:rgb(4,115,7); border-bottom-color:rgb(4,115,7); border-left-color:rgb(4,115,7)\"> <p class=\"line862\" style=\"margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px\"><font face=\"Comic Sans MS\" size=\"3\"> pdflatex</font></p> </td> \r\n    <td style=\"padding-top:0.25em; padding-right:0.5em; padding-bottom:0.25em; padding-left:0.5em; border-top-width:1px; border-right-width:1px; border-bottom-width:1px; border-left-width:1px; border-top-style:solid; border-right-style:solid; border-bottom-style:solid; border-left-style:solid; border-top-color:rgb(4,115,7); border-right-color:rgb(4,115,7); border-bottom-color:rgb(4,115,7); border-left-color:rgb(4,115,7)\"><font face=\"Comic Sans MS\" size=\"3\"> &nbsp;</font></td></tr></tbody></table><font face=\"Comic Sans MS\"><font size=\"3\"><br></font><br></font><blockquote><font face=\"Comic Sans MS\"><b><font size=\"5\">解决方案</font></b></font><br><br></blockquote><font size=\"3\">　　先来看一下sphinx生成pdf的流程：</font><br><font face=\"Comic Sans MS\" size=\"3\">　　当执行<code>make latexpdf</code>时，会首先执行<code>sphinx-build</code>生成tex源文件，然后调用<code>_build/latex</code>目录下的makefile文件，利用pdflatex引擎将tex文件转换为PDF。\r\n\r\n<code>_build/latex</code>下的Makefile文件是<code>sphinx/texinputs/Makefile</code>的直接拷贝。因而需要修改<code>sphinx/texinputs/Makefile</code>，将其中的pdflatex修改成xelatex。<br><br>　　建议使用编译源码的方式安装sphinx，<a href=\"http://sphinx-doc.org/install.html\">http://sphinx-doc.org/install.html</a>，可以方便找到Makefile，latex.py等文件。<br>我们假定你下载的sphinx源码在/opt/sphinx下，后面说的</font><font face=\"Comic Sans MS\" size=\"3\"><code>sphinx/texinputs/Makefile</code></font><font face=\"Comic Sans MS\" size=\"3\">等是在sphinx下的<br></font><ul><li><b><font face=\"Comic Sans MS\" size=\"3\">修改Makefile文件</font></b></li></ul><font face=\"Comic Sans MS\" size=\"3\">　　修改<code>sphinx/texinputs/Makefile</code>，将其中的pdflatex修改成xelatex。<br><br><br></font><pre class=\"highlight\"> <font size=\"3\">(apacal)-(jobs:1)-(/opt/sphinx)\r\n(! 2049)-&gt; pwd\r\n/opt/sphinx\r\n\r\n(apacal)-(jobs:1)-(/opt/sphinx)\r\n(! 2050)-&gt; vim sphinx/texinputs/Makefile \r\n\r\n# Makefile for Sphinx LaTeX output\r\n\r\nALLDOCS = $(basename $(wildcard *.tex))\r\nALLPDF = $(addsuffix .pdf,$(ALLDOCS))\r\nALLDVI = $(addsuffix .dvi,$(ALLDOCS))\r\n\r\n# Prefix for archive names\r\nARCHIVEPRREFIX =\r\n# Additional LaTeX options\r\nLATEXOPTS =\r\n\r\nLATEX = latex\r\nPDFLATEX = xelatex\r\nMAKEINDEX = makeindex\r\n\r\n</font></pre><ul><li><h2><font face=\"Comic Sans MS\" size=\"3\"><b><span class=\"toc-backref\">修改latex.py</span></b></font></h2>\r\n<p><font face=\"Comic Sans MS\" size=\"3\">如果make latexpdf时出现下面错误，则是说明没有修改latex.py文件<br></font></p><pre class=\"highlight\"> <font size=\"3\">! Undefined control sequence.\r\n\\GenericError  ...\r\n            #4  \\errhelp \\@err@     ...\r\nl.2856   }</font></pre>\r\n<font face=\"Comic Sans MS\" size=\"3\">修改<code>sphinx/writers/latex.py</code>，在231行左右加入语句对中文做特殊处理： </font><br><pre class=\"highlight\"> <font size=\"3\">if builder.config.language == \'zh_CN\':\r\n    self.elements[\'babel\'] = \'\'\r\n    self.elements[\'inputenc\'] = \'\'\r\n    self.elements[\'utf8extra\'] = \'\'</font></pre></li><li><font size=\"3\"><b>编译安装sphinx</b></font></li></ul><font size=\"3\">　　对sphinx源代码的修改就好了，编译安装sphinx<b><br></b></font><ul><li><b><font size=\"3\">修改conf.py</font></b></li></ul><p><font face=\"Comic Sans MS\" size=\"3\">　　编译好后， 使用sphinx-quickstart 建立一个新的sphinx项目，直接make&nbsp;latexpdf之后不会报错，但是中文部分完全没有显示，这是因为缺乏中文所需要的字体设置。</font><font face=\"Comic Sans MS\" size=\"3\">修改conf.py中的latex_elements参数，和加上如下:（<font color=\"#f83a22\">conf.py是你sphinx项目下的配置文件</font>）</font></p><pre class=\"highlight\"> <font size=\"3\">(apacal)-(jobs:0)-(~/git/language/sphinx/example)\r\n(! 2009)-&gt; pwd\r\n/home/apacal/git/language/sphinx/example\r\n\r\n(apacal)-(jobs:0)-(~/git/language/sphinx/example)\r\n(! 2010)-&gt; ls\r\n_build  conf.py  example.rst  index.rst  make.bat  Makefile  _static  _templates\r\n\r\n(apacal)-(jobs:0)-(~/git/language/sphinx/example)\r\n(! 2011)-&gt; vim conf.py \r\n\r\n\r\n\r\nlatex_elements = {\r\n# the paper size (\'letterpaper\' or \'a4paper\').\r\n#\'papersize\': \'letterpaper\',\r\n\r\n# the font size (\'10pt\', \'11pt\' or \'12pt\').\r\n#\'pointsize\': \'10pt\',\r\n# additional stuff for the latex preamble.\r\n#\r\n\'preamble\': r\'\'\'\r\n    \\usepackage{xecjk}\r\n    \\setcjkmainfont{wenquanyi micro hei}\r\n    \\xetexlinebreaklocale \"zh\"\r\n    \\xetexlinebreakskip = 0pt plus 1pt\r\n\'\'\',\r\n# the paper size (\'letterpaper\' or \'a4paper\').\r\n#\'papersize\': \'letterpaper\',\r\n\r\n# the font size (\'10pt\', \'11pt\' or \'12pt\').\r\n#\'pointsize\': \'10pt\',\r\n\r\n# additional stuff for the latex preamble.\r\n#\'preamble\': \'\',\r\n}\r\n</font></pre><br><font face=\"Comic Sans MS\" size=\"3\"></font><pre class=\"highlight\"> <font size=\"3\"># The language for content autogenerated by Sphinx. Refer to documentation\r\n# for a list of supported languages.\r\nlanguage = \'zh_CN\'\r\n</font></pre><font face=\"Comic Sans MS\" size=\"3\">　　现在sphinx可以生成中文pdf，包括中文目录。</font>',1,0,'',3,'',1419940833,1409553282),(77,1,'','VIM之emmet使用（html, css神器）','html, css',250,'<blockquote><b><font size=\"5\">\r\n    前言\r\n</font></b></blockquote>\r\n<font size=\"3\"></font>\r\n<p>Emmet 项目原来叫 Zen Coding。由俄罗斯前端开发工程师 Sergey Chikuyonok 开发，后来在 Google Code 上释出 <a href=\"http://code.google.com/p/zen-coding/\">Zen Coding 项目</a>。2012年的时候，项目启用新名称 <a href=\"http://emmet.io/\">Emmet</a>。</p>\r\n<p>Emmet 官方支持<a href=\"http://emmet.io/download/\">很多软件</a>，比如 Sublime Text、Notepad++、Dreamweaver、Eclipse、Adobe Brackets 等。<a href=\"https://github.com/mattn/emmet-vim/\">Emmet.vim</a> 并非 Emmet 亲生，它由日本 <a href=\"http://mattn.kaoriya.net/\">Yasuhiro Matsumoto</a> 开发。</p>\r\n\r\n <blockquote><b><font size=\"5\">\r\n  正文\r\n </font></b></blockquote>\r\n<font size=\"3\"></font>\r\n<ul>\r\n <b>\r\n  <li>安装Emmet</li>\r\n </b>\r\n</ul>\r\n直接安装\r\n<pre>cd ~/.vim\r\nunzip emmet-vim.zip\r\n</pre>\r\n建议使用Vundle安装：\r\n<a href=\"http://apacal.cn/article/73.html\">使用vundle来管理VIM插件 </a>\r\n<pre>vim ~/.vimrc\r\nPlugin \'mattn/emmet-vim\' \r\n</pre>\r\n\r\n<ul>\r\n <b>\r\n  <li>使用emmet<hr></li>\r\n </b>\r\n</ul>\r\n以下内容翻译自<a href=\"https://github.com/mattn/emmet-vim/blob/master/TUTORIAL\">Tutorial for Emmet</a> <ul>\r\n <li><b>\r\n  展开缩略词\r\n </b></li>\r\n </ul>\r\n\r\n在插入模式键入缩略词组 <code>div&gt;p#foo$*3&gt;a </code>然后按快捷键 <code>&lt;c-y&gt;,</code> – 指按 <code>&lt;Ctrl-y&gt; </code>后再按逗号。\r\n<pre> &lt;div&gt;\r\n     &lt;p id=\"foo1\"&gt;\r\n     &lt;a href=\"\"&gt;&lt;/a&gt;\r\n     &lt;/p&gt;\r\n     &lt;p id=\"foo2\"&gt;\r\n     &lt;a href=\"\"&gt;&lt;/a&gt;\r\n     &lt;/p&gt;\r\n     &lt;p id=\"foo3\"&gt;\r\n     &lt;a href=\"\"&gt;&lt;/a&gt;\r\n     &lt;/p&gt;\r\n &lt;/div&gt;\r\n</pre>\r\n\r\n<ul>\r\n<li><b>\r\n 包入\r\n</b></li>\r\n</ul>\r\n\r\n如下内容\r\n  <pre>   test1\r\n   test2\r\n   test3\r\n  </pre>\r\n按大写的<code>V </code>进入 Vim 可视模式，“行选取”上面三行内容，然后按键 <code>&lt;c-y&gt;,</code>这时 Vim 的命令行会提示<code>Tags:，</code>键入<code>ul&gt;li*，</code>然后按<code>Enter</code>\r\n<pre> \r\n   &lt;ul&gt;\r\n       &lt;li&gt;test1&lt;/li&gt;\r\n       &lt;li&gt;test2&lt;/li&gt;\r\n       &lt;li&gt;test3&lt;/li&gt;\r\n   &lt;/ul&gt;\r\n</pre>\r\n\r\n如果你键入<code>blockquote</code>，将会得到下面结果\r\n  <pre>   &lt;blockquote&gt;\r\n       test1\r\n       test2\r\n       test3\r\n   &lt;/blockquote&gt;\r\n  </pre>\r\n\r\n\r\n<ul>\r\n<li><b>\r\n 选择标签Inward\r\n</b></li>\r\n</ul>\r\n  在insert mode下，键入<code>&lt;C-Y&gt;d</code>选择ul标签的Inward\r\n  <pre>   &lt;ul&gt;\r\n   *   &lt;li class=\"list1\"&gt;&lt;/li&gt;\r\n       &lt;li class=\"list2\"&gt;&lt;/li&gt;\r\n       &lt;li class=\"list3\"&gt;&lt;/li&gt;\r\n   &lt;/ul&gt;\r\n  </pre>\r\n    如果光标在 <code>*</code>, <code>&lt;C-Y&gt;d </code>将选择 <code>&lt;ul&gt; </code>到 <code>&lt;/ul&gt;</code>包含ul标签<br>\r\n    如果光标在<code>&lt;li&gt;</code>上，将选择<code>&lt;li class=\"list1\"&gt;&lt;/li&gt;</code>\r\n\r\n<ul>\r\n<li><b>\r\n \r\n 选择标签Outward\r\n \r\n</b></li>\r\n</ul>\r\n  在insert mode下，键入<code>&lt;C-Y&gt;D</code>选择ul标签的Outward\r\n  <pre>   &lt;ul&gt;\r\n     * &lt;li class=\"list1\"&gt;&lt;/li&gt;\r\n       &lt;li class=\"list2\"&gt;&lt;/li&gt;\r\n       &lt;li class=\"list3\"&gt;&lt;/li&gt;\r\n   &lt;/ul&gt;\r\n  </pre>\r\n    如果光标在 <code>*</code>, <code>&lt;C-Y&gt;D </code>将选择在<code>&lt;ul&gt; </code>中的下个标签比如<code>&lt;li class=\"list1\"&gt;&lt;/li&gt;</code>\r\n        如果光标在<code>&lt;li&gt;</code>上，将选择<code>&lt;ul&gt;</code>中的下个<code>&lt;li&gt;&lt;/li&gt;</code>\r\n\r\n\r\n\r\n<ul>\r\n<li><b>\r\n 跳到下一个编辑点\r\n</b></li>\r\n</ul>\r\n\r\n在插入模式下使用<code>&lt;C-Y&gt;n</code>跳到下一个编辑点\r\n  <pre>   * &lt;div id=\"foo\" class=\"\"&gt;foo&lt;/div&gt;\r\n     &lt;div id=\"bar\" class=\"bar\"&gt;&lt;/div&gt;\r\n  </pre>\r\n\r\n\r\n<ul>\r\n<li><b>\r\n 跳到上一个编辑点\r\n</b></li>\r\n</ul>\r\n\r\n在插入模式下使用<code>&lt;C-Y&gt;N</code>跳到下一个编辑点\r\n  <pre>   * &lt;div id=\"foo\" class=\"\"&gt;foo&lt;/div&gt;\r\n     &lt;div id=\"bar\" class=\"bar\"&gt;&lt;/div&gt;\r\n  </pre>\r\n\r\n\r\n\r\n<ul>\r\n<li><b>\r\n 更新<code>img</code>标签的size\r\n</b></li>\r\n</ul>\r\n\r\n使用<code>&lt;C-Y&gt;i</code>来更新图片的size\r\n<pre> &lt;img src=\"/home/apacal/Pictures/perl-vim.jpg\" /&gt;\r\n</pre>\r\n按<code>&lt;C-Y&gt;l;i</code>，将会如下\r\n <pre>  &lt;img src=\"/home/apacal/Pictures/perl-vim.jpg\" width=\"300\" height=\"200\"&gt;\r\n </pre>\r\n\r\n 网络图片也可以的\r\n <pre>  &lt;img src=\"/home/apacal/Pictures/perl-vim.jpg\" /&gt;\r\n  &lt;img src=\"/home/apacal/Pictures/perl-vim.jpg\" width=\"300\" height=\"200\"&gt;\r\n </pre>\r\n\r\n <ul>\r\n <li><b>\r\n  合并行\r\n </b></li>\r\n </ul>\r\n 要合并下面的行可以按<code>J</code>\r\n  <pre>   &lt;ul&gt;\r\n       &lt;li class=\"list1\"&gt;&lt;/li&gt;\r\n       &lt;li class=\"list2\"&gt;&lt;/li&gt;\r\n       &lt;li class=\"list3\"&gt;&lt;/li&gt;\r\n   &lt;/ul&gt;\r\n  </pre>\r\n\r\n  更方面的是选择所有包行<code>&lt;li&gt;</code>标签的行，在按<code>&lt;C-Y&gt;m</code>\r\n<pre>    &lt;ul&gt;\r\n        &lt;li class=\"list1\"&gt;&lt;/li&gt;&lt;li class=\"list2\"&gt;&lt;/li&gt;&lt;li class=\"list3\"&gt;&lt;/li&gt;\r\n    &lt;/ul&gt;\r\n</pre>\r\n\r\n<ul>\r\n<li><b>\r\n 移除标签对\r\n</b></li>\r\n</ul>\r\n移除标签对使用<code>&lt;C-Y&gt;k</code>，将光标移动到某个标签上，按<code>&lt;C-Y&gt;k</code>就可以移除该标签对\r\n<pre>   &lt;div class=\"foo\"&gt;\r\n       &lt;a&gt;cursor is here&lt;/a&gt;\r\n   &lt;/div&gt;\r\n</pre>\r\n   <pre>    &lt;div class=\"foo\"&gt;\r\n        \r\n    &lt;/div&gt;\r\n   </pre>\r\n\r\n\r\n<ul>\r\n<li><b>\r\n 合并标签\r\n</b></li>\r\n</ul>\r\nTo join block, type <code>&lt;C-Y&gt;j</code>\r\n<pre>   &lt;div class=\"foo\"&gt;\r\n       cursor is here\r\n   &lt;/div&gt;\r\n</pre>\r\n在insert mode中按<code>&lt;C-Y&gt;j</code>\r\n  <pre>   &lt;div class=\"foo\"/&gt;\r\n  </pre>\r\n再按一遍\r\n  <pre>   &lt;div class=\"foo\"/&gt;\r\n   &lt;/div&gt;\r\n  </pre>\r\n\r\n<ul>\r\n<li><b>\r\n 注释\r\n</b></li>\r\n</ul>\r\n\r\n将光标移到标签块中\r\n  <pre>   &lt;div&gt;\r\n       hello world\r\n   &lt;/div&gt;\r\n  </pre>\r\n按<code>&lt;c-y&gt;/ </code>\r\n  <pre>   &lt;!-- &lt;div&gt;\r\n       hello world\r\n   &lt;/div&gt; --&gt;\r\n  </pre>\r\n再按<code>&lt;c-y&gt;/ </code>取消注释\r\n\r\n<blockquote><b><font size=\"5\">\r\n    结束\r\n</font></b></blockquote>\r\n\r\n<font size=\"3\"></font>\r\nemmet是一个很强大的html编辑工具，极大加快了开发人员的编码速度。好好享受下。\r\n\r\n',1,0,'',3,'',1419940793,1409901213),(78,1,'','NGINX支持CGI（perl）','NGINX PERL CGI',190,'<blockquote><b><font face=\"Comic Sans MS\" size=\"5\">前言<br></font></b></blockquote><font face=\"Comic Sans MS\" size=\"3\">　\r\n　nginx 天生是不支持 cgi 的，所以 nginx 也就没有了 cgi 方面的漏洞，提高了安全性。即nginx \r\n不能直接执行外部可执行程序。nginx 虽然不支持 cgi，但它支持 fastCGI。所以，我们可以考虑安装 perl fcgi 来支持 \r\ncgi。 </font><br><blockquote><b><font face=\"Comic Sans MS\" size=\"5\">正文</font></b><br></blockquote><ul><li><b><font size=\"3\">安装 perl fcgi <br></font></b></li></ul><pre class=\"highlight\"><font size=\"3\">root@apacal-apacal:/opt# cd /opt\r\nroot@apacal-apacal:/opt# wget http://www.cpan.org/modules/by-module/FCGI/FCGI-0.77.tar.gz          \r\nroot@apacal-apacal:/opt# tar zxvf FCGI-0.77.tar.gz \r\nroot@apacal-apacal:/opt/FCGI-0.77# cd FCGI-0.77\r\nroot@apacal-apacal:/opt/FCGI-0.77# perl Makefile.PL \r\nroot@apacal-apacal:/opt/FCGI-0.77#  make &amp;&amp; make install </font></pre><ul><li><font face=\"Comic Sans MS\" size=\"3\"><b>安装 FCGI-ProcManager</b></font><hr></li></ul><pre class=\"highlight\"><font size=\"3\">root@apacal-apacal:/opt/FCGI-0.77# cd /opt/\r\nroot@apacal-apacal:/opt# wget http://www.cpan.org/modules/by-module/FCGI/BOBTFISH/FCGI-ProcManager-0.24.tar.gz\r\nroot@apacal-apacal:/opt# tar zxvf FCGI-ProcManager-0.24.tar.gz \r\nroot@apacal-apacal:/opt# cd FCGI-ProcManager-0.24\r\nroot@apacal-apacal:/opt/FCGI-ProcManager-0.24# perl Makefile.PL \r\nroot@apacal-apacal:/opt/FCGI-ProcManager-0.24# make &amp;&amp; make install</font></pre><font face=\"Comic Sans MS\" size=\"3\">&nbsp;准备工作做完了，下面就可以开始让 nginx 支持 cgi 之旅了。<br></font><ul><li><b><font face=\"Comic Sans MS\" size=\"3\">&nbsp;用 perl 写一个 daemon 程序来处理 cgi 文件</font></b></li></ul><font face=\"Comic Sans MS\" size=\"3\">&nbsp; 下面这段用 perl 写的 daemon 程序，我们命名为 cgiwrap-fcgi.pl，放入 <font color=\"#f83a22\"><b>/usr/local/bin</b> </font>下。注意，这段 perl 代码的第 36 和 37 行，这两行都表示监听来自 perl CGI 的请求。其中：<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <b><font color=\"#f83a22\">127.0.0.1:8999</font></b> 表示使用 TCP/IP 协议响应请求<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <b><font color=\"#f83a22\">/var/run/nginx/cgiwrap-dispatch.sock</font></b> 表示使用 unix socket 响应 CGI 请求 <br>我们的示例中，将采用 unix socket 的方式来响应 CGI 请求。(以下代码来自<a href=\"http://wiki.nginx.org/SimpleCGI\">http://wiki.nginx.org/SimpleCGI</a>）<br><br></font><pre class=\"highlight\"><font size=\"3\">#!/usr/bin/perl -w<br>use FCGI;<br>use Socket;<br>use FCGI::ProcManager;<br>sub shutdown { FCGI::CloseSocket($socket); exit; }<br>sub restart  { FCGI::CloseSocket($socket); &amp;main; }<br>use sigtrap \'handler\', \\&amp;shutdown, \'normal-signals\';<br>use sigtrap \'handler\', \\&amp;restart,  \'HUP\';<br>require \'syscall.ph\';<br>use POSIX qw(setsid);<br> <br>END()   { }<br>BEGIN() { }<br>{<br>  no warnings;<br>  *CORE::GLOBAL::exit = sub { die \"fakeexit\\nrc=\" . shift() . \"\\n\"; };<br>};<br> <br>eval q{exit};<br>if ($@) {<br>  exit unless $@ =~ /^fakeexit/;<br>}<br>&amp;main;<br> <br>sub daemonize() {<br>  chdir \'/\' or die \"Can\'t chdir to /: $!\";<br>  defined( my $pid = fork ) or die \"Can\'t fork: $!\";<br>  exit if $pid;<br>  setsid() or die \"Can\'t start a new session: $!\";<br>  umask 0;<br>}<br> <br>sub main {<br>  $proc_manager = FCGI::ProcManager-&gt;new( {n_processes =&gt; 5} );<br>  $socket = FCGI::OpenSocket( \"/var/run/nginx/cgiwrap-dispatch.sock\", 10 )<br>  ; #use UNIX sockets - user running this script must have w access to the \'nginx\' folder!!<br>  $request =<br>  FCGI::Request( \\*STDIN, \\*STDOUT, \\*STDERR, \\%req_params, $socket,<br>  &amp;FCGI::FAIL_ACCEPT_ON_INTR );<br>  $proc_manager-&gt;pm_manage();<br>  if ($request) { request_loop() }<br>  FCGI::CloseSocket($socket);<br>}<br> <br>sub request_loop {<br>  while ( $request-&gt;Accept() &gt;= 0 ) {<br>    $proc_manager-&gt;pm_pre_dispatch();<br> <br>    #processing any STDIN input from WebServer (for CGI-POST actions)<br>    $stdin_passthrough = \'\';<br>    { no warnings; $req_len = 0 + $req_params{\'CONTENT_LENGTH\'}; };<br>    if ( ( $req_params{\'REQUEST_METHOD\'} eq \'POST\' ) &amp;&amp; ( $req_len != 0 ) ) {<br>      my $bytes_read = 0;<br>      while ( $bytes_read &lt; $req_len ) {<br>        my $data = \'\';<br>        my $bytes = read( STDIN, $data, ( $req_len - $bytes_read ) );<br>        last if ( $bytes == 0 || !defined($bytes) );<br>        $stdin_passthrough .= $data;<br>        $bytes_read += $bytes;<br>      }<br>    }<br> <br>    #running the cgi app<br>    if (<br>      ( -x $req_params{SCRIPT_FILENAME} ) &amp;&amp;    #can I execute this?<br>      ( -s $req_params{SCRIPT_FILENAME} ) &amp;&amp;    #Is this file empty?<br>      ( -r $req_params{SCRIPT_FILENAME} )       #can I read this file?<br>    ) {<br>      pipe( CHILD_RD,   PARENT_WR );<br>      pipe( PARENT_ERR, CHILD_ERR );<br>      my $pid = open( CHILD_O, \"-|\" );<br>      unless ( defined($pid) ) {<br>        print(\"Content-type: text/plain\\r\\n\\r\\n\");<br>        print \"Error: CGI app returned no output - Executing $req_params{SCRIPT_FILENAME} failed !\\n\";<br>        next;<br>      }<br>      $oldfh = select(PARENT_ERR);<br>      $|     = 1;<br>      select(CHILD_O);<br>      $| = 1;<br>      select($oldfh);<br>      if ( $pid &gt; 0 ) {<br>        close(CHILD_RD);<br>        close(CHILD_ERR);<br>        print PARENT_WR $stdin_passthrough;<br>        close(PARENT_WR);<br>        $rin = $rout = $ein = $eout = \'\';<br>        vec( $rin, fileno(CHILD_O),    1 ) = 1;<br>        vec( $rin, fileno(PARENT_ERR), 1 ) = 1;<br>        $ein    = $rin;<br>        $nfound = 0;<br> <br>        while ( $nfound = select( $rout = $rin, undef, $ein = $eout, 10 ) ) {<br>          die \"$!\" unless $nfound != -1;<br>          $r1 = vec( $rout, fileno(PARENT_ERR), 1 ) == 1;<br>          $r2 = vec( $rout, fileno(CHILD_O),    1 ) == 1;<br>          $e1 = vec( $eout, fileno(PARENT_ERR), 1 ) == 1;<br>          $e2 = vec( $eout, fileno(CHILD_O),    1 ) == 1;<br> <br>          if ($r1) {<br>            while ( $bytes = read( PARENT_ERR, $errbytes, 4096 ) ) {<br>              print STDERR $errbytes;<br>            }<br>            if ($!) {<br>              $err = $!;<br>              die $!;<br>              vec( $rin, fileno(PARENT_ERR), 1 ) = 0<br>              unless ( $err == EINTR or $err == EAGAIN );<br>            }<br>          }<br>          if ($r2) {<br>            while ( $bytes = read( CHILD_O, $s, 4096 ) ) {<br>              print $s;<br>            }<br>            if ( !defined($bytes) ) {<br>              $err = $!;<br>              die $!;<br>              vec( $rin, fileno(CHILD_O), 1 ) = 0<br>              unless ( $err == EINTR or $err == EAGAIN );<br>            }<br>          }<br>          last if ( $e1 || $e2 );<br>        }<br>        close CHILD_RD;<br>        close PARENT_ERR;<br>        waitpid( $pid, 0 );<br>      } else {<br>        foreach $key ( keys %req_params ) {<br>          $ENV{$key} = $req_params{$key};<br>        }<br> <br>        # cd to the script\'s local directory<br>        if ( $req_params{SCRIPT_FILENAME} =~ /^(.*)\\/[^\\/] +$/ ) {<br>          chdir $1; <br>        }<br>        close(PARENT_WR);<br>        #close(PARENT_ERR);<br>        close(STDIN);<br>        close(STDERR);<br> <br>        #fcntl(CHILD_RD, F_DUPFD, 0);<br>        syscall( &amp;SYS_dup2, fileno(CHILD_RD),  0 );<br>        syscall( &amp;SYS_dup2, fileno(CHILD_ERR), 2 );<br> <br>        #open(STDIN, \"&lt;&amp;CHILD_RD\");<br>        exec( $req_params{SCRIPT_FILENAME} );<br>        die(\"exec failed\");<br>      }<br>    } else {<br>      print(\"Content-type: text/plain\\r\\n\\r\\n\");<br>      print \"Error: No such CGI app - $req_params{SCRIPT_FILENAME} may not exist or is not executable by this process.\\n\";<br>    }<br>  }<br>}<br>\r\n</font></pre><ul><li><font face=\"Comic Sans MS\" size=\"3\"><b>有关 /var/run/nginx/cgiwrap-dispatch.sock</b></font></li></ul><font face=\"Comic Sans MS\" size=\"3\">　\r\n　cgiwrap-dispatch.sock 文件是用来响应 CGI 请求的。实际上，文件名是随意的，甚至都可以不在 /var/run/ngin\r\n 下。即用来处理 CGI 请求的文件是完全随意的。当然，我们还是以 /var/run/nginx/cgiwrap-dispatch.sock[ \r\n为例来讲解。<br>　　在我们的机器中，并不存在 /var/run/nginx 这样的目录，我们可以通过 mkdir \r\n命令来建立这样层次结构的目录。至于 /cgiwrap-dispatch.sock 这个文件，通过 touch \r\n/cgiwrap-dispatch.sock 创建一个空的文件即可。<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 请确保在 nginx.cong 中声明的 user 的用户和组具备以下权限：<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 　　对 /var/run/nginx 具有 W 权限<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 　　对 cgiwrap-dispatch.sock 具有 W 权限 <br><br></font><pre class=\"highlight\"> <font size=\"3\">(apacal)-(jobs:0)-(/var/run/nginx)\r\n(! 2020)-&gt; sudo mkdir -p /var/run/nginx\r\n\r\n(apacal)-(jobs:0)-(/var/run/nginx)\r\n(! 2021)-&gt; sudo touch /var/run/nginx/cgiwrap-dispatch.sock\r\n\r\n(apacal)-(jobs:0)-(/var/run/nginx)\r\n(! 2024)-&gt; sudo chown -R www-data:www-data /var/run/nginx</font></pre><ul><li><font face=\"Comic Sans MS\" size=\"3\"><b>在后台运行 cgiwrap-fcgi.pl </b></font></li></ul><pre class=\"highlight\"><font size=\"3\">(apacal)-(jobs:0)-(/usr/local/bin)\r\n(! 2039)-&gt; sudo /usr/local/bin/cgiwrap-fcgi.pl  \r\nFastCGI: manager (pid 12682): initialized\r\nFastCGI: manager (pid 12682): server (pid 12683) started\r\nFastCGI: manager (pid 12682): server (pid 12684) started\r\nFastCGI: manager (pid 12682): server (pid 12685) started\r\nFastCGI: manager (pid 12682): server (pid 12686) started\r\nFastCGI: server (pid 12684): initialized\r\nFastCGI: server (pid 12686): initialized\r\nFastCGI: manager (pid 12682): server (pid 12687) started\r\nFastCGI: server (pid 12683): initialized\r\nFastCGI: server (pid 12687): initialized\r\nFastCGI: server (pid 12685): initialized</font></pre><font face=\"Comic Sans MS\" size=\"3\">这种方式运行 cgiwrap-fcgi.pl，会在控制台输出日志，这样我们确认该脚本已正常运行着的。后续若不想输出日志，可以这样来运行 cgiwrap-fcgi.pl： <br></font><pre class=\"highlight\"><font size=\"3\"># 这种方式运行 cgiwrap-fcgi.pl 不会输出日志  \r\n(apacal)-(jobs:0)-(/usr/local/bin)\r\n(! 2039)-&gt; /usr/local/bin/cgiwrap-fcgi.pl &gt; /dev/null 2&gt;&amp;1 &amp;  \r\n# 这种方式运行 cgiwrap-fcgi.pl 能够使得该脚本随系统启动而启动  \r\n# 编辑 /etc/rc.local 文件，最后一行添加：  \r\n/usr/local/bin/cgiwrap-fcgi.pl &gt; /dev/null 2&gt;&amp;1 &amp; </font></pre><ul><li><b><font face=\"Comic Sans MS\" size=\"3\">在 web 的根目录建立cgi-bin目录并建立index.cgi 来测试</font></b></li></ul><pre class=\"highlight\"><font size=\"3\">(apacal)-(jobs:0)-(~/www)\r\n(! 2041)-&gt; cd ~/www\r\n\r\n(apacal)-(jobs:0)-(~/www)\r\n(! 2042)-&gt; mkdir cgi-bin\r\n\r\n(apacal)-(jobs:0)-(~/www)\r\n(! 2043)-&gt; vim index.cgi\r\n</font></pre><font face=\"Comic Sans MS\" size=\"3\"></font><pre class=\"highlight\"> <font size=\"3\">#!/usr/bin/perl  \r\nprint \"Content-type: text/html\\n\\n\";  \r\nprint \"Hello, world.\"; \r\n</font></pre><ul><li><b><font face=\"Comic Sans MS\" size=\"3\">在 nginx.conf 中做如下配置</font></b></li></ul><b><font face=\"Comic Sans MS\" size=\"3\"><br></font></b><pre class=\"highlight\"> <font size=\"3\">    location ~ ^/cgi-bin/.*\\.cgi$ {\r\n        gzip off; #gzip makes scripts feel slower since they have to complete before getting gzipped\r\n        fastcgi_pass  unix:/var/run/nginx/cgiwrap-dispatch.sock;\r\n        fastcgi_index index.cgi;\r\n        include fastcgi_params;\r\n    }\r\n</font></pre><br>',1,0,'',3,'',1419939193,1410772131),(79,1,'','nginx搭建https服务器','SSL, HTTPS, NGINX',203,'<blockquote><font size=\"5\"><b>前言<br></b></font></blockquote><font size=\"3\">　　http是一个不安全的传输协议，传输的内容都是文本明文传输的，特别是对于用户的帐号和密码等等，如果被中间节点截取就很容易获取到用户密码。https则是以安全为目标的HTTP通道，简单讲是HTTP的安全版。即HTTP下加入SSL层，https的安全基础是SSL。本文讲述如何在NGINX中配置好一个https服务器，并自己给服务器颁发证书。</font><br><blockquote><b><font size=\"5\">正文</font></b><br></blockquote><ul><li><b><font size=\"3\">首先确保机器上安装了openssl和openssl-devel</font></b></li></ul><pre class=\"highlight\"><font size=\"3\">#apt-get install openssl\r\n#apt-get install openssl-devel</font></pre><ul><li><b><font face=\"Comic Sans MS\" size=\"3\">自己颁发证书给自己</font></b></li></ul><pre class=\"highlight\"> <font size=\"3\">#cd /etc/nginx/ssl/\r\n#openssl genrsa -des3 -out server.key 1024\r\n#openssl req -new -key server.key -out server.csr\r\n#openssl rsa -in server.key -out server_nopwd.key\r\n#openssl x509 -req -days 365 -in server.csr -signkey server_nopwd.key -out server.crt</font></pre><ul><li><b><font face=\"Comic Sans MS\" size=\"3\">配置nginx</font></b><hr></li></ul><font face=\"Comic Sans MS\" size=\"3\"></font><pre class=\"highlight\"> <font size=\"3\"># HTTPS server\r\n#\r\nserver {                                                                                                                                                  \r\n   listen 443;\r\n   server_name apacal.cn;\r\n   root /www/ApacalBlog;\r\n   index index.php index.html index.htm;\r\n    location / {\r\n        if (!-e $request_filename) {\r\n            rewrite  ^(.*)$  /index.php?s=$1  last;\r\n            break;\r\n        }\r\n    }\r\n    location ~ \\.php($|/) {\r\n	fastcgi_pass unix:/var/run/php5-fpm.sock;\r\n	fastcgi_index index.php;\r\n        include path_info;\r\n	include fastcgi_params;\r\n    }\r\n\r\n   ssl on;\r\n   ssl_certificate /etc/nginx/ssl/server.crt;\r\n   ssl_certificate_key /etc/nginx/ssl/server_nopwd.key;\r\n   ssl_session_timeout 5m;\r\n   ssl_protocols SSLv3 TLSv1 TLSv1.1 TLSv1.2;\r\n   ssl_ciphers \"HIGH:!aNULL:!MD5 or HIGH:!aNULL:!MD5:!3DES\";\r\n   ssl_prefer_server_ciphers on;\r\n}    \r\n</font></pre><ul><li><b><font size=\"3\"><font face=\"Comic Sans MS\">reload NGINX配置文件</font></font></b></li></ul><pre class=\"highlight\"> <font size=\"3\">(apacal)-(jobs:0)-(/tmp)\r\n(! 2002)-&gt; sudo /etc/init.d/nginx reload\r\n</font></pre><ul><li><b><font size=\"3\">对一些需要加密的页面强制性redirect到https</font></b></li></ul><pre class=\"highlight\"> <font size=\"3\">server {\r\n	#listen   80; ## listen for ipv4; this line is default and implied\r\n	#listen   [::]:80 default ipv6only=on; ## listen for ipv6\r\n\r\n	root /www/ApacalBlog;\r\n	index index.php index.html index.htm;\r\n\r\n	# Make site accessible from http://localhost/\r\n	server_name apacal.cn www.apacal.cn localhost 218.244.140.70;\r\n\r\n	location / {\r\n        if (!-e $request_filename) {\r\n            rewrite  ^(.*)$  /index.php?s=$1  last;\r\n            break;\r\n        }\r\n	}\r\n\r\n    if ($uri ~* \"/Admin.*\") {     \r\n        rewrite ^/(.*)$ https://$host/$1 redirect; \r\n    }\r\n......</font></pre><font face=\"Comic Sans MS\" size=\"3\">完成了，可以享受一下https带来的安全了。</font>',1,0,'',3,'',1419941660,1410852950),(80,2,'','PHP的SESSION机制','SESSION, PHP, COOKIE',169,'                        <blockquote><b>\r\n<font face=\"Comic Sans MS\" size=\"5\">前言</font></b><br></blockquote><font face=\"Comic Sans MS\" size=\"3\">　　sessoin和cookie是web中会话控制的方法，理解它的原理有助于我们对于跨站或者跨服务器控制session</font><br><blockquote><b><font face=\"Comic Sans MS\" size=\"3\">默认处理session机制<code>session.save_handler = files</code> <br></font></b></blockquote><ul><li><b><font face=\"Comic Sans MS\" size=\"3\"> <code>session_start()</code>\r\n\r\n</font></b></li></ul><font face=\"Comic Sans MS\" size=\"3\">1.<code>session_start()</code>是session机制的开始，它有一定概率开启垃圾回收,因为session是存放在文件中，\r\nPHP自身的垃圾回收是无效的，SESSION的回收是要删文件的，这个概率是根据php.ini的配置决定的，\r\n但是有的系统是 session.gc_probability = 0，这也就是说概率是0，而是通过cron脚本来实现垃圾回收。\r\n</font><pre><font face=\"Comic Sans MS\" size=\"3\"> session.gc_probability = 1\r\n session.gc_divisor = 1000\r\n session.gc_maxlifetime = 1440//过期时间 默认24分钟\r\n //概率是 session.gc_probability/session.gc_divisor 结果 1/1000,\r\n //不建议设置过小，因为session的垃圾回收，是需要检查每个文件是否过期的。\r\n session.save_path = //好像不同的系统默认不一样，有一种设置是 \"N;/path\"\r\n //这是随机分级存储，这个样的话，垃圾回收将不起作用，需要自己写脚本 </font></pre><hr><font face=\"Comic Sans MS\" size=\"3\">2. session会判断当前是否有<code>$_COOKIE[session_name()]</code>session_name()返回保存session_id的COOKIE键值，\r\n这个值可以从php.ini找到\r\n</font><pre><font face=\"Comic Sans MS\" size=\"3\"> \r\nsession.name = PHPSESSID //默认值PHPSESSID\r\n</font></pre><font face=\"Comic Sans MS\" size=\"3\">\r\n            \r\n\r\n3. 如果不存在会生成一个session_id,然后把生成的session_id作为COOKIE的值传递到客户端.  相当于执行了下面COOKIE 操作，注意的是，这一步执行了setcookie()操作，COOKIE是在header头中发送的， 这之前是不能有输出的，PHP有另外一个函数 session_regenerate_id() 如果使用这个函数，这之前也是不能有输出的。\r\n</font><pre><font face=\"Comic Sans MS\" size=\"3\">setcookie(session_name(),\r\n          session_id(),\r\n          session.cookie_lifetime,//默认0\r\n          session.cookie_path,//默认\'/\'当前程序跟目录下都有效\r\n          session.cookie_domain,//默认为空\r\n          )\r\n</font></pre><font face=\"Comic Sans MS\" size=\"3\">\r\n4. 如果存在那么<code>session_id = $_COOKIE[session_name]; </code>然后去<code>session.save_path</code>指定的文件夹里去找名字为<code>\'sess_\' . session_id()</code>的文件.  读取文件的内容反序列化，然后放到$_SESSION中<br><br></font><ul><li><font face=\"Comic Sans MS\" size=\"3\"><b>为$_SESSION赋值</b> <br></font></li></ul><font face=\"Comic Sans MS\" size=\"3\">比如新添加一个值<code>$_SESSION[\'test\'] = \'blah\'; </code>那么这个$_SESSION只会维护在内存中，当脚本执行结束的时候， 用把$_SESSION的值写入到session_id指定的文件夹中，然后关闭相关资源.      这个阶段有可能执行更改session_id的操作， 比如销毁一个旧的的session_id，生成一个全新的session_id.一半用在自定义 session操作，角色的转换上， 比如Drupal.Drupal的匿名用户有一个SESSION的，当它登录后需要换用新的session_id \r\n</font><pre><font face=\"Comic Sans MS\" size=\"3\">\r\n if (isset($_COOKIE[session_name()])) {\r\n   setcookie(session_name(), \'\', time() - 42000, \'/\');//旧session cookie过期\r\n }\r\n session_regenerate_id();//这一步会生成新的session_id\r\n//session_id()返回的是新的值\r\n \r\n</font></pre><ul><li><font face=\"Comic Sans MS\" size=\"3\">\r\n<b>\r\n 写入SESSION操作 </b></font></li></ul><font face=\"Comic Sans MS\" size=\"3\">在脚本结束的时候会执行SESSION写入操作，把$_SESSION中值写入到session_id命名的文件中，可能已经存在，可能需要创建新的文件。\r\n<b>\r\n 销毁SESSION\r\n</b>\r\nSESSION发出去的COOKIE一般属于即时COOKIE，保存在内存中，当浏览器关闭后，才会过期，假如需要人为强制过期， 比如 退出登录，而不是关闭浏览器，那么就需要在代码里销毁SESSION，方法有很多，\r\n</font><pre><font face=\"Comic Sans MS\" size=\"3\"> setcookie(session_name(), session_id(), time() - 8000000, ..);// 1.退出登录前执行\r\n usset($_SESSION);//2.这会删除所有的$_SESSION数据，刷新后，有COOKIE传过来，但是没有数据。\r\n session_destroy();//3.这个作用更彻底，删除$_SESSION 删除session文件，和session_id\r\n</font></pre><font face=\"Comic Sans MS\" size=\"3\">\r\n\r\n当不关闭浏览器的情况下，再次刷新，2和3都会有COOKIE传过来，但是找不到数据\r\n<br></font><blockquote><font face=\"Comic Sans MS\" size=\"3\">\r\n\r\n<b>\r\n 用户自定一session处理机制\r\n</b></font><br></blockquote><font face=\"Comic Sans MS\" size=\"3\">\r\n用户自定义session处理机制，更加直观\r\n</font><pre><font face=\"Comic Sans MS\" size=\"3\">bool session_set_save_handler ( SessionHandlerInterface $sessionhandler [, bool $register_shutdown = true ] )\r\n</font></pre><font face=\"Comic Sans MS\" size=\"3\"><strong class=\"classname\">SessionHandlerInterface</strong> is an\r\n    <a href=\"http://cn2.php.net/manual/zh/language.oop5.interfaces.php\" class=\"link\">interface</a> which defines a\r\n    prototype for creating a custom session handler. In order to pass a custom\r\n    session handler to <span class=\"function\"><a href=\"http://cn2.php.net/manual/zh/function.session-set-save-handler.php\" class=\"function\">session_set_save_handler()</a></span> using its\r\n    <em>OOP</em> invocation, the class must implement this interface.<br>下面是一个实现<br></font><pre class=\"highlight\"> <font size=\"3\"><?php\r\nclass MySessionHandler implements SessionHandlerInterface\r\n{\r\n    private $savePath;\r\n\r\n    public function open($savePath, $sessionName)\r\n    {\r\n        $this->savePath = $savePath;\r\n        if (!is_dir($this->savePath)) {\r\n            mkdir($this->savePath, 0777);\r\n        }\r\n\r\n        return true;\r\n    }\r\n\r\n    public function close()\r\n    {\r\n        return true;\r\n    }\r\n\r\n    public function read($id)\r\n    {\r\n        return (string)@file_get_contents(\"$this->savePath/sess_$id\");\r\n    }\r\n\r\n    public function write($id, $data)\r\n    {\r\n        return file_put_contents(\"$this->savePath/sess_$id\", $data) === false ? false : true;\r\n    }\r\n\r\n    public function destroy($id)\r\n    {\r\n        $file = \"$this->savePath/sess_$id\";\r\n        if (file_exists($file)) {\r\n            unlink($file);\r\n        }\r\n\r\n        return true;\r\n    }\r\n\r\n    public function gc($maxlifetime)\r\n    {\r\n        foreach (glob(\"$this->savePath/sess_*\") as $file) {\r\n            if (filemtime($file) + $maxlifetime < time() && file_exists($file)) {\r\n                unlink($file);\r\n            }\r\n        }\r\n\r\n        return true;\r\n    }\r\n}\r\n\r\n$handler = new MySessionHandler();\r\nsession_set_save_handler($handler, true);\r\nsession_start();</font></pre><font face=\"Comic Sans MS\" size=\"3\">对SessionHandler的解释：<br></font><dl><dt>\r\n<font face=\"Comic Sans MS\" size=\"3\"><code class=\"parameter\">open(string $savePath, string $sessionName)</code></font></dt><dd>\r\n\r\n      <p class=\"para\"><font face=\"Comic Sans MS\" size=\"3\">\r\n       open 回调函数类似于类的构造函数，\r\n       在会话打开的时候会被调用。\r\n       这是自动开始会话或者通过调用 <span class=\"function\"><a href=\"http://cn2.php.net/manual/zh/function.session-start.php\" class=\"function\">session_start()</a></span> 手动开始会话\r\n       之后第一个被调用的回调函数。\r\n       此回调函数操作成功返回 <strong><code>TRUE</code></strong>，反之返回 <strong><code>FALSE</code></strong>。\r\n      </font></p>\r\n     </dd><dt>\r\n<font face=\"Comic Sans MS\" size=\"3\"><code class=\"parameter\">close()</code></font></dt><dd>\r\n\r\n      <p class=\"para\"><font face=\"Comic Sans MS\" size=\"3\">\r\n       close 回调函数类似于类的析构函数。\r\n       在 write 回调函数调用之后调用。\r\n       当调用 <span class=\"function\"><a href=\"http://cn2.php.net/manual/zh/function.session-write-close.php\" class=\"function\">session_write_close()</a></span> 函数之后，也会调用 close 回调函数。\r\n       此回调函数操作成功返回 <strong><code>TRUE</code></strong>，反之返回 <strong><code>FALSE</code></strong>。\r\n      </font></p>\r\n     </dd><dt>\r\n<font face=\"Comic Sans MS\" size=\"3\"><code class=\"parameter\">read(string $sessionId)</code></font></dt><dd>\r\n\r\n      <p class=\"para\"><font face=\"Comic Sans MS\" size=\"3\">\r\n       如果会话中有数据，read 回调函数必须返回将会话数据编码（序列化）后的字符串。\r\n       如果会话中没有数据，read 回调函数返回空字符串。\r\n      </font></p>\r\n      <p class=\"para\"><font face=\"Comic Sans MS\" size=\"3\">\r\n       在自动开始会话或者通过调用\r\n       <span class=\"function\"><a href=\"http://cn2.php.net/manual/zh/function.session-start.php\" class=\"function\">session_start()</a></span> 函数手动开始会话之后，PHP 内部调用 read 回调函数来获取会话数据。\r\n       在调用 read 之前，PHP 会调用 open 回调函数。\r\n      </font></p>\r\n      <p class=\"para\"><font face=\"Comic Sans MS\" size=\"3\">\r\n       read 回调返回的序列化之后的字符串格式必须与 <code class=\"parameter\">write</code> 回调函数保存数据时的格式完全一致。\r\n       PHP 会自动反序列化返回的字符串并填充 <var class=\"varname\"><var class=\"varname\"><a href=\"http://cn2.php.net/manual/zh/reserved.variables.session.php\" class=\"classname\">$_SESSION</a></var></var> 超级全局变量。\r\n       虽然数据看起来和 <span class=\"function\"><a href=\"http://cn2.php.net/manual/zh/function.serialize.php\" class=\"function\">serialize()</a></span> 函数很相似，\r\n       但是需要提醒的是，它们是不同的。\r\n       请参考： <a href=\"http://cn2.php.net/manual/zh/session.configuration.php#ini.session.serialize-handler\" class=\"link\">session.serialize_handler</a>。\r\n      </font></p>\r\n     </dd><dt>\r\n<font face=\"Comic Sans MS\" size=\"3\"><code class=\"parameter\">write(string $sessionId, string $data)</code></font></dt><dd>\r\n\r\n      <p class=\"para\"><font face=\"Comic Sans MS\" size=\"3\">\r\n       在会话保存数据时会调用 <code class=\"parameter\">write</code> 回调函数。\r\n       此回调函数接收当前会话 ID 以及 <var class=\"varname\"><var class=\"varname\"><a href=\"http://cn2.php.net/manual/zh/reserved.variables.session.php\" class=\"classname\">$_SESSION</a></var></var> 中数据序列化之后的字符串作为参数。\r\n       序列化会话数据的过程由 PHP 根据 <a href=\"http://cn2.php.net/manual/zh/session.configuration.php#ini.session.serialize-handler\" class=\"link\">session.serialize_handler</a> 设定值来完成。\r\n      </font></p>\r\n      <p class=\"para\"><font face=\"Comic Sans MS\" size=\"3\">\r\n       序列化后的数据将和会话 ID 关联在一起进行保存。\r\n       当调用 <code class=\"parameter\">read</code> 回调函数获取数据时，所返回的数据必须要和\r\n       传入 <code class=\"parameter\">write</code> 回调函数的数据完全保持一致。\r\n      </font></p>\r\n      <p class=\"para\"><font face=\"Comic Sans MS\" size=\"3\">\r\n       PHP 会在脚本执行完毕或调用 <span class=\"function\"><a href=\"http://cn2.php.net/manual/zh/function.session-write-close.php\" class=\"function\">session_write_close()</a></span> 函数之后调用此回调函数。\r\n       注意，在调用完此回调函数之后，PHP 内部会调用 <code class=\"parameter\">close</code> 回调函数。</font></p></dd></dl><p><font face=\"Comic Sans MS\" size=\"3\"><strong class=\"note\">Note</strong>: \r\n        </font></p><p class=\"para\"><font face=\"Comic Sans MS\" size=\"3\">\r\n         PHP 会在输出流写入完毕并且关闭之后\r\n         才调用 write 回调函数，\r\n         所以在 write 回调函数中的调试信息不会输出到浏览器中。\r\n         如果需要在 write 回调函数中使用调试输出，\r\n         建议将调试输出写入到文件。\r\n        </font></p><dl><dt><font face=\"Comic Sans MS\" size=\"3\"><br></font></dt><dd><p class=\"para\"><font face=\"Comic Sans MS\" size=\"3\"><strong class=\"note\"></strong><code class=\"parameter\">destroy($sessionId)</code></font></p></dd><dd>\r\n\r\n      <p class=\"para\"><font face=\"Comic Sans MS\" size=\"3\">\r\n       当调用 <span class=\"function\"><a href=\"http://cn2.php.net/manual/zh/function.session-destroy.php\" class=\"function\">session_destroy()</a></span> 函数，\r\n       或者调用  <span class=\"function\"><a href=\"http://cn2.php.net/manual/zh/function.session-regenerate-id.php\" class=\"function\">session_regenerate_id()</a></span> 函数并且设置 destroy 参数为 <strong><code>TRUE</code></strong> 时，\r\n       会调用此回调函数。此回调函数操作成功返回 <strong><code>TRUE</code></strong>，反之返回 <strong><code>FALSE</code></strong>。\r\n      </font></p>\r\n     </dd><dt>\r\n<font face=\"Comic Sans MS\" size=\"3\"><code class=\"parameter\">gc($lifetime)</code></font></dt><dd><font face=\"Comic Sans MS\" size=\"3\">\r\n\r\n      </font><p class=\"para\"><font face=\"Comic Sans MS\" size=\"3\">\r\n       为了清理会话中的旧数据，PHP 会不时的调用垃圾收集回调函数。\r\n       调用周期由 <a href=\"http://cn2.php.net/manual/zh/session.configuration.php#ini.session.gc-probability\" class=\"link\">session.gc_probability</a> \r\n       和 <a href=\"http://cn2.php.net/manual/zh/session.configuration.php#ini.session.gc-divisor\" class=\"link\">session.gc_divisor</a> 参数控制。\r\n       传入到此回调函数的 lifetime 参数由 <a href=\"http://cn2.php.net/manual/zh/session.configuration.php#ini.session.gc-maxlifetime\" class=\"link\">session.gc_maxlifetime</a> 设置。\r\n       此回调函数操作成功返回 <strong><code>TRUE</code></strong>，反之返回 <strong><code>FALSE</code></strong>。\r\n      </font></p>\r\n     </dd></dl><blockquote>\r\n\r\n  \r\n \r\n\r\n\r\n \r\n  <font size=\"5\"><b><font face=\"Comic Sans MS\">结束</font></b></font><br></blockquote><font face=\"Comic Sans MS\" size=\"3\">　　理解了其机制，我们可以使用用户自定意的session机制来处理跨服务器，跨域名等的会话，比如使用mysql, memcache, redis来存储session.</font><br>            ',1,0,'',0,'',1422020549,1411118148),(82,10,'','实习，offer不易，如何准备？','实习，offer',135,'<blockquote><b><font size=\"5\">前言</font></b><br></blockquote><font size=\"3\">　　找工作是辛苦的，惨烈的，也差不多结束了，就在这里说一下我的经历吧，本人211大师范院校小本一枚，现在在猎豹移动实习，拿了腾讯微信后台开发的offer，我的面试经历，实习：腾讯，WPS，猎豹移动，工作：腾讯。<br></font><blockquote><font size=\"3\"><b><font size=\"5\">正文</font></b></font><br></blockquote><blockquote><font size=\"3\"><b>实习之战</b></font></blockquote><font size=\"3\"><font size=\"3\">　　</font>今年４月去找实习，由于个人比较拖拉，错过了百度和阿里巴巴，最后ABT只有腾讯了，报了腾讯。<br></font><br><ul><li><b><font size=\"3\">腾讯</font></b></li></ul><font size=\"3\">　　</font><font size=\"3\">网申，然后就通知去参加笔试，一般只要网申了就会个笔试的机会的，考试前好好做了几份以前的试卷，BAT主要是考察C&amp;C++，数据结构，一点操作系统的知识（内存调度等等）<br><b>　　</b>有一点准备，所以自然就去参加初面了,下面来谈一下面试的过程。<b><br>　　</b>一进去，面试官就让我写一个二叉搜索树里找第K大节点，但是准备太不好了，没有写出来，丢脸丢到家了，然后他就看了下我的简历,看到我做了一些php的项目，就问我你对web安全有什么了解，当时只是答了个sql注入；还问了一些给你影响深刻的博客，由于一个算法没写好，后面回答也不好，就没有问下求了，第一面黄了，大概30分钟就结束了<b>.<br></b></font><hr><ul><li><font size=\"3\"><b>WPS</b></font></li></ul><font size=\"3\"><font size=\"3\">　　</font>4月中wps实习来了，直接去参加宣讲会，然后投了简历，参加笔试，笔试同样也是C&amp;C++的内容，据说现在WPS都是用Qt写的，所以对C++要求也比较高吧<b>。<br></b></font><font size=\"3\"><b><font size=\"3\">　　</font></b>腾讯面试完之后，好好恶补了一下C++，看了深度探索C++对象模型，心里还稍微有一点料了。<br></font><font size=\"3\"><font size=\"3\">　　</font>果然是C++要求高的，基本上就问C&amp;C++的内容，指针呀，C++对象模型呀，C++的多态实现呀，叫我写了一个viod copy(void *src, void * dst)的函数，要考虑src和dst的位置，这里有一个坑，当时没有考虑好，上当了。<br></font><font size=\"3\"><font size=\"3\">　　</font>第一面也黄了。<b><br></b></font><ul><li><font size=\"3\"><b>金山网络</b></font></li></ul><font size=\"3\"><font size=\"3\">　　</font>4月底，金山网络实习招聘来了，由于今年金山网络改名猎豹移动，要在5月份上市，所以今年大张旗鼓的招了很多实习生，机会大了很多。<b><br></b></font><font size=\"3\"><b><font size=\"3\">　　</font></b>和WPS一样，去参加宣讲会就投递简历和笔试。<br></font><font size=\"3\"><font size=\"3\">　　</font>面试也是分为三面，第一和第二面为技术面，第三面为广州研发中心的负责人面试。<br></font><font size=\"3\"><font size=\"3\">　　</font>第一面和第二面是连续的，同样我还是面C++工程师，第一面的面试官人很好，后来就是我实习的老大了，和他面试就像聊天一样，问了一些我的项目，还有C++对象模型，比如多态，构造等等，和一个面试官聊得好，马上就进行了第二面，第二面问了一些数学的知识（由于本人是数学学院的），还拿了台电脑让我把笔试的一道题目实现，写一个xml解析器，坑爹了下。<br></font><font size=\"3\"><font size=\"3\">　　</font>面试完第二天就打电话通知去最后一面，悲剧那天晚上在学校一个没有信号的地方看书，没有接到电话，幸好有个QQ群，找到了HR，然后确定了面试地点。所以以后找工作手机一定要保持畅通<br></font><font size=\"3\"><font size=\"3\">　　</font>最后一面就是5个人一起去和boss聊天。<b><br></b></font><blockquote><font size=\"3\"><b>Offer之战</b><br></font></blockquote><font size=\"3\"><font size=\"3\">　　</font>到了9月的校招高峰了，投了百度，腾讯，阿里由于错过了，就没有参加，百度去网申了云计算的岗位，不是特别了解，所以笔试就刷了，个人觉得百度的岗位划分不是很好，笔试题目也比较难一点，下面就主要讲讲腾讯的面试经过。</font><br><ul><li><font size=\"3\"><b>腾讯</b></font></li></ul><font size=\"3\"><font size=\"3\">　　</font>还是先网申，笔试，两轮技术面，一轮HR面<b><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </b>第一面，居然是个女的，可能是技术的不够就找了HR来帮忙吧，一来还是老套的自我介绍，然后她就拿了一堆的题目来考察一下C&amp;C++的基础知识，后来还拿了一道笔试的题目来问，最后我了下最近比较火的技术，感觉发挥的不是特别好。<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 第一面完了后，第二天晚上才通知去面试，可能当了下备胎吧。第二面是个纯技术的牛人，问了很多技术性问题，比如<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 加你实现一个cache（memcache)你会考虑哪些问题。<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 实现一个内存池<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 给你1000万个数，10mb内存，然后去重排序<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 使用tcp来实现ftp<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 关键字过滤问题，给你500个敏感词，如何高效地查找一篇文章中有没有出现<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 幸好的是他会一步一步来引导你去找最好的答案，最后问了下我对工作地点有没有要求，还有如果给我offer会怎么样考虑，我个人觉得这个时候就应该回答在哪工作都好，会接受offer.<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; HR面，面完第二面，面试官就叫我到下面去等HR面，好吧，HR又是个女的，大概就是聊了下个人兴趣爱好，还有工作地点，还有给的工作项目是什么，当时有一些犹豫说想在广州，但是透明想要在深圳的，最后就问了有没有问题想要问，这个时候个人觉得想要问一些问题，比如公司培训等等，我但是就问了新员工培训的问题。<b><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </b>面完HR后也没有给你发offer,估计是当了备胎了，一个月后才联系说法offer<b><br></b></font><blockquote><font size=\"3\"><b><font size=\"5\">完结</font></b></font><br></blockquote><font size=\"3\"><b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 实习和工作都告一段落了，接下来就好好继续实习，准备毕业。<br><br>&nbsp;&nbsp;&nbsp; <br></b></font><br><br><font size=\"3\"><b><br></b></font>',1,0,'',3,'',1419938772,1411728596),(83,1,'','简单方式穿越GWF，用上gooole, gmail, facebook','GWF, facebook, gmail',275,'<p></p><blockquote><b><font size=\"5\">前言<br></font></b></blockquote><font size=\"3\">　　自从李开复离开google, google离开大陆后, 只能使用baidu，虽然baidu在中文搜索还可以，但是他的命中率不高，并且缺少公正，特别一些搜索的命中率太低了，本文介绍如何简单的用上google.</font><font size=\"3\"><b><br>　　</b></font><blockquote><b><font size=\"5\">正文</font></b><br></blockquote><font size=\"3\"><b>　　先介绍一点基础知识</b></font><br><ul><li><font face=\"Comic Sans MS\" size=\"3\"><b>GFW介绍</b></font></li></ul><div class=\"text-article\">\r\n<div class=\"content-body\" id=\"shareBody\">\r\n\r\n<p>    <font face=\"Comic Sans MS\" size=\"3\"><span>　　GFW是Great Fire Wall的缩写，即“长城防火墙”。这个工程由若干个部分组成，实现不同功能。长城防火墙主要指TG监控和过滤互联网内容的软硬件系统，由服务器和路由器等设备，加上相关的应用程序所构成。</span>     </font><font face=\"Comic Sans MS\" size=\"3\"><br></font>     <font face=\"Comic Sans MS\" size=\"3\"><span>　　首先，需要强调的是，由于中国网络审查广泛，中国国内含有“不合适”内容的的网站，会受到政府直接的行政干预，被要求自我审查、自我监管，乃至关闭，所以GFW的主要作用在于分析和过滤中国境内外网络的资讯互相访问。</span>     </font><font face=\"Comic Sans MS\" size=\"3\"><span>GFW对网络内容的过滤和分析是双向的，GFW不仅针对国内读者访问中国境外的网站进行干扰，也干扰国外读者访问主机在中国大陆的网站。</span>&nbsp;<br></font></p><hr><ul><li>     <font face=\"Comic Sans MS\" size=\"3\"><span><span><strong>关键字过滤阻断</strong></span></span></font></li></ul><h4><font face=\"Comic Sans MS\" size=\"3\">&nbsp;</font><span>　　关键字过滤系统。此系统能够从出口网关收集分析信息，过滤、嗅探指定的关键字。主要针对HTTP的默认端口：80端口，因为HTTP传播的内容是明文的内\r\n容，没有经过加密，而GFW是一个IDS(Intrusion detection \r\nsystem)。普通的关键词如果出现在HTTP请求报文的头部(如“Host: \r\nwww.youtube.com”)时，则会马上伪装成对方向连接两端的计算机发送RST包(reset)干扰两者正常的TCP连接，进而使请求的内容无\r\n法继续查看。如果GFW在数据流中发现了特殊的内文关键词(如轮子，达赖等)时，其也会试图打断当前的连接，从而有时会出现网页开启一部分后突然停止的情\r\n况。在任何阻断发生后，一般在随后的90秒内同一IP地址均无法浏览对应IP地址相同端口上的内容。</span>     <br></h4><ul><li>     <font face=\"Comic Sans MS\" size=\"3\"><span><span><strong>IP地址封锁</strong></span></span></font></li></ul><h4><font face=\"Comic Sans MS\" size=\"3\">&nbsp;</font><span><font size=\"3\"><font face=\"Comic Sans MS\">　　</font></font>IP\r\n地址封锁是GFW通过路由器来控制的，在通往国外的最后一个网关上加上一条伪造的路由规则，导致通往某些被屏蔽的网站的所有IP数据包无法到达。路由器的\r\n正常工作方式是学习别的路由器广播的路由规则，遇到符合已知的IP转发规则的数据包，则按已经规则发送，遇到未知规则IP的数据，则转发到上一级网关。</span></h4><h4><font face=\"Comic Sans MS\" size=\"3\">　　</font><font face=\"Comic Sans MS\" size=\"3\"><span>而\r\nGFW对于境外(中国大陆以外)的XX网站会采取独立IP封锁技术。然而部分XX网站使用的是由虚拟主机服务提供商提供的多域名、单(同)IP的主机托管\r\n服务，这就会造成了封禁某个IP地址，就会造成所有使用该服务提供商服务的其它使用相同IP地址服务器的网站用户一同遭殃，就算是正常的网站，也不能幸\r\n免。其中的内容可能并无不当之处，但也不能在中国大陆正常访问。现在GFW通常会将包含XX信息的网站或网页的URL加入关键字过滤系统，并可以防止民众\r\n透过普通海外HTTP代理服务器进行访问。</span>     <br></font></h4><ul><li>     <font face=\"Comic Sans MS\" size=\"3\"><span><span><strong>特定端口封锁</strong></span></span></font></li></ul><h4><font face=\"Comic Sans MS\" size=\"3\">&nbsp;</font><span><font size=\"3\"><font face=\"Comic Sans MS\">　　</font></font>GFW会丢弃特定IP地址上特定端口的所有数据包，使该IP地址上服务器的部分功能(如SSH的22、VPN的1723或SSL的443端口等)无法在中国大陆境内正常使用。</span>     <span>在中国移动、中国联通等部分ISP(手机IP段)，所有的PPTP类型的VPN都被封锁。</span>&nbsp;<span></span></h4><h4><font size=\"3\"><font face=\"Comic Sans MS\">　　</font></font><span>2011\r\n年3月起，GFW开始对Google部分服务器的IP地址实施自动封锁(按时间段)某些端口，按时段对www.google.com(用户登录所有\r\nGoogle服务时需此域名加密验证)和mail.google.com的几十个IP地址的443端口实施自动封锁，具体是每10或15分钟可以连通，接\r\n着断开，10或15分钟后再连通，再断开，如此循环，令中国大陆用户和Google主机之间的连接出现间歇性中断，使其各项服务出现问题。GFW这样的封\r\n锁手法很高明，因为Gmail并非被完全阻断，这令问题看上去好像出自Google本身。</span><span><span><strong>这就是你们认为Google抽风的原因。</strong></span></span>     <br></h4><ul><li>     <font face=\"Comic Sans MS\" size=\"3\"><span><span><strong>SSL连接阻断</strong></span></span></font></li></ul><h4><font face=\"Comic Sans MS\" size=\"3\">&nbsp;</font><span><font size=\"3\"><font face=\"Comic Sans MS\">　　</font></font>GFW\r\n会阻断特定网站的SSL加密连接，方法是通过伪装成对方向连接两端的计算机发送RST包(RESET)干扰两者间正常的TCP连接，进而打断与特定IP地\r\n址之间的SSL(HTTPS，443端口)握手(如Gmail、Google文件、Google网上论坛等的SSL加密连接)，从而导致SSL连接失败。</span>     <span>当然由于SSL本身的特点，这并不意味着与网站传输的内容可被破译。</span>     <br></h4><ul><li>     <font face=\"Comic Sans MS\" size=\"3\"><span><span><strong>DNS劫持和污染</strong></span></span></font></li></ul><h4><font face=\"Comic Sans MS\" size=\"3\">&nbsp;</font><span><font size=\"3\"><font face=\"Comic Sans MS\">　　</font></font>GFW主要采用DNS劫持和污染技术，使用Cisco提供的IDS系统来进行域名劫持，防止访问被过滤的网站，2002年Google被封锁期间其域名就被劫持到百度。中国部分ISP也会通过此技术插入广告。</span>     <span>对于含有多个IP地址或经常变更IP地址逃避封锁的域名，GFW通常会使用此方法进行封锁。具体方法是当用户向DNS服务器提交域名请求时，DNS返回虚假(或不解析)的IP地址。</span>     <span>全球一共有13组根域名服务器(Root Server)，目前中国大陆有F、I这2个根域DNS镜像，但现在均已因为多次DNS污染外国网络，而被断开与国际互联网的连接。</span>     <span><span><strong>DNS劫持和污染是针对某些网站的最严重的干扰。</strong></span></span>     <br></h4><p>     <font face=\"Comic Sans MS\" size=\"3\"><span>　　干扰的方式有两种：</span>     <br></font>     <font face=\"Comic Sans MS\" size=\"3\"><span>　　一\r\n种是通过网络服务提供商(Internet Service \r\nProvider)提供的DNS服务器进行DNS欺骗，当人们访问某个网站时，需要要把域名转换为一个IP地址，DNS服务器负责将域名转换为IP地址，\r\n中国大陆的ISP接受通信管理局的屏蔽网站的指令后在DNS服务器里加入某些特定域名的虚假记录，当使用此DNS服务器的网络用户访问此特定网站\r\n时，DNS服务便给出虚假的IP地址，导致访问网站失败，甚至返回ISP运营商提供的出错页面和广告页面。</span>     <br></font>     <font face=\"Comic Sans MS\" size=\"3\"><span>　　另一种是GFW在DNS查询使用的UDP的53端口上根据blacklist进行过滤，遇到通往国外的使用UDP53端口进行查询的DNS请求，就返回一个虚假的IP地址。</span></font></p><p><font face=\"Comic Sans MS\" size=\"3\"><span>说了那么多，下面来解决方案。</span></font></p><ul><li><b><font face=\"Comic Sans MS\" size=\"3\"><span>修改hosts</span></font></b></li></ul><font face=\"Comic Sans MS\" size=\"3\"><span>　　Hosts是一个没有扩展名的系统文件，可以用记事本（VIM)等工具打开，其作用就是将一些常用的网址域名与其对应的IP地址建立一个关联“数据库”，当用户在浏览器中输入一个需要登录的网址时，系统会首先自动从Hosts文件中寻找对应的IP地址，一旦找到，系统会立即打开对应网页，如果没有找到，则系统再会将网址提交DNS域名解析服务器进行IP地址的解析。<br>　　修改hosts就是破解GFW的第五种方式，我们找到系统的hosts，修改或者替换就可以了。</span></font><font size=\"3\"><b><br>　　类UNIX存放位置:&nbsp; /etc<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; windows存放位置：<font face=\"Comic Sans MS\">C:\\WINDOWS\\system32\\drivers\\etc<br></font></b></font><ul><li><font size=\"3\"><b><font face=\"Comic Sans MS\">使用vpn</font></b></font></li></ul><font size=\"3\"><b><font face=\"Comic Sans MS\">&nbsp;&nbsp;&nbsp;&nbsp; </font></b><font face=\"Comic Sans MS\">vpn(</font><font face=\"Comic Sans MS\"><span class=\"biTitle\"></span></font>Virtual Private Network<font face=\"Comic Sans MS\"> 虚拟专用网络)功能是：在公用网络上建立专用网络，进行加密通讯。在企业网络中有广泛应用。VPN网关通过对数据包的加密和数据包目标地址的转换实现远程访问。VPN有多种分类方式，主要是按协议进行分类。VPN可通过服务器、硬件、软件等多种方式实现。VPN具有成本低，易于使用的特点。</font><b><font face=\"Comic Sans MS\"><br>&nbsp;&nbsp;&nbsp;&nbsp; </font></b><font face=\"Comic Sans MS\">vpn通过建立加密隧道，使得GFW对你访问的东西完全不知道，也就不能进行拦截。而VPN一般是需要收费的并且是按流量来算的，我们可以去买一个VPS。然后自己搭建一个VPN服务器<b>。</b></font><b><font face=\"Comic Sans MS\"><br>　　关于如何搭建VPN，可以看我的在这篇文章：<a href=\"http://apacal.cn/article/50.html\">VPS下安装VPN（Ubuntu) </a><br></font></b></font><ul><li><font size=\"3\"><b><font face=\"Comic Sans MS\">使用ssh</font></b></font></li></ul><font size=\"3\"><b><font face=\"Comic Sans MS\">　　</font></b><font face=\"Comic Sans MS\">SSH 为 Secure Shell 的缩写，由 IETF 的网络工作小组（Network Working Group）所制定；SSH 为建立在应用层和传输层基础上的安全协议。SSH 是目前较可靠，专为远程登录会话和其他网络服务提供安全性的协议。利用 SSH 协议可以有效防止远程管理过程中的信息泄露问题。SSH最初是UNIX系统上的一个程序，后来又迅速扩展到其他操作平台。SSH在正确使用时可弥补网络中的漏洞。SSH客户端适用于多种平台。几乎所有U NIX平台—包括HP-UX、Linux、AIX、Solaris、Digital UNIX、Irix，以及其他平台，都可运行SSH。<br>　　关于ssh的知识可以看一下阮一峰老师的这篇文章：<a href=\"http://apacal.cn/article/64.html\">SSH原理与运用：远程登录 &amp; 远程操作 &amp; 端口转发</a> <br></font><b><font face=\"Comic Sans MS\">　　</font></b><font face=\"Comic Sans MS\">我们可以使用ssh进行端口转发，在配合浏览器的插件Auto Proxy等对特定域名使用sshd来访问，使用加密隧道。</font><b><font face=\"Comic Sans MS\"><br></font></b></font></div></div><pre class=\"highlight\"><font size=\"3\"># ssh　端口转发命令\r\nssh -qTfnN -D 7070 apacal@vpn.apacal.cn</font></pre><blockquote><font size=\"5\"><b><font face=\"Comic Sans MS\">总结</font></b></font><font size=\"5\"><font face=\"Comic Sans MS\"><b><br></b></font></font></blockquote><font size=\"5\"><font face=\"Comic Sans MS\"><font size=\"3\">　　我们提供３种方法来aross GFW, </font></font></font><font size=\"3\">第一修改hosts的方法，必须要把域名在大陆可以访问的ip添加到hosts文件中，如果没有就不能访问，而vpn对于全部外国网站基本都可以访问，前提必须需要一个vpn，并且对于当你要访问大陆网站时，数据包绕了个圈回来，速度会变慢，好处是小白都可以用，没有那么多弊端。第三种也需要一个VPS，并且需要一定技术，但是弄好了，比较智能，访问大陆网站就不使用ssh转发，加快速度。</font><br>　　<font size=\"3\">总的来说，修改hosts和vpn是最简单的，对于手机，安卓也可以修改host.</font><p></p><p><font size=\"3\">　　然而，hosts会经常被禁用掉，可以使用hoststool来更新最新的hosts文件。<br></font><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font size=\"3\"><b></b></font></p>',1,0,'',3,'',1419938683,1412062927),(84,2,'','如何给自己的web加上Memcache，并且把session放在缓存中','Memcache, PHP, SESSION',187,'<p><blockquote><b><font size=\"5\">前言<br></font></b></blockquote><font size=\"3\">　　前段时间阿里云开发了免费的128MB的缓存使用，就琢磨着自己弄一个，把自己网站一些比较常用的数据放到Memcache里，第一想到的就是将session放到memcache中，本文介绍如何将session放到memcache中以及如何使用memcache.</font><br><br><blockquote><b><font size=\"5\">正文</font></b><br></blockquote><ul><li><font size=\"3\"><b>申请阿里云的OCS</b></font></li></ul><font size=\"3\">　　在阿里云官方网站登陆，可以看到OCS服务，开通即可，开通后可以知道自己的hostname, username, passwd等。<a href=\"http://www.aliyun.com/\">http://www.aliyun.com/</a><b><br></b></font><ul><li><font size=\"3\"><b>根据说明安装php-memcached</b></font></li></ul><font size=\"3\">　　参看官方的说明<a href=\"help.aliyun.com/view/11108324_13703944.html?spm=5176.7225337.1997284509.12.pY7QvR\">help.aliyun.com/view/11108324_13703944.html?spm=5176.7225337.1997284509.12.pY7QvR</a><b>　</b>，安装完测试一下看是否可以连接到OCS<b><br></b></font><ul><li><font size=\"3\"><b>编写memcached instance</b></font></li></ul><font size=\"3\">　　考虑到memcached instance 可能要在多个模块使用，需要写一个单实例的instance<b><br></b></font><hr><pre class=\"highlight\"> <font size=\"3\">class MemcachedManager {    public static $mySelf = null;    public static $memcached = null;    public static function getInstance() {        if (!(self::$mySelf instanceof self)){            self::$mySelf = new self;        }        return self::$memcached;    }    public function __construct() {        $config = C(\'MemCached\');        //$config = array(        //\'hostname\'  =&gt;      \'7e4d0da81a0611e4.m.cnhzalicm10pub001.ocs.aliyuncs.com\',        //\'port\'      =&gt;      \'11211\',        //\'isSasl\'    =&gt;      true,        //\'username\'   =&gt;      \'xxxxxxx\',        //\'passwd\'    =&gt;      \'xxxxxxxx\'        //);        self::$memcached = new Memcached;  //声明一个新的memcached链接        self::$memcached-&gt;setOption(Memcached::OPT_COMPRESSION, false); //关闭压缩功能        self::$memcached-&gt;setOption(Memcached::OPT_BINARY_PROTOCOL, true); //使用binary二进制协议        self::$memcached-&gt;addServer(isset($config[\'hostname\']) ? $config[\'hostname\'] : \'http://localhost\', isset($config[\'port\']) ? $config[\'port\'] : \'11211\'); //添加OCS实例地址及端口号        if (isset($config[\'isSasl\']) &amp;&amp; $config[\'isSasl\'] === true) {            self::$memcached-&gt;setSaslAuthData(isset($config[\'username\']) ? $config[\'username\'] : \'xxxxxxxx\', isset($config[\'passwd\']) ? $config[\'passwd\'] : \'xxxxxx\'); //设置OCS帐号密码进行鉴权        }    }}function mem() {    try {        return MemcachedManager::getInstance();    } catch(Exception $e) {        return false;    }}</font></pre><font face=\"Comic Sans MS\" size=\"3\">　　在这之后就可以使用MemcachedManager::getInstance()或者mem()函数来获取memcached的instance<br></font><ul><li><b><font face=\"Comic Sans MS\" size=\"3\">编写session interface</font></b></li></ul><font size=\"3\"><span class=\"type\">　　使用php的　bool</span> <span class=\"methodname\"><strong>session_set_save_handler</strong></span>    ( <span class=\"methodparam\"><span class=\"type\"><a href=\"http://cn2.php.net/manual/zh/class.sessionhandlerinterface.php\" class=\"type SessionHandlerInterface\">SessionHandlerInterface</a></span> <code class=\"parameter\">$sessionhandler</code></span>   [, <span class=\"methodparam\"><span class=\"type\">bool</span> <code class=\"parameter\">$register_shutdown</code><span class=\"initializer\"> = true</span></span>  ] )　函数来自定义session存储机制<br><br></font><pre class=\"highlight\"><font size=\"3\">require_once dirname(__FILE__) .\"/MemcachedManager.class.php\";class MemcachedSession implements SessionHandlerInterface {    public function open($save_path, $sessionName)    {        if (MemcachedManager::getInstance()) {            return true;        }    }    public function close()    {        return true;    }    public function read($id)    {        return MemcachedManager::getInstance()-&gt;get($id);    }    public function write($id, $data)    {        return MemcachedManager::getInstance()-&gt;set($id, $data, C(\'SESSION_TTL\') ? C(\'SESSION_TTL\') : 60*60*24) ? true : false;        //return MemcachedManager::getInstance()-&gt;set($id, $data, 60*60*24) ? true : false;    }    public function destroy($id)    {        return MemcachedManager::getInstance()-&gt;delete($id);    }    public function gc($maxlifetime)    {        // don not need to flush session, memcached has ttl        return true;    }}$handler = new MemcachedSession();session_set_save_handler($handler, true);</font></pre><ul><li><b><font face=\"Comic Sans MS\" size=\"3\">在应用开始前将上面两个文件包含进来，就完成了</font></b></li></ul></p><p><font face=\"Comic Sans MS\" size=\"3\"><br></font><blockquote><b style=\"line-height: 1.5;\"><font face=\"Comic Sans MS\" size=\"5\">结束</font></b></blockquote><div align=\"center\"><div align=\"left\"><font size=\"3\">　　之前使用过redis，个人体验，觉得redis的内置结构更多，接口也更全，memcache相对弱一点，好了，现在可以对一些数据进行缓存了，可以看看/var/lib/php目录下，有没有session文件产生.</font><br></div></div></p>',1,0,'',3,'',1419938395,1412839945),(85,10,'http://apacal.cn/Uploads/Article/image/20141230/54a26a4c1b4d7.jpg','互联网之子 – Aaron Swartz','互联网之子 – Aaron Swartz, wep.py',121,'<div align=\"left\"><font size=\"3\" face=\"Comic Sans MS\">1986年11月8日，有个叫Aaron Swartz的人在美国芝加哥伊利诺伊州出生。因为他父母创办了一个软件公司，所以，Aaron在3岁的时候就接触到了电脑，然后就着迷了。</font></div>\r\n<p align=\"left\"><font size=\"3\" face=\"Comic Sans MS\">我们先通过Aaron Swartz 的青少年时期来看一下他是怎么样的一个天才：</font></p>\r\n<blockquote style=\"padding-left: 30px;\"><font size=\"3\" face=\"Comic Sans MS\">12岁的时候Aaron就创建了一个类似于Wikipedia式的网站（那时还没有Wikipedia），13岁的时候，Aaron赢得为年轻人而设，创作教育及协同非商业网站的<a class=\"new\" title=\"ArsDigita Prize\" href=\"http://en.wikipedia.org/wiki/ArsDigita_Prize\">ArsDigita Prize</a>比赛首名。 奖品包括参观麻省理工学院及与网际网路界的知名人士见会。<br></font><font size=\"3\" face=\"Comic Sans MS\">14岁的时候，他就成为了<a href=\"http://en.wikipedia.org/wiki/RSS\">RSS1.0</a>的开发组的一员。（后来，他和 <a title=\"John Gruber\" href=\"http://en.wikipedia.org/wiki/John_Gruber\">John Gruber</a>一起开发了Markdown）<br></font><font size=\"3\" face=\"Comic Sans MS\">15岁的时候，进入W3C的 <a title=\"Resource Description Framework\" href=\"http://en.wikipedia.org/wiki/Resource_Description_Framework\">RDF</a>&nbsp;核心工作组，并写了RFC3870——这个文档描述了一个新的media type –&nbsp;“<a title=\"RDF/XML\" href=\"http://en.wikipedia.org/wiki/RDF/XML\">RDF/XML</a>“，用于定义互联网上的“<a href=\"http://en.wikipedia.org/wiki/Semantic_Web\" target=\"_blank\">语义网络</a>”<br></font><font size=\"3\" face=\"Comic Sans MS\">17岁进入斯坦福大学，1年半后，18岁的时候因为受不了教条式的教育缀学，并通过Y \r\nCombinator公司的夏季创办人计划成立Infogami软件公司，在那里，他设想了一个Wiki平台来实现他的Internet Open \r\nLibrary——一个开放的网络图书馆。并写了著名的web.py 开发框架。但他觉得自己太年轻，还要有一个合伙人，于是Y \r\nCombinator建议他和Reddit合并。于是他在19岁的时候成了Reddit的创始人<br></font><font size=\"3\" face=\"Comic Sans MS\">虽然Reddit不挣钱，但是相当火，当他20岁的时候（2006年10月），他们把Reddit卖给了<a class=\"mw-redirect\" title=\"Condé Nast Publications\" href=\"http://en.wikipedia.org/wiki/Cond%C3%A9_Nast_Publications\">Condé Nast出版社</a>，据说挣到了百万美金。然后，他去了这家出版社工作，受不了办公室的那种工作环境，2007年1月离职。</font></blockquote>\r\n\r\n\r\n\r\n\r\n<hr><p align=\"left\"><font size=\"3\" face=\"Comic Sans MS\">但是，你能想得到这么天才的一个人，于2013年1月11日自杀了么？那年他才26岁。</font></p>\r\n<p align=\"left\"><font size=\"3\" face=\"Comic Sans MS\"><span id=\"more-11928\"></span></font></p>\r\n<p align=\"left\"><font size=\"3\" face=\"Comic Sans MS\">从前面Aaron的经历我们可以看到，他是一个特别喜欢Wiki的人，也是非常喜欢开放的人，但并不喜欢那些有CopyRight的东西，也也不喜\r\n欢那些循规蹈矩的东西，他喜欢质疑，他喜欢打破常规，他用生命坚持着互联网真正的开放精神。但是这样一来，必然会和守旧的世界相冲突。</font></p>\r\n<p align=\"left\"><font size=\"3\" face=\"Comic Sans MS\">他在YC搞的那个Internet Open Library（互联网开放图书馆）的项目，他就想把那些没有Copyright的书籍和学术期刊放在网上让全世界的人免费查阅。<strong>他就认为固体的图书馆遮蔽了知识的传播，互联网理应成为连接书籍，读者，作者，纸张与思想的最好载体，他非常痛恨任何一家巨型的机构独吞所有书籍的做法。他想把Public Access 变成 Public Domain</strong>。在他的青少年时期，他就在不懈地和一切限制信息自由交换和自由共享的做法做斗争。这是他认为的互联网精神，他同时也觉得这和美国民主自由的宪法的精神是一致的。</font></p>\r\n<p align=\"left\"><font size=\"3\" face=\"Comic Sans MS\">其中有一个例子是这样的，美国法院行政办公室有一个叫 <a href=\"http://en.wikipedia.org/wiki/PACER_%28law%29\" target=\"_blank\">PACER</a>（Public\r\n Access to Court Electronic Records） \r\n的政府服务。这个服务会把法庭记录的文件放在网上，如果你要看的话，一页要付费8美分（注意是每页，不是每个文档，美国政府说这只是成本式的收费），这个\r\n事他非常不能理解，他觉得这些文件本来就属于公众，没有CopyRight，为什么属于公众的东西还要收费。PACER这个服务每年可以为政府带来1.2\r\n亿美金的收入。</font></p>\r\n<p align=\"left\"><font size=\"3\" face=\"Comic Sans MS\">于是Aaron在2008年9月4日到20日，他22岁的时候，他用Perl在AWS上写了一个程序，从PACER上下载了270万的文档\r\n（2000万页，纽约时报里说他下载大约是总量的20%，但是也有人不到总量的1%）。于是FBI对他调查了两个多月，但最终没有对他起诉。（今\r\n天，PACER还在收费，不过你可以使用一个叫<a title=\"RECAP\" href=\"http://en.wikipedia.org/wiki/RECAP\">RECAP</a>的Firefox插件来免费浏览当年Aaron下载的相关的法律文档）</font></p>\r\n<p align=\"left\"><font size=\"3\" face=\"Comic Sans MS\">2008年同年，Aaron创建了Watchdog.net –&nbsp; “the good government site with teeth” 专门用来收集和呈现和政客相关的数据（这个网站访问不到了，不过你可以在<a href=\"http://www.aaronsw.com/weblog/watchdog\" target=\"_blank\">Aaron的blog上看一下他的想法</a>）。然后，他还起草了<i><a href=\"http://openaccessmanifesto.org/\" target=\"_blank\">Guerrilla Open Access Manifesto</a></i>（<a href=\"http://openaccessmanifesto.org/%E6%B8%B8%E5%87%BB%E9%98%9F%E5%BC%80%E6%94%BE%E8%AE%BF%E9%97%AE%E5%AE%A3%E8%A8%80/\" target=\"_blank\">中文版</a>）<i>&nbsp;</i>下面是节选</font></p>\r\n<div align=\"left\"><blockquote><p><font size=\"3\" face=\"Comic Sans MS\">信息就是能源。但就像所有能源一样，有些人只想占为己有。世界上所有的科学和文化遗产，已在书籍和期刊上发布了数个世纪，正渐渐地被少数私有的公司数字化并上锁。想要阅读那些有着最著名研究成果的论文？你必须支付给如 Reed Elsevier 这样的出版商大把钱。</font></p>\r\n<p><font size=\"3\" face=\"Comic Sans MS\">…… ……</font></p>\r\n<p><font size=\"3\" face=\"Comic Sans MS\">我们要夺回信息，无论它们被存在何处，制作我们的副本并和全世界分享。我们要取到版权到期的东西并将它们归档，我们要买下秘密的资料库并将它们放到网上。我们要下载科学期刊并将它们上传到文件分享网络。我们要为游击队开放访问而战。</font></p>\r\n<p><font size=\"3\" face=\"Comic Sans MS\">只要全世界有足够多的我们，那就不仅是传达了一个反对知识私有化的强有力信号，我们还将让它成为过去。你愿意和我们一起吗？</font></p>\r\n<p><font size=\"3\" face=\"Comic Sans MS\">亚伦·斯沃茨 (Aaron Swartz) 2008 年 7 月，意大利 Eremo</font></p></blockquote></div>\r\n<p align=\"left\"><font size=\"3\" face=\"Comic Sans MS\">Aaron觉得那些对人类有价值的科学和文化遗产属于全人类，美国大学每年会向那些出版学术期刊、论文的机构（比如 ISI，Jstor）支付许可费用，许可费用极高，他觉得这是这个时代的悲剧。于是完美主义的他产生了一种责任感。</font></p>\r\n<p align=\"left\"><font size=\"3\" face=\"Comic Sans MS\">2009年，他成立了<a title=\"Progressive Change Campaign Committee\" href=\"http://en.wikipedia.org/wiki/Progressive_Change_Campaign_Committee\">Progressive Change Campaign Committee</a>（进步改变运动委员会），2010年，他又创建了 <a title=\"Demand Progress\" href=\"http://en.wikipedia.org/wiki/Demand_Progress\">Demand Progress</a>&nbsp;（求进会）——利用互联网来组织群众与议会和政府对话。</font></p>\r\n<p align=\"left\"><font size=\"3\" face=\"Comic Sans MS\">也因为Aaron并不理解政府和这个时代的这些荒唐的行为，于是他开始学习各种政治上的东西去寻求突破，这让他在2010年到2011年，在哈佛大\r\n学Edmond J. Safra研究实验室以Lab \r\nFellow的身份主导到了“制度腐败”课题的研究。也因为这个身份，Aaron在MIT做访问学者的时候有 <a title=\"JSTOR\" href=\"http://en.wikipedia.org/wiki/JSTOR\">JSTOR</a>的帐号可以通过MIT的网络访问大量的学术期刊。</font></p>\r\n<p align=\"left\"><font size=\"3\" face=\"Comic Sans MS\">于是，他把他的laptop放到了地下室网络交换机的机房中，直接插上网线，然后全天后地下载那些JSTOR的学术期刊。（他利用了这些学术期刊的\r\nURL链接中的规律来下载所有的期刊），一开始JSTOR把他的帐号和IP封了，并报告给了警，美国的国家安全警察找到了那间楼道里的机房，然后让\r\nJSTOR不禁止他访问，并在那间机房里安了摄像头，钓鱼执法。然后等Aaron去换硬盘时录好像，2011年1月6日就把他给抓了。</font></p>\r\n<p align=\"left\"><font size=\"3\" face=\"Comic Sans MS\">那年Aaron才24岁。2011年7月11日，检查官以通信欺诈、计算机欺诈、非法获得信息，以及破坏被保护的罪名电脑来起诉他。可能会受到35年以上的牢狱之灾。这是相当重的罪名。你能想像得到为什么罪名会这么重吗？</font></p>\r\n<p align=\"left\"><font size=\"3\" face=\"Comic Sans MS\">事后，JSTOR发声明，说他们并不想起诉Aaron，起诉Aaron的是政府行为，而MIT方面虽然也放弃起诉，并也发表了相关的说明——保持中立。保持中立让MIT基本上名誉扫地，因为这种保持中立的行为违背于MIT一贯鼓吹的黑客文化，MIT成了千夫之指。</font></p>\r\n<p align=\"left\"><font size=\"3\" face=\"Comic Sans MS\">当然，美国政府的检查官坚持以重罪起诉他。当时，放在Aaron前有两条路：1）认罪，承认犯下重罪，35年的判决会变成3个月入狱+1年的居家监\r\n禁（不得使用电脑），2）不认罪，那就有可能接受35监禁年的最坏结果。Aaron选择了后者，而他的女友则选择了认罪。他的第一任女友后来非常的悔恨，\r\n面对国家机器，个体太渺小了。</font></p>\r\n<p align=\"left\"><font size=\"3\" face=\"Comic Sans MS\">在起诉期间，大家是否还记得美国那个臭名昭著的SOPA（ <a title=\"Stop Online Piracy Act\" href=\"http://en.wikipedia.org/wiki/Stop_Online_Piracy_Act\">Stop Online Piracy Act</a>）法案？Aaron通过他的 <a title=\"Demand Progress\" href=\"http://en.wikipedia.org/wiki/Demand_Progress\">Demand Progress</a>&nbsp;把民众们网聚起来，和政府做斗争，最终导致了整个社会都在反对SOPA，也导致了那些议员纷纷改变自己的想法，并导致了白宫最终放弃了这个法案。这是一次民主的胜利，与Aaron有密切的相关。（相信大家都还记得那时美国各大网站都在反对这个网络审查制度）</font></p>\r\n<div id=\"attachment_11930\" style=\"width: 510px\" class=\"wp-caption aligncenter\" align=\"left\"><font size=\"3\" face=\"Comic Sans MS\"><img class=\"wp-image-11930\" src=\"http://coolshell.cn//wp-content/uploads/2014/09/800px-AaronSwartzPIPA.jpg\" alt=\"斯沃茨在2012年反对禁止网络盗版法案(SOPA)的抗议活动上发言\" width=\"500\" height=\"331\" style=\"width: 100%; float: left;\"></font><p class=\"wp-caption-text\"><font size=\"3\" face=\"Comic Sans MS\">斯沃茨在2012年反对禁止网络盗版法案(SOPA)的抗议活动上发言</font></p></div>\r\n<p align=\"left\"><font size=\"3\" face=\"Comic Sans MS\"><br></font></p><p align=\"left\"><font size=\"3\" face=\"Comic Sans MS\">而在次年2012年9月，政府对Aaron进行了更为严厉的起诉，新加入了另外9条起诉，如果成立，Aaron最多获刑50年外加100万美金的罚款。同样，检察官给出了优惠条件，只要Aaron认罪，那就只起诉他6个月的监禁。Aaron再次拒绝。</font></p>\r\n<p align=\"left\"><font size=\"3\" face=\"Comic Sans MS\">看到这里，你觉得下载一些期刊，也没有挣钱，为什么要判他这么重呢？这后面有什么故事呢？这是不是更像是一种政治迫害呢（这段时间，好像这些消息并\r\n没有进入中国，我们的大多数人依然在使用百度在墙内活得很滋润，另外，这个事在美国那边的IT \r\n圈闹得很大，但似乎也不见各个IT圈的老大们有没有什么表态）</font></p>\r\n<p align=\"left\"><font size=\"3\" face=\"Comic Sans MS\">不过，可以肯定的是，美国政府受够了像阿桑奇这样的人了，而Aaron让美国政府更为害怕在有规模有组织的事，所以一定少不了相关的政治迫害，天下政府一般黑。</font></p>\r\n<p align=\"left\"><font size=\"3\" face=\"Comic Sans MS\">之后，2013年1月11日，Aaron自杀了。大家觉得他是因为来自美国政府的长期恐吓的压力和以及长期的抑郁（理想主义者可能都会有或多或少的抑郁证）</font></p>\r\n<p align=\"left\"><font size=\"3\" face=\"Comic Sans MS\"><strong>这就是Aaron Swartz传奇的一生。他用他的生命捍卫了互联网的开放和自由。</strong></font></p>\r\n<p align=\"left\"><font size=\"3\" face=\"Comic Sans MS\"><img class=\"aligncenter wp-image-11932 size-full\" src=\"http://coolshell.cn//wp-content/uploads/2014/09/87d31fea0996abbedb297c70b8b0b945_b.jpg\" alt=\"87d31fea0996abbedb297c70b8b0b945_b\" width=\"600\" height=\"337\"></font></p>\r\n<p align=\"left\"><font size=\"3\" face=\"Comic Sans MS\">互联网之父，<a href=\"http://en.wikipedia.org/wiki/Tim_Berners-Lee\" target=\"_blank\">Tim Berners-Lee</a>，在2012伦敦奥运会上的网络环节我们都见过这个人。世界上第一个web网站是1991年8月6日在CERN内的NeXT服务器上运行（今天这个网站依然可以访问：<a href=\"http://info.cern.ch/hypertext/WWW/TheProject.html\" target=\"_blank\">链接</a>），Tim并被没有用这个发明挣钱，而是无偿地把WWW的构想和设计推广给了全世界。《时代》周刊评论他的时候用了这样的一条话：“与所有的推动人类进程的发明不同，这是一件纯粹个人的劳动成果”。</font></p>\r\n<p align=\"left\"><font size=\"3\" face=\"Comic Sans MS\">而Aaron最崇拜的人就是Tim，Tim也是Aaron的精神导师。</font></p>\r\n<p align=\"left\"><font size=\"3\" face=\"Comic Sans MS\">Aaron死了以后，Aaron朋友和合作者，哈佛大学法学院教授Laurence Lessig，回忆说，他当年和仅15岁的Aaron \r\n有过一次谈话。Aaron问他：“您刚才讲到网络审查和管制的这些弊病，那您有没有什么实际的方案来解决这些问题呢？”Lessig有点尴尬地说：“没\r\n有。我是个学者，我只负责做研究，解决问题不关我的事儿。”Aaron接着问：“您是个学者，所以解决问题不关你的事儿。那，您作为一个公民，又该如何\r\n呢？”</font></p>\r\n<p align=\"left\"><font size=\"3\" face=\"Comic Sans MS\">有个男孩叫 Jack Andraka，来自巴尔的摩，14岁，阅读了 Aaron 自杀前推广的JSTOR 的免费学术论文，想出了一种提早检测胰腺癌的方法（一般胰腺癌被查出的时候就是你死的时候。）以此，他成功去了约翰霍普金斯大学做研究。Jack说——</font></p>\r\n<div align=\"left\"><blockquote><p><font size=\"3\" face=\"Comic Sans MS\">“我之所以上了新闻，是因为我们的实验成功了，而这就是为什么 Aaron 做的事有那么重要……这个宇宙中的真理不是只有那些政策制定者曾经弄清楚过的，比如应该限速多少，它还包括那些能让你的孩子，不会因胰腺癌而死的研究。<strong>如果没有访问阅读权，那个能解决你的问题的人，可能就永远找不到答案</strong>。”</font></p></blockquote><br></div><p align=\"left\"><font size=\"3\" face=\"Comic Sans MS\">Aaron说的一句话让我挺有感触的——</font></p>\r\n<p style=\"text-align: center;\" align=\"left\"><font size=\"3\" face=\"Comic Sans MS\"><strong>相信你应该真的每时每刻都问自己，现在这世界有什么最重要的事是我能参与去做的？</strong></font></p>\r\n<p style=\"text-align: center;\" align=\"left\"><font size=\"3\" face=\"Comic Sans MS\"><strong>如果你没在做那最重要的事，那又是为什么？</strong></font></p>\r\n<p align=\"left\"><font size=\"3\" face=\"Comic Sans MS\">&nbsp;</font></p>\r\n<p align=\"left\"><font size=\"3\" face=\"Comic Sans MS\"><img class=\"aligncenter wp-image-11934\" src=\"http://coolshell.cn//wp-content/uploads/2014/09/aaron_swartz__freedom_fighter_by_caq_qoq-d5rzbi8.jpg\" alt=\"aaron_swartz__freedom_fighter_by_caq_qoq-d5rzbi8\" width=\"600\" height=\"375\"></font></p>\r\n<p align=\"left\"><font size=\"3\" face=\"Comic Sans MS\"><strong>延伸阅读</strong>：<a title=\"偷了世界的程序员\" href=\"http://coolshell.cn/articles/3363.html\" target=\"_blank\">偷了世界的程序员</a></font></p>',1,0,'',3,'',1419930188,1415779288),(86,2,'http://apacal.cn/Uploads/Article/image/20141230/54a2670fd479f.png','PHP STORM Xdebug单步调试','xdebug, phpstorm',142,'                                <blockquote><font size=\"5\"><b>前言</b></font><br></blockquote><font size=\"3\">　　以前写php都是用vim ，print_r, echo, var_dump来理解程序或者修正，从实习用了phpstorm后，发现一些好的ide对效率还是有很大的帮助，本文就来介绍下然后配置好phpstrom＋xdebug。<br></font><blockquote><font size=\"3\"><b><font size=\"5\">正文</font></b></font><br></blockquote><font size=\"3\"><b>什么是xdebug,和phpstorm是怎么工作的</b></font><br><font size=\"3\">　　<strong></strong>xdebug是一款php调试插件，支持远程调试，就是在php文件运行的时候，能通过tcp协议，来发送调试信息到远程端口，ide在收到调试信息的时候，可以向xdebug发送单步运行，中止运行，运行等命令。这样就实现了vs那样强大的调试功能。<br>     <span style=\"color: inherit;\">   注意下面的uml图有个错误，不是服务端监听9000端口，是ide监听9000端口，当服务端收到一个xdebug的请求，就会主动和请求者的9000端口建立调试连接。</span>(关闭ide的监控时，通过抓包可以看出，服务端向客户机</font><font size=\"3\"><font size=\"3\">的9000</font>发送请求连接，ide发了个rst断开了）<br></font><hr><font size=\"3\"><img class=\"view-image img-circle\" src=\"https://apacal.cn/Uploads/Article/image/20141116/ablg_1416067636.png\" style=\"width: 50%;\"><br><br></font><img class=\"view-image img-circle\" src=\"/Uploads/Article/image/20141115/ablg_1416060175.jpeg\" style=\"width: 50%;\"><font size=\"3\"><font face=\"Comic Sans MS\"><br><br>上图展示了服务端和ide是如何进行调试的，我们使用wireshark抓包也可以看到，服务端</font></font><font size=\"3\"><font face=\"Comic Sans MS\"><font size=\"3\"><font face=\"Comic Sans MS\">和</font></font></font></font><font size=\"3\"><font face=\"Comic Sans MS\"><font size=\"3\"><font face=\"Comic Sans MS\">ide</font></font>的通信过程。ide的9000（</font></font><font size=\"3\"><font face=\"Comic Sans MS\"><font size=\"3\"><font face=\"Comic Sans MS\">服务端xdebug配置的调试端口）</font></font>和服务端的一个端口在进行通信，php（服务端）将变量等调试信息发送个ide，ide再将操作信息发回给php。<br><br></font></font><img class=\"view-image\" src=\"/Uploads/Article/image/20141115/ablg_1416060301.png\" style=\"width: 50%;\"><br><font size=\"3\"><font face=\"Comic Sans MS\">了解了ide是怎么和php怎么样进行工作，下面实践如何配置<br></font></font><ul><li><b><font size=\"3\"><font face=\"Comic Sans MS\">安装xdebug和配置xdebug</font></font></b></li></ul><font size=\"3\"><font face=\"Comic Sans MS\">　　如果是使用ubuntu的直接使用apt-get 安装<br><br></font></font><pre class=\"highlight\"><font size=\"3\">(apacal)-(jobs:0)-(~/yEd)\r\n(! 1989)-> sudo apt-cache search xdebug | grep php\r\n[sudo] password for apacal: \r\nphp5-xdeb</font></pre><font face=\"Comic Sans MS\" size=\"3\">　　找到xdebug的ini文件，加入监听端口和key等信息</font><font face=\"Comic Sans MS\" size=\"3\">，通过 remote_host 和 remort_port 两个参数指定调试客户端位置。对于本地调试缺省即可，如果要远程调试，把参数改到对应接收调试信息的客户端地址即可<br></font><pre class=\"highlight\"><font size=\"3\">(apacal)-(jobs:0)-(~/yEd)\r\n(! 1995)-> sudo vim /etc/php5/fpm/conf.d/20-xdebug.ini \r\n\r\n\r\nzend_extension=xdebug.so\r\nxdebug.idekey=\"PHPSTORM\"\r\nxdebug.remote_host=127.0.0.1<br>xdebug.remote_port=9000<br>xdebug.remote_enable=on\r\n\r\n</font></pre><font face=\"Comic Sans MS\" size=\"3\">　　重启php，查看是否有xdebug的信息</font><pre class=\"highlight\"><font size=\"3\">(apacal)-(jobs:0)-(~/yEd)\r\n(! 1998)-> sudo service php5-fpm restart\r\nsh: 0: getcwd() failed: No such file or directory\r\nphp5-fpm stop/waiting\r\nphp5-fpm start/running, process 28489\r\n\r\n\r\n(apacal)-(jobs:0)-(~/yEd)\r\n(! 1999)-> php -i | grep xdebug | grep 9000\r\nxdebug.remote_port => 9000 => 9000\r\n</font></pre><font face=\"Comic Sans MS\" size=\"3\">　　服务端的配置好了，下面进行配置ide。<br></font><ul><li><b><font face=\"Comic Sans MS\" size=\"3\">配置phpstorm</font></b></li></ul><font face=\"Comic Sans MS\" size=\"3\">　　File>Settings>PHP>Debug 下，找到 Xdebug 部分配置信息，看 Debug port 是否是 9000 （其实就是要和前面服务端php.ini里的remote_port保持一致）；</font><br><font face=\"Comic Sans MS\" size=\"3\">　　File>Settings>PHP>Debug>DBGp Proxy 下，<strong>IDE key</strong> 随便填（好记就行，比如填 phpStrom 。后面浏览器扩展设置部分会用到这个key值）；Host填你的XDebug所在服务器地址（本地调试那就是 localhost），Port 填你的HTTP应用所在的端口，缺省当然就是 80 ；</font><br><font face=\"Comic Sans MS\" size=\"3\">　　File>Settings>PHP>Servers 下，可以添加多个需要Debug的主机信息，便于以后快速切换使用；<br>       phpstorm有一个电话的按钮，点击绿色表示监控xdebug的连接，红色表示不监控。<br></font><img class=\"view-image\" src=\"/Uploads/Article/image/20141115/ablg_1416064070.png\" style=\"width: 50%;\"><br><div><font face=\"Comic Sans MS\" size=\"3\">　　服务端和ide都配置好了，那问题来了，php和ide是怎么建立连接，这里一般就是使用浏览器来做这个事情。<br></font><ul><li><font face=\"Comic Sans MS\" size=\"3\"><b>浏览器配置</b></font></li></ul><font face=\"Comic Sans MS\" size=\"3\"><b>方法一：在请求的url后面加上XDEBUG_SESSION_START=PHPSTORM<br>　　表示注册一个xdebug交互，session为PHPSTORM<br>　　</b>比如：http://localhost/phpinfo.php?XDEBUG_SESSION_START=PHPSTORM<br><b>方法二：</b></font><font face=\"Comic Sans MS\" size=\"3\"><b>安装浏览器的插件</b><br></font><font face=\"Comic Sans MS\" size=\"3\">　　对于Firefox来说，可以安装类似 <a title=\"easy Xdebug (with moveable icon)\" href=\"https://addons.mozilla.org/zh-CN/firefox/addon/easy-xdebug-with-moveable-/\" target=\"_blank\">easy Xdebug (with moveable icon)</a> 这样的扩展来快速激活Debug状态。<strong><font color=\"#990000\">！注意！</font></strong>有些xdebug相关扩展可能存在不兼容问题导致设置无效，请选择能够正常工作的扩展。一个不行换另一个试试。安装完之后需要设置一下扩展的参数。主要就是 <em>Value of he debug cookie</em> 的值，设置成与前面在<strong>DBGp Proxy</strong>下设置的<strong>IDE key</strong>一样即可。<br>　　浏览器配置，如果插件不行就使用方法一来。<br><br>关于调试的步骤：<br></font><ol><li><font size=\"3\">激活PHPStorm IDE的 \"Start Listen for PHP Debug Connections\" 按钮（右上角 Debug 区类似小电话的图标，带红色禁止小圆圈标志<img style=\"BORDER-TOP: 0px; HEIGHT: 12px; BORDER-RIGHT: 0px; WIDTH: 12px; BORDER-BOTTOM: 0px; BORDER-LEFT: 0px\" alt=\"Start Listen for PHP Debug Connections\" src=\"data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAkGBwEHBgkIBwgKCgkLDRYPDQwMDRsUFRAWIB0iIiAdHx8kKDQsJCYxJx8fLT0tMTU3Ojo6Iys/RD84QzQ5OjcBCgoKDQwNGg8PGjclHyU3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3N//AABEIAA8ADgMBIgACEQEDEQH/xAAWAAADAAAAAAAAAAAAAAAAAAACBQf/xAAoEAACAQIEAwkAAAAAAAAAAAABAgMREgQIIVEABhUHExQiMTJBcZH/xAAUAQEAAAAAAAAAAAAAAAAAAAAC/8QAGREBAAIDAAAAAAAAAAAAAAAAAQADAhEh/9oADAMBAAIRAxEAPwChYHB9sHUIHfDzRYqORRJIENJBWrsznQgioCj0r+Lpcdnu5fZJMbK7CYFVjlk7yhULU/O++/Acow5qepIVxUAQtewtoZIrYj5KqbRa0WmlRaNLaqCJmj5pdYpJEfw63hyAvuC6afW2/ArORN7cGSan/9k=\">表示未激活，变绿<img style=\"BORDER-TOP: 0px; HEIGHT: 16px; BORDER-RIGHT: 0px; WIDTH: 16px; BORDER-BOTTOM: 0px; BORDER-LEFT: 0px\" alt=\"Stop Listen for PHP Debug Connections\" src=\"data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAkGBwgHBgkIBwgKCgkLDRYPDQwMDRsUFRAWIB0iIiAdHx8kKDQsJCYxJx8fLT0tMTU3Ojo6Iys/RD84QzQ5OjcBCgoKDQwNGg8PGjclHyU3Nzc3Nzc3Nzc3Nzc3Nyw3Nzc3Nzc3Nzc3Nzc3NDQ3Nzc4Nzc3Nzc0LCw3OCw0NzQsNP/AABEIABcAGQMBIgACEQEDEQH/xAAaAAACAgMAAAAAAAAAAAAAAAADBAAGAQUH/8QAKBAAAgECBgECBwAAAAAAAAAAAQIDBBEABRIhMUEGE8EjMlFhcXKB/8QAFwEAAwEAAAAAAAAAAAAAAAAAAAEDAv/EABwRAQADAAIDAAAAAAAAAAAAAAEAAhESMQMEIf/aAAwDAQACEQMRAD8A6rX1clMyiOH1LxyPbt2UXCD7nc97KdvohW5vNTxBkETkzQxKQpIcOLlxY/LyB+p3OG86rpKCmSSFVZ3fQAyki+kkcb8j27uEqPySCWlMs8bqwmWIhQNixNtr3ttyQL9DkBWTJHy2OKcsh/Gs4Gd5cagx+nIkhjkUcBgAdv4RjbYrHgTrLQ5jNGumOWvkZNutKYs+FR2oxerdv4a2e8gKukgrITFUprjPK3IB2I6/Pv1gcuW0ctMlM8PwY3EiIGI0kG4tY8X64xjExrv5LNRMSFoqSnoaZKakiWKFBZUXrB8TEwQADCf/2Q==\">表示在监听中）；</font></li><li><font size=\"3\">在PHPStorm中设置想要的断点；</font></li><li><font size=\"3\">在浏览器中激活xdebug cookie（如果是Firefox+easy Xdebug扩展的话，点击工具栏的两个图标Toggle xdebug cookie和Toggle Xdebug Profiler cookie，变红表示cookie已成功设置）；</font></li><li><font size=\"3\">在浏览器中访问对应的PHP页面，正常情况下窗口会弹到 PHPStorm IDE中并进入Debug状态；</font></li></ol><blockquote><b><font size=\"5\">完结</font></b><br></blockquote>　　<font size=\"3\">配置好了，可以告别var_dump的老方法了，对开发效率还是有些提高。</font><br><br><font size=\"3\">参考：<a href=\"http://randyfay.com/content/remote-drupalphp-debugging-xdebug-and-phpstorm\">remote-drupalphp-debugging-xdebug-and-phpstorm</a></font><br><br><br><br></div>                ',1,0,'',0,'',1422019508,1416028820),(87,13,'','About Me','About Me',142,'<p>吾名庆柱，姓钟，吾非高手，非牛人，我只是在跟随着我的兴趣和喜好去学习一些技术。平常喜欢专研技术，爱写写博客，爱看书，爱文言文，想去学书法，平时也有打打单机游戏。</p>\r\n\r\n<p>2011-2014在南中国一般大学数学科学学院信息与计算科学专业读书。大一开始接触编程，大二开始接触php, linux,有2年的php使用经验，php项目经验较丰富，但是看一些php方面的书。个人喜爱unix like , c, c++, 看了大量c/c++方面的书籍，但是缺少项目操作经验。</p>\r\n\r\n<p>个人职业规划为：坚持走unix like 后台方向，期间不断学习c/c++，学习tcp/ip等通信协议，学习unix like系统内核。</p>\r\n\r\n<p>2014-5-13~2014-11-14 在猎豹移动实习，5个月在用php做一个game sdk 后台，期间对php有进一步了解，对redis，mysql有进一步了解，但是不是很高深的理解。后一个月使用python做一个备份项目的后台，主要负 责数据监控的后台开发，期间学习了django 和tornado. 在这半年中给我最多的是如何使用一些ide，比如phpstorm, pycharm, 进行一些调试，以前都是使用vim的，和vim对比，发现ide的各种好处，而vim也有很多优势。</p>\r\n\r\n<p>2014-11-15~2015-6, 在学校和家学习tornado, c/c++, unix like编程， socket, 完善自己的博客。</p>\r\n',1,0,'',0,'',1421988490,1419921860),(88,5,'','FastCGI C简明教程','fast cgi',33,'<h1>前言</h1><h4>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;前段时间看到bing官网的背景图片感觉不错，就琢磨着自己弄一个，本来去把他的图片截取下来作为自己博客的登陆背景，最后发现一个网站有很多背景，并且有提高api来获取wallpapers &nbsp;<a href=\"https://www.desktoppr.co/api\" target=\"_blank\">https://www.desktoppr.co/api</a>, 但是国内的打开确实很忙，自己就琢磨着先去下载下来存到七牛服务器，就有了一个<a href=\"https://github.com/apacal/wallpapers_web\" target=\"_blank\">wallpapers_web</a>&nbsp;的项目（使用c来下载图片和上传到七牛服务器，在把记录存到MYSQL），前期弄好了，自然需要一个api借口来获取图片，自己也没有怎么写过c fastcgi就研究一下，准备使用c来做，我的结果可看<a href=\"http://wallpapers.apacal.cn\" target=\"_blank\">wallpapers.apacal.cn</a>, 就是获取一张图片背景，可以把该地址使用到css中的background.</h4><h1><br>正文</h1><h3></h3><h4><ol><li>安装fcgilib</li></ol></h4><pre><span style=\"color: rgb(51, 51, 51); font-family: \'Helvetica Neue\', Helvetica, \'Segoe UI\', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;\">sudo apt-get install libfcgi-dev</span></pre><h4>更多关于fastcgi可以查看<a href=\"http://www.fastcgi.com/\" target=\"_blank\">http://www.fastcgi.com/</a>，里面有各种语言的例子。</h4><h4>2.编写&amp;编译</h4><pre style=\"color: rgb(0, 0, 0); line-height: normal;\">    #include \"fcgi_stdio.h\"\r\n    #include &lt;stdlib.h&gt;\r\n\r\n    void main(void)\r\n    {\r\n        int count = 0;\r\n        while(FCGI_Accept() &gt;= 0)\r\n            printf(\"Content-type: text/html\\r\\n\"\r\n                   \"\\r\\n\"\r\n                   \"&lt;title&gt;FastCGI Hello!&lt;/title&gt;\"\r\n                   \"&lt;h1&gt;FastCGI Hello!&lt;/h1&gt;\"\r\n                   \"Request number %d running on host &lt;i&gt;%s&lt;/i&gt;\\n\",\r\n                    ++count, getenv(\"SERVER_NAME\"));\r\n    }\r\n</pre><h4>编译时加上-lfcgi</h4><pre>gcc main.c -lfcgi</pre><h4>在本地运行，看是否有结果输出。</h4><h4>3.安装spawn-fcgi和配置nginx</h4><h4>使用spawn-fcgi来管理编写的fastcgi，配置nginx将请求以fastcgi协议给spawn-fcgi</h4><pre>sudo apt-get install spawn-fcgi<br></pre><h4>配置nginx</h4><pre>    server {\r\n        listen 80;\r\n        server_name cgi.apacal.cn;\r\n\r\n        location / {\r\n            fastcgi_pass   127.0.0.1:8000;\r\n            fastcgi_index index.cgi;\r\n            fastcgi_param SCRIPT_FILENAME fcgi$fastcgi_script_name;\r\n            include fastcgi_params;\r\n        }\r\n    }\r\n</pre><h4>使用spawn-fcgi监听nginx配置的端口，</h4><pre>spawn-fcgi -a 127.0.0.1 -p 8000 -f /data/wallpapers/cgi/wallpapers_cgi</pre><h4>打开网址看能否访问</h4><h4><br></h4><h4>使用c fastcgi 自然更加高的性能，但是编写也没有那么容易。。。</h4><h4>我的项目地址<a href=\"https://github.com/apacal/wallpapers_cgi\" target=\"_blank\">https://github.com/apacal/wallpapers_cgi</a></h4><h4><br></h4><h4><br></h4><h4><br></h4><h4><br></h4><h4><br></h4><h4><br></h4><h4><br></h4><h4><br></h4><h4><br></h4><h4><br></h4><h4><br></h4><h4><br></h4>',1,0,'',1,'',1420962921,1420962921);
/*!40000 ALTER TABLE `ablg_article` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `ablg_auth_group`
--

DROP TABLE IF EXISTS `ablg_auth_group`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `ablg_auth_group` (
  `id` mediumint(8) unsigned NOT NULL AUTO_INCREMENT,
  `name` char(100) NOT NULL DEFAULT '',
  `rules` varchar(1000) DEFAULT '',
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `ablg_auth_group`
--

LOCK TABLES `ablg_auth_group` WRITE;
/*!40000 ALTER TABLE `ablg_auth_group` DISABLE KEYS */;
INSERT INTO `ablg_auth_group` VALUES (1,'Admin','[\"1\",\"8\",\"2\",\"3\",\"9\",\"36\",\"37\",\"35\",\"38\",\"15\",\"18\",\"16\",\"19\",\"17\",\"26\",\"29\",\"27\",\"25\",\"28\",\"14\",\"12\",\"11\",\"13\",\"31\",\"34\",\"32\",\"30\",\"33\",\"4\",\"7\",\"6\",\"5\",\"10\",\"21\",\"24\",\"22\",\"20\",\"23\",\"j10_1\",\"41\",\"44\",\"42\",\"40\",\"43\",\"46\",\"49\",\"47\",\"45\",\"48\",\"39\"]');
/*!40000 ALTER TABLE `ablg_auth_group` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `ablg_auth_group_access`
--

DROP TABLE IF EXISTS `ablg_auth_group_access`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `ablg_auth_group_access` (
  `uid` bigint(21) unsigned NOT NULL,
  `group_id` mediumint(8) unsigned NOT NULL,
  UNIQUE KEY `uid_2` (`uid`,`group_id`),
  KEY `uid` (`uid`),
  KEY `group_id` (`group_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `ablg_auth_group_access`
--

LOCK TABLES `ablg_auth_group_access` WRITE;
/*!40000 ALTER TABLE `ablg_auth_group_access` DISABLE KEYS */;
INSERT INTO `ablg_auth_group_access` VALUES (3,1);
/*!40000 ALTER TABLE `ablg_auth_group_access` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `ablg_auth_rule`
--

DROP TABLE IF EXISTS `ablg_auth_rule`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `ablg_auth_rule` (
  `id` mediumint(8) unsigned NOT NULL AUTO_INCREMENT,
  `name` char(100) NOT NULL DEFAULT '',
  `rule` char(50) NOT NULL DEFAULT '',
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=50 DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `ablg_auth_rule`
--

LOCK TABLES `ablg_auth_rule` WRITE;
/*!40000 ALTER TABLE `ablg_auth_rule` DISABLE KEYS */;
INSERT INTO `ablg_auth_rule` VALUES (1,'AddPost','Article/add'),(2,'EditPost','Article/edit'),(3,'ManagePost','Article/manage'),(4,'AddNote','Note/add'),(5,'ManageNote','Note/manage'),(6,'EditNote','Note/edit'),(7,'DeleteNote','Note/delete'),(8,'DeletePost','Article/delete'),(9,'SavePost','Article/save'),(10,'SaveNote','Note/save'),(11,'ManageCommnet','Comment/manage'),(12,'EditCommnet','Comment/edit'),(13,'SaveCommnet','Comment/save'),(14,'DeleteCommnet','Comment/delete'),(15,'AddCarouse','Carouse/add'),(16,'EditCarouse','Carouse/edit'),(17,'SaveCarouse','Carouse/save'),(18,'DeleteCarouse','Carouse/delete'),(19,'ManageCarouse','Carouse/manage'),(20,'ManageUser','User/manage'),(21,'AddUser','User/add'),(22,'EditUser','User/edit'),(23,'SaveUser','User/save'),(24,'DeleteUser','User/delete'),(25,'ManageBlogMenu','Category/manage'),(26,'AddBlogMenu','Category/add'),(27,'EditBlogMenu','Category/edit'),(28,'SaveBlogMenu','Category/save'),(29,'DeleteBlogMenu','Category/delete'),(30,'ManageCMSMenu','Menu/manage'),(31,'AddCMSMenu','Menu/add'),(32,'EditCMSMenu','Menu/edit'),(33,'SaveCMSMenu','Menu/save'),(34,'DeleteCMSMenu','Menu/delete'),(35,'ManageAuthRule','AuthRule/manage'),(36,'AddAuthRule','AuthRule/add'),(37,'EditAuthRule','AuthRule/edit'),(38,'SaveAuthRule','AuthRule/save'),(39,'DeleteAuthRule','AuthRule/delete'),(40,'ManageAuthGroup','AuthGroup/manage'),(41,'AddAuthGroup','AuthGroup/add'),(42,'EditAuthGroup','AuthGroup/edit'),(43,'SaveAuthGroup','AuthGroup/save'),(44,'DeleteAuthGroup','AuthGroup/delete'),(45,'ManageAuthGroupAccess','AuthGroupAccess/manage'),(46,'AddAuthGroupAccess','AuthGroupAccess/add'),(47,'EditAuthGroupAccess','AuthGroupAccess/edit'),(48,'SaveAuthGroupAccess','AuthGroupAccess/save'),(49,'DeleteAuthGroupAccess','AuthGroupAccess/delete');
/*!40000 ALTER TABLE `ablg_auth_rule` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `ablg_category`
--

DROP TABLE IF EXISTS `ablg_category`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `ablg_category` (
  `id` smallint(5) unsigned NOT NULL AUTO_INCREMENT COMMENT 'id',
  `pid` smallint(5) unsigned NOT NULL DEFAULT '0' COMMENT '父结点',
  `cname` varchar(100) NOT NULL DEFAULT '' COMMENT '栏目名称',
  `url` varchar(200) NOT NULL DEFAULT '',
  `status` int(1) NOT NULL DEFAULT '1',
  `sort` tinyint(5) DEFAULT NULL,
  `image` varchar(200) NOT NULL,
  `uid` bigint(20) DEFAULT NULL,
  `updatetime` int(10) NOT NULL,
  `createtime` int(10) NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=17 DEFAULT CHARSET=utf8 COMMENT='栏目';
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `ablg_category`
--

LOCK TABLES `ablg_category` WRITE;
/*!40000 ALTER TABLE `ablg_category` DISABLE KEYS */;
INSERT INTO `ablg_category` VALUES (1,16,'LINUX','Article/index',1,127,'/Category/image/20141116/1416131014.jpg',0,1421735669,1419942717),(2,8,'PHP','Article/index',1,50,'/Category/image/20141116/1416132324.jpg',0,1421735858,1419942402),(3,10,' 趣闻','Article/index',1,50,'/Category/image/20141116/1416132375.jpg',0,1421735876,1419942892),(5,16,'C&C++','Article/index',1,127,'/Category/image/20141116/1416132298.jpg',0,1421735883,1419942740),(6,8,'WEBSERVER','Article/index',1,10,'/Category/image/20141116/1416132428.jpg',0,1421735892,1395166073),(8,16,'WEB','Article/index',1,127,'/Category/image/20141116/1416132309.jpg',0,1421735933,1419942777),(9,0,'闲言','Note/index',1,-10,'/Category/image/20140708/1404834135.png',0,1421736025,1419942918),(10,0,'杂谈','Article/index',1,60,'/Category/image/20141116/1416132348.jpg',0,1421735915,1419942857),(11,16,'译文','Article/index',1,0,'/Category/image/20141116/1416132337.jpg',0,1421735949,1419942839),(12,10,'国学','Article/index',1,0,'/Category/image/20141116/1416132471.jpg',0,1421735956,1419942902),(13,0,'About Me','/article/87.html#nav-home',1,-30,'0',0,1420348548,1420348548),(14,0,'书籍','/book/my.html',1,-20,'0',0,0,0),(15,10,'其他','Article/index',1,-30,'0',0,1421736101,1420348320),(16,0,'program','Article/index',1,127,'0',0,1421688704,1419942767);
/*!40000 ALTER TABLE `ablg_category` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `ablg_comment`
--

DROP TABLE IF EXISTS `ablg_comment`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `ablg_comment` (
  `id` mediumint(8) unsigned NOT NULL AUTO_INCREMENT COMMENT 'id',
  `pid` mediumint(8) NOT NULL DEFAULT '0' COMMENT '父结点',
  `oid` int(8) unsigned NOT NULL DEFAULT '0' COMMENT '来源文章或者其它id',
  `cid` smallint(5) unsigned NOT NULL DEFAULT '0' COMMENT '栏目id',
  `uid` int(10) DEFAULT '0',
  `content` text NOT NULL COMMENT '内容',
  `status` tinyint(1) DEFAULT '0',
  `name` varchar(30) DEFAULT NULL,
  `website` varchar(200) DEFAULT NULL,
  `email` varchar(200) DEFAULT NULL,
  `ip` varchar(20) NOT NULL DEFAULT '' COMMENT 'ip',
  `createtime` int(10) unsigned NOT NULL COMMENT '发布时间',
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=93 DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `ablg_comment`
--

LOCK TABLES `ablg_comment` WRITE;
/*!40000 ALTER TABLE `ablg_comment` DISABLE KEYS */;
INSERT INTO `ablg_comment` VALUES (63,0,87,13,3,'来占个头条',1,'apacal','','apacal@126.com','127.0.0.1',1419922883),(64,0,87,13,0,'看看session 可用不?',1,'apacal','apacal.cn','apacal@126.com','127.0.0.1',1420389042),(65,63,87,13,9,'<blockquote><span style=\"font-weight: bold;\">Hello</span></blockquote><h1><br></h1>',1,'riched','apacal.cn','apacal@126.com','127.0.0.1',1421138784),(69,0,0,0,0,'Hello',0,NULL,NULL,NULL,'',0),(70,0,0,0,0,'Hello',0,NULL,NULL,NULL,'',0),(71,0,87,13,0,'Hello',1,'drfdf','','dffdf','127.0.0.1',1421146475),(78,0,0,13,3,'Hello',1,'apacal','','apacal@126.com','127.0.0.1',1421157469),(79,0,0,13,3,'Hello',1,'apacal','','apacal@126.com','127.0.0.1',1421157473),(80,0,0,13,3,'Hello',1,'apacal','','apacal@126.com','127.0.0.1',1421157493),(81,71,87,13,3,'Hello',1,'apacal','','apacal@126.com','127.0.0.1',1421157675),(82,81,87,13,3,'Hello',1,'apacal','','apacal@126.com','127.0.0.1',1421157679),(83,82,87,13,3,'Hello',1,'apacal','','apacal@126.com','127.0.0.1',1421157684),(84,65,87,13,3,'Hello',1,'apacal','','apacal@126.com','127.0.0.1',1421157693),(85,0,0,9,3,'Hello',1,'apacal','','apacal@126.com','127.0.0.1',1421158250),(86,0,111,9,3,'Hello',1,'apacal','','apacal@126.com','127.0.0.1',1421158842),(87,0,0,9,3,'Hello',1,'apacal','','apacal@126.com','127.0.0.1',1421158851),(88,0,110,9,3,'Hello',1,'apacal','','apacal@126.com','127.0.0.1',1421159004),(89,65,87,13,3,'Hello',1,'apacal','','apacal@126.com','127.0.0.1',1421162698),(90,88,110,9,3,'Hello',1,'apacal','','apacal@126.com','127.0.0.1',1421163689),(91,86,111,9,3,'Hello',1,'apacal','','apacal@126.com','127.0.0.1',1421163716),(92,91,111,9,3,'<blockquote>Hello</blockquote>',1,'apacal','','apacal@126.com','127.0.0.1',1421163737);
/*!40000 ALTER TABLE `ablg_comment` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `ablg_link`
--

DROP TABLE IF EXISTS `ablg_link`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `ablg_link` (
  `id` int(8) NOT NULL AUTO_INCREMENT,
  `title` varchar(100) NOT NULL,
  `url` varchar(500) NOT NULL,
  `status` int(1) NOT NULL,
  `sort` tinyint(3) DEFAULT NULL,
  `updatetime` int(10) NOT NULL,
  `uid` bigint(20) NOT NULL,
  `createtime` int(10) NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=10 DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `ablg_link`
--

LOCK TABLES `ablg_link` WRITE;
/*!40000 ALTER TABLE `ablg_link` DISABLE KEYS */;
INSERT INTO `ablg_link` VALUES (1,'www.cplusplus.com','http://www.cplusplus.com',1,5,1396279821,3,1395247581),(2,'酷壳– CoolShell.cn','http://coolshell.cn/',1,10,1405921665,3,1395295638),(3,'Mysql命令大全','http://see.xidian.edu.cn/cpp/u/mysql_ml/',1,-10,1395899021,3,1395317694),(4,'阮一峰的网络日志','http://www.ruanyifeng.com/blog/',1,0,1396279991,3,1395498307),(5,'平凡的世界博客','http://www.ccvita.com/',1,0,1396281157,3,1395502807),(7,' 团子的小窝','http://kodango.com/',1,0,1396280445,3,1395897689),(8,'赖明星 | 空谷幽兰','http://mingxinglai.com/cn',1,0,1396281619,3,1396281333),(9,' 刘未鹏 | Mind Hacks 思维改变生活','http://mindhacks.cn/',1,0,1396281561,3,1396281561);
/*!40000 ALTER TABLE `ablg_link` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `ablg_menu`
--

DROP TABLE IF EXISTS `ablg_menu`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `ablg_menu` (
  `id` smallint(5) unsigned NOT NULL AUTO_INCREMENT COMMENT 'id',
  `pid` smallint(5) unsigned NOT NULL DEFAULT '0' COMMENT '父结点',
  `name` varchar(100) NOT NULL DEFAULT '' COMMENT 'menu名称',
  `icon` varchar(100) NOT NULL DEFAULT 'icon-list' COMMENT 'icon',
  `url` char(80) DEFAULT NULL,
  `status` int(1) NOT NULL DEFAULT '1',
  `uid` bigint(20) DEFAULT NULL,
  `sort` tinyint(5) DEFAULT NULL,
  `createtime` int(10) NOT NULL,
  `updatetime` int(10) NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=53 DEFAULT CHARSET=utf8 COMMENT='menu';
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `ablg_menu`
--

LOCK TABLES `ablg_menu` WRITE;
/*!40000 ALTER TABLE `ablg_menu` DISABLE KEYS */;
INSERT INTO `ablg_menu` VALUES (4,6,'AddCMSMenu','glyphicon glyphicon-file','Menu/add',1,3,10,1417367458,1421846738),(5,18,'Post','glyphicon glyphicon-asterisk','',1,0,0,1417367815,1421659046),(6,9,'CMSMenu','glyphicon glyphicon-asterisk','',1,0,0,1417367412,1421658980),(8,6,'ManageCMSMenu','glyphicon glyphicon-cloud','Menu/manage',1,0,0,1417405863,1421658759),(9,0,'System Management','glyphicon glyphicon-cloud','',1,0,0,1417415010,1421656506),(11,9,'User','glyphicon glyphicon-asterisk','',1,0,10,1417418769,1421659012),(12,11,'AddUser','glyphicon glyphicon-user','User/add',1,0,10,1417419075,1422025482),(13,11,'ManageUser','glyphicon glyphicon-cloud','User/manage',1,0,0,1417419109,1421656788),(14,9,'BlogMenu','glyphicon glyphicon-asterisk','',1,0,0,1417420579,1421659068),(15,14,'AddBlogMenu','glyphicon glyphicon-file','Category/add',1,0,10,1417420622,1422025428),(16,14,'ManageBlogMenu','glyphicon glyphicon-cloud','Category/manage',1,0,0,1417420655,1422025421),(17,18,'Comment','glyphicon glyphicon-asterisk','',1,0,-10,1417429682,1422025593),(18,0,'Content Management ','glyphicon glyphicon-euro','',1,0,10,1417429737,1421659339),(19,17,'ManageComment','glyphicon glyphicon-comment','Comment/manage',1,0,0,1417429901,1421659272),(20,18,'Carousel','glyphicon glyphicon-asterisk','',1,0,0,1417430620,1421659414),(21,20,'AddCarousel','glyphicon glyphicon-picture','Advert/add',1,0,10,1417430645,1422025531),(22,20,'ManageCarousel','glyphicon glyphicon-cloud','Advert/manage',1,0,0,1417430670,1421659585),(23,18,'Note','glyphicon glyphicon-asterisk','',1,0,0,1417590242,1421659292),(24,23,'AddNote','glyphicon glyphicon-inbox','Note/add',1,0,10,1417590279,1422025520),(25,23,'ManageNote','glyphicon glyphicon-cloud','Note/manage',1,0,0,1417590309,1421659506),(29,5,'AddPost','glyphicon glyphicon-th-list','Article/add',1,0,10,1421681161,1422025546),(40,5,'ManagePost','glyphicon glyphicon-cloud','Article/manage',1,0,0,1421682711,1421685240),(41,9,'CMSAuth','glyphicon glyphicon-asterisk','',1,0,-1,1422023809,1422026531),(43,45,'ManageAuthRule','glyphicon glyphicon-file','AuthRule/manage',1,0,0,1422024111,1422024512),(45,41,'AuthRule','glyphicon glyphicon-cloud','',1,0,20,1422024251,1422025642),(46,45,'AddAuthRule','glyphicon glyphicon-file','AuthRule/add',1,0,10,1422024417,1422025459),(47,41,'AuthGroup','glyphicon glyphicon-cloud','',1,0,10,1422025312,1422025888),(48,47,'AddAuthGroup','glyphicon glyphicon-cloud','AuthGroup/add',1,0,10,1422025343,1422025683),(49,47,'ManageAuthGroup','glyphicon glyphicon-cloud','AuthGroup/manage',1,0,0,1422025351,1422025351),(50,41,'AuthGroupAccess','glyphicon glyphicon-cloud','',1,0,0,1422025801,1422025801),(51,50,'AddAuthGroupAccess','glyphicon glyphicon-cloud','AuthGroupAccess/add',1,0,10,1422025833,1422026580),(52,50,'ManageAuthGroupAccess','glyphicon glyphicon-asterisk','AuthGroupAccess/manage',1,0,0,1422025845,1422026594);
/*!40000 ALTER TABLE `ablg_menu` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `ablg_note`
--

DROP TABLE IF EXISTS `ablg_note`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `ablg_note` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `cid` int(11) DEFAULT '9',
  `pid` int(8) DEFAULT '0',
  `uid` bigint(20) DEFAULT '1',
  `content` varchar(1024) NOT NULL,
  `sort` tinyint(5) DEFAULT '0',
  `status` tinyint(4) DEFAULT '1',
  `agree` int(10) DEFAULT '0',
  `disagree` int(10) DEFAULT '0',
  `updatetime` int(11) DEFAULT NULL,
  `createtime` int(11) NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=112 DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `ablg_note`
--

LOCK TABLES `ablg_note` WRITE;
/*!40000 ALTER TABLE `ablg_note` DISABLE KEYS */;
INSERT INTO `ablg_note` VALUES (5,9,0,3,'                                                                                        花了一点时间终于把闲言杂语 弄好了．．．．                                                                                ',0,1,0,0,1421847674,1404840085),(6,9,0,3,'好吧，虽然页面布局不那么好看，将就着用吧．．．．',0,1,0,0,NULL,1404840649),(7,9,0,3,'vim中去除^M\r\n:%s/\\r\\+$//e',0,1,0,0,NULL,1404842176),(8,9,0,3,'这几天RP不好，上火了吗？牙疼的厉害。。。。',0,1,0,0,NULL,1404871006),(9,9,0,3,'加班加到死的节奏，１１点回来，然后就被锁在外面，刚刚回来．．．．．．',0,1,0,0,NULL,1404920274),(10,9,0,3,'大C++去了珠海，自己留在广州，路上自己选择的，必须坚持下去．．．虽然客户端也有诱惑力，操作系统，进程，线程很有趣，但是我更喜欢UNIX LIKE，更爱服务端．．．',0,1,0,0,NULL,1404920895),(11,9,0,3,'鸟毛明天一路走好，虽然老子很困，但是还是要喝点小酒。。。',0,1,0,0,NULL,1404927283),(16,9,0,3,'<pre>sudo kill -9 `ps -ef | grep tilda | awk \'{print $2}\'`</pre> 最近tilda的快捷键有时会死掉，tilda变成僵死进程了，使用上面的命令kill掉也可以是使用 下面的<pre>sudo kill -9 `ps -ef | pgrep tilda`</pre>',0,1,0,0,NULL,1404969388),(17,9,0,3,'<a href=\"http://ixdba.blog.51cto.com/2895551/806622\">实战Nginx与PHP（FastCGI）的安装、配置与优化 </a>好文章，配合这篇CGI <a href=\"http://www.apacal.cn/article/62.html\">FastCGI PHP-CGI PHP-FPM 和 SpawnCGI</a>来看懂了很多。 ',0,1,0,0,NULL,1404974633),(18,9,0,3,'Latex插入图片：\r\n<pre>\r\n\\begin{figure}[htbp]\r\n\r\n\\centering\r\n\r\n\\includegraphics[width=6.5cm]{graph.eps}\r\n\r\n\\caption{This is an inserted EPS graphic} \\label{fig:graph}\r\n\r\n\\end{figure}\r\n\r\n其中[htbp]就是浮动格式\r\n\r\nh 当前位置。将图形放置在正文文本中给出该图形环境的地方。如果本页所剩的页面不够，这一参数将不起作用。\r\n\r\nt 顶部。将图形放置在页面的顶部。\r\n\r\nb 底部。将图形放置在页面的底部。\r\n\r\np 浮动页。将图形放置在一只允许有浮动对象的页面上。\r\n\r\n一般使用[htb]这样的组合，只用[h]是没有用的（原因请读者思考）。这样组合的意思就是latex会尽量满足排在前面的浮动格式，就是h-t-b这个顺序，让排版的效果尽量好。反正记住，放轻松。\r\n</pre>',0,1,0,0,NULL,1404976116),(19,9,0,3,'NGINX　PATH_INFO\r\n<pre>\r\n## 支持pathinfo的重点部分\r\nset $path_info \"\";\r\nset $real_script_name $fastcgi_script_name;\r\nif ($fastcgi_script_name ~ \"^(.+?\\.php)(/.+)$\") {\r\n    set $real_script_name $1;\r\n    set $path_info $2;\r\n}\r\nfastcgi_param SCRIPT_FILENAME $document_root$real_script_name;\r\nfastcgi_param SCRIPT_NAME $real_script_name;\r\nfastcgi_param PATH_INFO $path_info;\r\n## 以上是支持pathinfo的重点部分\r\n</pre>\r\n放在include fastcgi_params前面，fastcgi_pass unix:/var/run/php5-fpm.sock后面',0,1,0,0,NULL,1405009984),(20,9,0,3,'又崩了一个，只能说明这个学期自己没有努力，有些基础知识还是需要的，需要加强的，以后有个压力迫使自己学习一下也是挺好的，这几天的任务就是好好学习TCP_IP，好好写实验报告．．．．',0,1,0,0,NULL,1405055046),(21,9,0,3,'ssh翻墙<pre>ssh -f -NT -D 127.0.0.1:7070 vpn.apacal.cn\r\nN参数，表示只连接远程主机，不打开远程shell；T参数，表示不为这个连接分配TTY。这个两个参数可以放在一起用，代表这个SSH连接只用来传数据，不执行远程操作。\r\nf参数，表示SSH连接成功后，转入后台运行。这样一来，你就可以在不中断SSH连接的情况下，在本地shell中执行其他操作。\r\n</pre>\r\n',0,1,0,0,NULL,1405063412),(22,9,0,3,'发现CURL是不能伪造REMOTE_IP的，REMOTE_IP实在TCP_IP建立连接是获取的．',0,1,0,0,NULL,1405107234),(23,9,0,3,'在车上睡觉，坐了个梦，梦见自己上班时，在睡觉，其他人在认真探讨问题，但是感觉整个大楼在晃动，梦中认为自己在做梦，努力睁开眼睛，果然是。。。',0,1,0,0,NULL,1405215417),(24,9,0,3,'睡在沙滩边，露营，听海哭的声音。。。',0,1,0,0,NULL,1405273566),(25,9,0,3,'终于看完了浪潮之颠，对科技公司和美国有一个了解，对云计算和互联网2.0有一定了解。。。。',0,1,0,0,NULL,1405351638),(26,9,0,3,'突然又一种看看比尔传的冲动，看看这种商业天才的人生。。。',0,1,0,0,NULL,1405396506),(27,9,0,3,'今晚技术组团建，各位大佬，回不去呀。。。。',0,1,0,0,NULL,1405408258),(28,9,0,3,'今天脑残了，背着一本UNIX环境高级编程去上班，一页都没有翻就背回来了，浪费体力了．．．',0,1,0,0,NULL,1405522835),(29,9,0,3,'今天产品的请我们去吃麻辣香锅，明天又是我们技术的团建，又去吃饭；今天第一次代码审查，发现好多自己挖的坑，学习了挺多东西．．．',0,1,0,0,NULL,1405522972),(30,9,0,3,'填坑是个耐心活，fix bug也是个耐心活，太痛苦了，必须学习学习设计模式，否则太坑爹了。。。',0,1,0,0,NULL,1405573746),(31,9,0,3,'所见即所得的编辑器不如手写标记的纯文本来的直接。　[TAOUP]',0,1,0,0,NULL,1405575502),(32,9,0,3,'不看unix编程艺术妄为unix爱好信仰者。。。',0,1,0,0,NULL,1405608599),(33,9,0,3,'ubuntu samba\r\n<pre>\r\nsudo smbpasswd -a user #修改密码或者添加用户\r\n \r\nsudo system-config-samba　＃　GUI管理工具\r\n\r\n</pre>',0,1,0,0,NULL,1405658680),(34,9,0,3,'今天下午睡了一下午，太颓废了。。。。',0,1,0,0,NULL,1405785046),(35,9,0,3,' 终于搞定了，弄了一个安卓的hello world.....',0,1,0,0,NULL,1405920811),(36,9,0,3,'Linux(Ubunut)连接小米调试\r\n在/etc/udev/rules.d/目录下新建一个51-android.rules文件，文件内容为：\r\n<pre>\r\nSUBSYSTEM == \"usb\",ENV{DEVTYPE} == \"usb_device\",MODE = \"0666\"\r\n#usb_device使用lsusb可以看到，我的小米，注意小米要拨号*#*#717717#*#*来安装驱动\r\nUBSYSTEM==\"usb\", SYSFS{idVendor}==\"05c6\", MODE=\"0666\"\r\n\r\nsudo chmod a+rx /etc/udev/rules.d/50-Android.rules\r\n\r\nsudo /etc/init.d/udev restart\r\n\r\nsudo adb kill-server\r\n\r\nsudo adb start-server\r\n\r\nsudo adb devices　\r\n＃此时应该可以看到你连接的设备型号。如果设备名称显示为“？？？？？？”，很可能就是你的51-android.rules文件的问题哦。重复前面几部应该就ok了。\r\n</pre>\r\n打开eclipse，运行你的程序。',0,1,0,0,NULL,1405921457),(37,9,0,3,'昨天太不正常，12点多说休息一下，就休息到6点，起来洗个澡，继续睡觉。。。。',0,1,0,0,NULL,1405980697),(38,9,0,3,'在线编译程序网站：<a href=\"http://codepad.org/\">http://codepad.org/</a>',0,1,0,0,NULL,1406009106),(39,9,0,3,'C/c++/JAVA是一条主线．．．好好学，又想学习js．．．',0,1,0,0,NULL,1406130141),(40,9,0,3,'nginx rewrite and proxy:\r\n<pre>\r\n    location ~* ^/v1/(.*) {\r\n            rewrite ^/v1/(.*) /t1/$1 break;\r\n            proxy_pass http://rank.800wen.com; \r\n    }\r\n</pre>\r\n将v1替换为t1再proxy',0,1,0,0,NULL,1406275329),(41,9,0,3,'炫酷的bash提示符，包含后台任务，全路径\r\n<pre>\r\nPS1=\"\\n\\[\\e[32;1m\\](\\[\\e[37;1m\\]\\u\\[\\e[32;1m\\])-(\\[\\e[37;1m\\]jobs:\\j\\[\\e[32;1m\\])-(\\[\\e[37;1m\\]\\w\\[\\e[32;1m\\])\\n(\\[\\[\\e[37;1m\\]! \\!\\[\\e[32;1m\\])-> \\[\\e[0m\\]\"\r\n</pre>\r\n放在~/.bashrc文件中\r\n',0,1,0,0,NULL,1406291665),(42,9,0,3,'要去找个地方好好看大教堂与集市，太有诱惑力。。。',0,1,0,0,NULL,1406367390),(43,9,0,3,'昨天做了件悲剧的事情，希望自己可以被原谅，自己确实是犯了很多错误，自己却一直在逃避。。。',0,1,0,0,NULL,1406599350),(44,9,0,3,'实习差不多三个月了，应了那句话，在现在互联网速度是第一要义，关键要快，能跑，快速迭代开发，只有少数几个能学习到很前沿的知识，数据库主从不需要自己设计，读写分离不需要自己弄，服务器负载均衡也不需要自己弄，全部用亚马逊，不想成为一个只为开发功能的人，必须多想，必须知其所以然。每天下班回来感觉好累，没有那种精力去学习，中午也觉得好累，没有精力去学习，这样子，然后能提升自己，只靠工作的时候，那太有限了。。最近比较累，比较烦躁，弄砸了很多事。把自己吊起来打吧。',0,1,0,0,NULL,1406610251),(45,9,0,3,'<pre>kill -HUP pid #发送HUP信号给pid的进程，一般发给nginx的master进程表示从容启动nginx</pre>',0,1,0,0,NULL,1406699747),(46,9,0,3,'今天被搞死了，在centos 6上安装一个samba一直没有写权限，原来是selinux搞的。。。关闭selinux吧\r\n<pre>\r\nsetenforce 0 #selinux 相关的命令\r\n#永久一点修改配置文件\r\nvim /etc/selinux/config\r\nSELINUX=disabled\r\n</pre>',0,1,0,0,NULL,1406808169),(47,9,0,3,'linux 修改用户组\r\n<pre>\r\nusermod -g group loginname 　＃强行设置某个用户所在组\r\nusermod -G groups loginname　＃把某个用户改为 group(s) \r\nusermod -a -G groups loginname　＃把用户添加进入某个组(s）\r\n</pre>',0,1,0,0,NULL,1406864262),(48,9,0,3,'vim powerline 插件，字体乱码，下载字体，地址：<a href=\"https://gist.github.com/epegzz/1634235#file-monaco_linux-powerline-ttf\">monaco_linux-powerline</a>在.vimrc加入\r\n<pre>\r\n\"powerline{\r\n set guifont=PowerlineSymbols\\ for\\ Powerline\r\n set nocompatible\r\n set t_Co=256\r\n let g:Powerline_symbols = \'fancy\' \"unicode也可以，就不需要安装字体\r\n \"}\r\n</pre>',0,1,0,0,NULL,1407128776),(49,9,0,3,'vim  command-t插件安装，编译。\r\n如果使用vundle管理，则在begin和end加入<code>Plugin \'wincent/command-t\'</code>如下：\r\n<pre>\r\n  call vundle#begin()\r\n  Plugin \'wincent/command-t\'\r\n  call vundle#end()\r\n</pre>\r\n再在vim中运行<code>PluginInstall</code>\r\n编译，需要ruby, ruby-dev<code>sudo apt-get install ruby-dev</code>\r\n<pre>\r\n cd ~/.vim/bundle/command-t/ruby/command-t                                                                                                                \r\n  ruby extconf.rb                                                                                                                                          \r\n  make   \r\n</pre>',0,1,0,0,NULL,1407144525),(50,9,0,3,'VIM注释和反注释：\r\nCtrl+v进入可视化列选择模式,移到光标到最后需要注释的行(注意,如果你知道行号,可以使用行号G(大写的G)快速跳到该行),然后按I(大写),进入插入模式,输入注释符,比如C++/C#/Java是//,然后按ESC键回到命令模式.\r\n反注释怎么办呢?更简单了,同样Ctrl+v进入列选择模式,移到光标把注释符选中,按下d',0,1,0,0,NULL,1407215868),(51,9,0,3,'像某人说的，舍不得就再尝试下，不希望自己后悔。如果真的真的不适合那就早点放开，否则对谁都不好。',0,1,0,0,NULL,1407291315),(52,9,0,3,'两个星期把《大教堂与集市》看完，了解了黑客，Geek（极客）以及开源运动。。。',0,1,0,0,NULL,1407822001),(53,9,0,3,'<pre>\r\n    location ~* ^/(v[0-9]+)/(.*) {\r\n        set $V $1;\r\n        if ($args ~ \"ver=([0-9]+)\") {\r\n            set $ver $1;\r\n            rewrite ^/([^/]*)/([^/]*)/([^\\?]*)?(.*) /$V.$ver/api/$3.php?api=$3&ditch=$2&uri=/$1/$2/$3$4 last;\r\n        }\r\n        rewrite ^/([^/]*)/([^/]*)/([^\\?]*)?(.*) /$V.000/api/$3.php?api=$3&ditch=$2&uri=/$1/$2/$3$4 last;\r\n\r\n    }\r\n\r\n</pre>\r\nnginx rewrite做版本管理，只开放api接口\r\n<pre>\r\n/v1/facebook/login  --> /v1.000/api/login.php\r\n/v1/facebook/login?ver=001  --> /v1.001/api/login.php\r\n/v2/facebook/login  --> /v2.000/api/login.php\r\n/v2/facebook/login?ver=001  --> /v2.001/api/login.php\r\n</pre>',0,1,0,0,NULL,1408074109),(54,9,0,3,'perl很好玩，简化了很多东西，如果不知道一些简单的知识根本就看不懂程序，小骆驼书很不错。\r\n<pre>\r\nwhile (<STDIN>) {\r\n    print $_;\r\n}\r\n</pre>',0,1,0,0,NULL,1408625044),(55,9,0,3,'每次成长都想蜕皮一样，都是痛苦的。',0,1,0,0,NULL,1408933639),(56,9,0,3,'把自己当成一头猪，能放弃小聪明，拥抱大聪明。',0,1,0,0,NULL,1408933842),(57,9,0,3,'人总是在自信和自悲之间切换。',0,1,0,0,NULL,1408935485),(58,9,0,3,'一件事情重不重要，看你肯不肯投入时间。',0,1,0,0,NULL,1408937308),(59,9,0,3,'nginx的配置中不支持if条件的逻辑与／逻辑或运算 ，并且不支持if的嵌套语法，我们可以用变量的方式来实现：\r\n\r\n首先是伪代码（即不被nginx支持），写在这里只是为了方便理解：\r\n<pre>\r\nif ($remote_addr ~ \"^(12.34|56.78)\" && $http_user_agent ~* \"spider\") {\r\n    return 403;\r\n}\r\n</pre>\r\n这是等效的，并真实可用的配置\r\n<pre>\r\nset $flag 0;\r\nif ($remote_addr ~ \"^(12.34|56.78)\") {\r\n    set $flag \"${flag}1\";\r\n}\r\nif ($http_user_agent ~* \"spider\") {\r\n    set $flag \"${flag}2\";\r\n}\r\nif ($flag = \"012\") {\r\n    return 403;\r\n}\r\n</pre>',0,1,0,0,NULL,1408959738),(60,9,0,3,'makedown生成目录，只限html.<br />\r\n安装tocmd（需要安装ruby并且使用淘宝的源)\r\n<pre>\r\ngem install tocmd\r\n</pre>\r\n用法:<br />\r\n指定单个文件\r\n<pre>\r\ntocmd -f shiti.md\r\n</pre>\r\n指定目录\r\n<pre>\r\ntocmd -d .\r\n</pre>',0,1,0,0,NULL,1409105287),(61,9,0,3,'好像大哭一场，自己就是个神经病，为什么会这样呢。。。',0,1,0,0,NULL,1409155888),(62,9,0,3,'代码的读者分为两类：执行代码的机器和维护代码的人类。如果人类都无法理解你写的程序，那迟早机器也会做错事情。',0,1,0,0,NULL,1409549594),(63,9,0,3,'我从来不认为传统文化就是封建，就是洗脑，带着思考去学习传统文化，去强大自己的精神。',0,1,0,0,NULL,1409549741),(64,9,0,3,'MySQL INSERT插入条件判断：如果不存在则插入<br />\r\nNSERT INTO IF EXISTS 具体语法如下：\r\n<pre>\r\nINSERT INTO table(field1, field2, fieldn) SELECT \'field1\', \'field2\', \'fieldn\' FROM DUAL WHERE NOT EXISTS(SELECT field FROM table WHERE field = ?)\r\n</pre>\r\n其中的 DUAL 是一个临时表，不需要物理创建，这么用即可。\r\n<pre>\r\nINSERT INTO card(cardno, cardnum) SELECT \'111\', \'100\' FROM DUAL WHERE NOT EXISTS(SELECT cardno FROM card WHERE cardno = \'111\');\r\n</pre>',0,1,0,0,NULL,1409707563),(65,9,0,3,'<a href=\"http://www.bootcss.com/p/git-guide/\">git - 简易指南</a>',0,1,0,0,NULL,1409708003),(66,9,0,3,'mysql 查看存储过程和函数\r\n<pre>\r\nshow create procedure proc_name;\r\nshow create function func_name;\r\n</pre>',0,1,0,0,NULL,1409795398),(67,9,0,3,'VIM之emmet（html, css神器）\r\n<pre>\r\n: help emmet\r\n</pre>',0,1,0,0,NULL,1409907253),(68,9,0,3,'只有懂得设计的黑客，才能设计软件，不要交给对软件一知半解的设计师，如果你不打算自己动手设计和开发就不要创业。【黑客与画家-第五章】',0,1,0,0,NULL,1409998153),(69,9,0,3,'自己真的很sb，很贱。',0,1,0,0,NULL,1410110803),(70,9,0,3,'<a href＝\"http://lifehacker.com/\">http://lifehacker.com/</a>一个很好的国外网站',0,1,0,0,NULL,1410419467),(71,9,0,3,'有必要整理一下几个比较好的国外网站：<br />\n<a href=\"https://news.ycombinator.com/\">https://news.ycombinator.com/</a>  －－一个黑客new的网站，一个大集合<br />\n<a hre=\"http://highscalability.com/\">http://highscalability.com/</a> －－一个关于建造高性能，稳定的网站的新闻站点<br />\n<a href=\"http://lifehacker.com\">http://lifehacker.com</a>',0,1,0,0,NULL,1410420315),(72,9,0,3,'今天弄了个VPN，一直800错误，直接把iptables关掉。。。\r\n<pre>\r\n    iptables -P INPUT ACCEPT  \r\n    iptables -P OUTPUT ACCEPT  \r\n    iptables -F  \r\n    iptables -X  \r\n    iptables -P INPUT ACCEPT  \r\n    iptables -P OUTPUT ACCEPT  \r\n    /etc/init.d/iptables save   \r\n</pre>',0,1,0,0,NULL,1410945817),(73,9,0,3,'在CentOS 6.0下面永久关闭SELinux  \r\n<pre>\r\nvi /etc/selinux/config\r\n\r\n#SELINUX=enforcing     #注释掉\r\n#SELINUXTYPE=targeted  #注释掉\r\nSELINUX=disabled  #增加\r\n\r\n\r\n:wq  #保存，关闭。\r\nshutdown -r now   #重启系统\r\n\r\n#查看SELinux的状态：\r\ngetenforce\r\n</pre>',0,1,0,0,NULL,1410947332),(74,9,0,3,'centos 6.5 64bit vpn脚步\r\n<pre>\r\nwget http://www.auvps.com/wp-content/uploads/centos6_pptpd.sh\r\n\r\n\r\n#如果VPN上去之后上不了外网，指执行下：\r\n\r\niptables -t nat -A POSTROUTING -j MASQUERADE\r\n</pre>',0,1,0,0,NULL,1410947691),(75,9,0,3,'centos vpn　记得把selinux关闭。',0,1,0,0,NULL,1410947720),(78,9,0,3,'mysql　创建用户和授权 \r\n<pre>\r\nuser mysql;\r\ninsert into mysql.user (host,user,password) values(\'locahost\',\'apacal\',PASSWORD(\'dev2014\'));\r\n     \r\n#添加权限\r\ngrant all privileges on apacalblog.* to apacal@localhost;\r\n  \r\n#更新privileges\r\nFLUSH PRIVILEGES;\r\n\r\n#撤销权限\r\nREVOKE ALL PRIVILEGES ON `mysql`.`apacalblog` FROM \'apacal\'@\'localhost\'; \r\n\r\n#查看权限\r\nshow grants;//自己\r\nshow grants for apacal@localhost;//指定用户指定host\r\n\r\n</pre>',0,1,0,0,NULL,1411371668),(79,9,0,3,'很不起某人，让其受到太多伤害了，可能也没有机会去弥补。',0,1,0,0,NULL,1411464684),(80,9,0,3,'ubuntu添加和移除开机启动：\r\n<pre>\r\nsudo update-rc.d -f redis-server default  \r\nsudo update-rc.d -f redis-server remove\r\n</pre>',0,1,0,0,NULL,1411464794),(81,9,0,3,'很对不起某人，让其受到太多伤害了，可能也没有机会去弥补。',0,1,0,0,NULL,1411464911),(82,9,0,3,'ubuntu查看服务列表\r\n<pre>\r\nservice --status-all \r\n</pre>',0,1,0,0,NULL,1411525422),(83,9,0,3,'自以为这几个月成长了很多，但是现实是。。。静下心来想一想学到了啥，挫折能让自己认识到自己的不足，去改变。。',0,1,0,0,NULL,1411533324),(84,9,0,3,'几篇理解TCP/IP的文章，结合wireshark抓包理解最好。。\r\n<br />\r\n<a href=\"http://www.cnblogs.com/kzloser/articles/2582349.html\">(网络层)IP 协议首部格式与其配套使用的四个协议(ARP,RARP,ICMP,IGMP)</a>\r\n<br />\r\n<a href=\"http://www.ruanyifeng.com/blog/2012/05/internet_protocol_suite_part_i.html\">互联网协议入门（一）</a>',0,1,0,0,NULL,1411552993),(85,9,0,3,'我想要一个kindle，但是有舍不得花钱，看来需要找其他一些途径来挣钱了。。。。',0,1,0,0,NULL,1411727731),(86,9,0,3,'等待的时候是最难过的，但是也是值得的。',0,1,0,0,NULL,1411727763),(87,9,0,3,'看了老男孩，内心有太多感触了，我想好好宠一个人，去补偿我犯的错，想好好报答父母，可是自己做的确实很失败，伤害了一个人，从读高中开始就自以为自己成绩好，对父母不好，发脾气，父母太宠爱我了，家里唯一的男孩，现在有一定能力去报答父母，可是自己还是太小孩子脾气了，经常和姐姐吵架，暑假没有回去，父母爷爷奶奶，姐姐，小外甥女都想我回去，但是我还是太任性了，从来都忽视爱我的人的感受，对父母，姐姐发脾气，自己把其看得那么重要，可能啥也不是，只是想弥补我的错误，以及一些不能解释的事情，或许我应该放手，好好生活。',0,1,0,0,NULL,1411889999),(88,9,0,3,'当我真的啥也做不了的时候，我想我要放手。',0,1,0,0,NULL,1411890130),(89,9,0,3,'python打印path\r\n<pre>\r\n>>> import sys                                                               \r\n>>> for line in sys.path:print line\r\n</pre>\r\n',0,1,0,0,NULL,1413016736),(90,9,0,3,'django建立一个project和一个apps\r\n<pre>\r\ndjango-admin.py startproject mysite\r\npython manage.py startapp books\r\n</pre>',0,1,0,0,NULL,1413273113),(91,9,0,3,'最近在看django，<a href=\"http://www.djangobook.com/en/2.0/chapter05.html\">djangobook</a>写的很好，和以前使用的thinkphp结合一下，感受颇多的。。。',0,1,0,0,NULL,1413275330),(92,9,0,3,'django安装models\r\n<pre>\r\npython manage.py validate\r\npython manage.py sqlall books\r\n</pre>',0,1,0,0,NULL,1413279254),(93,9,0,3,'django同步数据库\r\n<pre>\r\npython manage.py syncdb\r\n</pre>',0,1,0,0,NULL,1413290460),(94,9,0,3,'转到备份大师有一个多星期了，python也比较熟悉了，django也有一些熟悉，加油！！！',0,1,0,0,NULL,1414134496),(95,9,0,3,'华师校园网密码修改入口地址\r\n<a href=\"http://202.116.32.87/selfservice/login\">http://202.116.32.87/selfservice/login</a>',0,1,0,0,NULL,1414239702),(96,9,0,3,'故好而知其恶，恶而知其美者，天下鲜矣。\"人莫知其子之恶，莫知其苗之硕\"',0,1,0,0,NULL,1414337547),(97,9,0,3,'懂科学才能防治。',0,1,0,0,NULL,1414374995),(98,9,0,3,'做重要的事情，有限时间的单点上爆破；user in control意味着工作重点的重构；生产不会是瓶颈，用户感知才会是；高效时间管理；资源不够用的本质是你不会利用资源；',0,1,0,0,NULL,1414380473),(99,9,0,3,'贴一下自己的ubuntu 源，电信网：\r\n<pre>\r\n(! 1999)-> cat /etc/issue\r\nUbuntu 14.04 LTS \\n \\l\r\n\r\n\r\n(apacal)-(jobs:0)-(~)\r\n(! 2000)-> uname -a\r\nLinux apacal-apacal 3.13.0-24-generic #46-Ubuntu SMP Thu Apr 10 19:11:08 UTC 2014 x86_64 x86_64 x86_64 GNU/Linux\r\n</pre>\r\n<pre>\r\ndeb http://mirrors.aliyun.com/ubuntu/ precise main restricted universe multiverse\r\n\r\ndeb http://mirrors.aliyun.com/ubuntu/ precise-security main restricted universe multiverse\r\n\r\ndeb http://mirrors.aliyun.com/ubuntu/ precise-updates main restricted universe multiverse\r\n\r\ndeb http://mirrors.aliyun.com/ubuntu/ precise-proposed main restricted universe multiverse\r\n\r\ndeb http://mirrors.aliyun.com/ubuntu/ precise-backports main restricted universe multiverse\r\n\r\ndeb-src http://mirrors.aliyun.com/ubuntu/ precise main restricted universe multiverse\r\n\r\ndeb-src http://mirrors.aliyun.com/ubuntu/ precise-security main restricted universe multiverse\r\n\r\ndeb-src http://mirrors.aliyun.com/ubuntu/ precise-updates main restricted universe multiverse\r\n\r\ndeb-src http://mirrors.',0,1,0,0,NULL,1414725993),(100,9,0,3,'Ubuntu kylin 14.10发布会派对，很不错。',0,1,0,0,NULL,1414830321),(101,9,0,3,'转换(cast)其实是一种编译器指令，大部分情况下它并不改变一个指针所含的真正地址，它只是影响“被指出之内存的大小和其内容”的解释方式。',0,1,0,0,NULL,1414905125),(102,9,0,3,'学习tornado走起，epoll,异步非阻塞。。。。',0,1,0,0,NULL,1415165284),(103,9,0,3,'introduce to tornado <a href=\"http://demo.pythoner.com/itt2zh/ch1.html\">http://demo.pythoner.com/itt2zh/ch1.html</a>',0,1,0,0,NULL,1415347396),(104,9,0,3,'更简洁地复用以前写的代码。',0,1,0,0,NULL,1415350104),(105,9,0,3,'当你累的时候，说明你在成长，你不累，说明你在打酱油，你就危险了。',0,1,0,0,NULL,1415351319),(106,9,0,3,'ubuntu的源好重要，不要乱搞，否则你就惨了。。',0,1,0,0,NULL,1415692477),(107,9,0,3,'今天换回gnome3.1.2，不用cairo-dock了',0,1,0,0,NULL,1415692556),(108,9,0,3,'ubuntu 装了小企鹅后记得把ibus remove，否则输入会很慢的。',0,1,0,0,NULL,1415692611),(109,9,0,3,'ubuntu 14.04源列表<a href=\'http://wiki.ubuntu.org.cn/Qref/Source\'>http://wiki.ubuntu.org.cn/Qref/Source</a>',0,1,0,0,NULL,1415721236),(110,9,0,3,'vim打开多个文件并切换\r\n<pre>\r\n# 打开文件\r\n:e ../myFile.pl\r\n# 显示缓存\r\n:ls\r\n# 切换\r\n:b [filename]\r\n:bn (n a number) move to nth buffer\r\n:bp previous buffer\r\n:bn next buffer\r\n</pre>\r\n\r\n',0,1,0,0,NULL,1415777162),(111,9,0,3,'hoststool:<a href=\"https://hosts.huhamhire.com/\">https://hosts.huhamhire.com/</a>',0,1,0,0,NULL,1415965457);
/*!40000 ALTER TABLE `ablg_note` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `ablg_term_relationships`
--

DROP TABLE IF EXISTS `ablg_term_relationships`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `ablg_term_relationships` (
  `object_id` bigint(20) unsigned NOT NULL DEFAULT '0',
  `term_taxonomy_id` bigint(20) unsigned NOT NULL DEFAULT '0',
  `term_order` int(11) NOT NULL DEFAULT '0',
  PRIMARY KEY (`object_id`,`term_taxonomy_id`),
  KEY `term_taxonomy_id` (`term_taxonomy_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `ablg_term_relationships`
--

LOCK TABLES `ablg_term_relationships` WRITE;
/*!40000 ALTER TABLE `ablg_term_relationships` DISABLE KEYS */;
INSERT INTO `ablg_term_relationships` VALUES (4,17,0),(64,7,0),(78,6,0),(78,7,0),(79,6,0),(79,7,0),(80,8,0),(82,1,0),(82,7,0),(82,8,0),(82,9,0),(82,16,0),(83,9,0),(84,8,0),(84,15,0),(85,6,0),(85,7,0),(85,9,0),(86,1,0),(86,6,0),(86,7,0),(86,8,0),(86,9,0),(86,10,0),(86,11,0),(86,12,0),(86,14,0),(87,13,0);
/*!40000 ALTER TABLE `ablg_term_relationships` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `ablg_term_taxonomy`
--

DROP TABLE IF EXISTS `ablg_term_taxonomy`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `ablg_term_taxonomy` (
  `term_taxonomy_id` bigint(20) unsigned NOT NULL AUTO_INCREMENT,
  `term_id` bigint(20) unsigned NOT NULL DEFAULT '0',
  `taxonomy` varchar(32) NOT NULL DEFAULT '',
  `description` longtext NOT NULL,
  `parent` bigint(20) unsigned NOT NULL DEFAULT '0',
  `count` bigint(20) NOT NULL DEFAULT '0',
  PRIMARY KEY (`term_taxonomy_id`),
  UNIQUE KEY `term_id_taxonomy` (`term_id`,`taxonomy`),
  KEY `taxonomy` (`taxonomy`)
) ENGINE=InnoDB AUTO_INCREMENT=18 DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `ablg_term_taxonomy`
--

LOCK TABLES `ablg_term_taxonomy` WRITE;
/*!40000 ALTER TABLE `ablg_term_taxonomy` DISABLE KEYS */;
INSERT INTO `ablg_term_taxonomy` VALUES (6,4,'Article','',0,12),(7,5,'Article','',0,21),(8,6,'Article','',0,20),(9,7,'Article','',0,18),(10,8,'Article','',0,7),(11,9,'Article','',0,4),(12,10,'Article','',0,0),(13,11,'Article','',0,0),(14,1,'Article','',0,3),(15,12,'Article','',0,0),(16,13,'Article','',0,0),(17,6,'CONTROLLlsslsER_NAME','',0,0);
/*!40000 ALTER TABLE `ablg_term_taxonomy` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `ablg_terms`
--

DROP TABLE IF EXISTS `ablg_terms`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `ablg_terms` (
  `term_id` bigint(20) unsigned NOT NULL AUTO_INCREMENT,
  `name` varchar(200) NOT NULL DEFAULT '',
  `slug` varchar(200) NOT NULL DEFAULT '',
  `term_group` bigint(10) NOT NULL DEFAULT '0',
  PRIMARY KEY (`term_id`),
  UNIQUE KEY `slug` (`slug`),
  KEY `name` (`name`)
) ENGINE=InnoDB AUTO_INCREMENT=14 DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `ablg_terms`
--

LOCK TABLES `ablg_terms` WRITE;
/*!40000 ALTER TABLE `ablg_terms` DISABLE KEYS */;
INSERT INTO `ablg_terms` VALUES (4,'WEB','WEB',0),(5,'LINUX','LINUX',0),(6,'PHP','PHP',0),(7,'互联网','互联网',0),(8,'调试','调试',0),(9,'PHP单步调试','PHP单步调试',0),(10,'PHPSTORM','PHPSTORM',0),(11,'ABOUT ME','ABOUT ME',0),(12,'CACHE','CACHE',0),(13,'实习','实习',0);
/*!40000 ALTER TABLE `ablg_terms` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `ablg_user`
--

DROP TABLE IF EXISTS `ablg_user`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `ablg_user` (
  `uid` bigint(20) NOT NULL AUTO_INCREMENT,
  `name` varchar(30) DEFAULT NULL,
  `email` varchar(20) NOT NULL DEFAULT '',
  `website` varchar(200) DEFAULT '',
  `image` varchar(200) DEFAULT NULL,
  `pwd` varchar(300) NOT NULL DEFAULT '',
  `status` tinyint(1) unsigned NOT NULL DEFAULT '1',
  `logintime` int(10) unsigned NOT NULL DEFAULT '0',
  `loginip` varchar(20) NOT NULL DEFAULT '',
  `createtime` int(10) unsigned NOT NULL DEFAULT '0',
  `updatetime` int(10) unsigned NOT NULL DEFAULT '0',
  PRIMARY KEY (`uid`),
  UNIQUE KEY `name` (`name`),
  KEY `uindex` (`name`)
) ENGINE=InnoDB AUTO_INCREMENT=11 DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `ablg_user`
--

LOCK TABLES `ablg_user` WRITE;
/*!40000 ALTER TABLE `ablg_user` DISABLE KEYS */;
INSERT INTO `ablg_user` VALUES (3,'apacal','apacal@126.com','','/Uploads/Avatar/image/20150113/54b50954c9750.png','a08c34e42ffd57c6512a87375090815aefe8d9c1d250429dd0bb6cfbd482646a:p/L+k6D7lo04WyV0+oZk5QlknYKa/mLq/ZqZBOFiVOo9EzhYxzdB3i2+n1S6YXIA91aIoZAOVxEdcBQUAdPHCQ==',1,1422109928,'127.0.0.1',1395221198,1421846633),(9,'riched','apacal@126.com','apacal.cn','/Uploads/Avatar/image/20150113/54b4c24ea3b4e.jpg','d6a05c1ae055c7119ce9c58735b7dbc5c7fa4899b4b2a461f718549c45a8de4e:u6vCb6MTXpcmOkbjwVD70PoHiDPOW/YJJjyFfw9Aj16zoDLABS7FjLgK77KDocPY9YeSH4yGmSJxz/bLa0ke8A==',1,1421756305,'127.0.0.1',1420358644,1421756295),(10,'admin','apacal@126.com','',NULL,'a15812ca3ec89ff0ab7ee2e527dc8821f8efbbd20d48eca13a92a8e0b975503b:0wLBsgj22BE5gIRIVkacfmWjN7Yv2vUzu/UHcCe8ya+toKLKgPwCIqBkDHqA1dMKZNlML3lT2JUN5t0jHjAT5Q==',1,1420549940,'127.0.0.1',1420548491,1420549933);
/*!40000 ALTER TABLE `ablg_user` ENABLE KEYS */;
UNLOCK TABLES;
/*!40103 SET TIME_ZONE=@OLD_TIME_ZONE */;

/*!40101 SET SQL_MODE=@OLD_SQL_MODE */;
/*!40014 SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS */;
/*!40014 SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS */;
/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
/*!40111 SET SQL_NOTES=@OLD_SQL_NOTES */;

-- Dump completed on 2015-01-24 22:33:05
